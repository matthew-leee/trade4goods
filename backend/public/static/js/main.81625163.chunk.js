(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t){},145:function(e,t,a){e.exports=a.p+"static/media/loadingpic.2fe17f6a.gif"},228:function(e,t,a){e.exports=a(419)},233:function(e,t,a){},414:function(e,t,a){},419:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(18),s=a.n(o),l=(a(233),a(8)),i=a(9),c=a(11),d=a(10),u=a(12),p=(a(235),a(237),a(27)),m=a(5),h=a.n(m),g=a(19),f=a(32),y=a(3),v=a.n(y),E=a(481),w=a(420),b=a(486),C=a(421),O=a(24),x={cursor:"pointer",position:"absolute",display:"block",padding:"2px 5px",lineHeight:"20px",right:"45px",top:"45px",color:"grey",fontSize:"50px"},M={width:"100%",height:"100%",padding:"12px",backgroundColor:"#f2f2f2"},k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).openModal=function(){a.setState({open:!0})},a.closeModal=function(){a.setState({open:!1})},a.state={open:!0},a.openModal=a.openModal.bind(Object(f.a)(Object(f.a)(a))),a.closeModal=a.closeModal.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(O.a,{open:this.state.open,closeOnDocumentClick:!0,onClose:this.props.openTerms,contentStyle:{height:"100%"}},n.a.createElement("div",{style:M},n.a.createElement("a",{style:x,onClick:this.props.openTerms},"\xd7"),n.a.createElement("div",{style:{overflow:"scroll",height:"100%"}},n.a.createElement("h2",null,"Welcome to trade4goods"),n.a.createElement("p",null,"These terms and conditions outline the rules and regulations for the use of trade4goods's Website.")," ",n.a.createElement("br",null),n.a.createElement("span",{style:{textTransform:"capitalize"}}," trade4goods")," is located at:",n.a.createElement("br",null),n.a.createElement("p",null,"By accessing this website we assume you accept these terms and conditions in full. Do not continue to use trade4goods's website if you do not accept all of the terms and conditions stated on this page."),n.a.createElement("p",null,"The following terminology applies to these Terms and Conditions, Privacy Statement and Disclaimer Notice and any or all Agreements: \u201cClient\u201d, \u201cYou\u201d and \u201cYour\u201d refers to you, the person accessing this website and accepting the Company\u2019s terms and conditions. \u201cThe Company\u201d, \u201cOurselves\u201d, \u201cWe\u201d, \u201cOur\u201d and \u201cUs\u201d, refers to our Company. \u201cParty\u201d, \u201cParties\u201d, or \u201cUs\u201d, refers to both the Client and ourselves, or either the Client or ourselves. All terms refer to the offer, acceptance and consideration of payment necessary to undertake the process of our assistance to the Client in the most appropriate manner, whether by formal meetings of a fixed duration, or any other means, for the express purpose of meeting the Client\u2019s needs in respect of provision of the Company\u2019s stated services/products, in accordance with and subject to, prevailing law of asd. Any use of the above terminology or other words in the singular, plural, capitalisation and/or he/she or they, are taken as interchangeable and therefore as referring to same."),n.a.createElement("h2",null,"Cookies"),n.a.createElement("p",null,"We employ the use of cookies. By using trade4goods's website you consent to the use of cookies in accordance with trade4goods\u2019s privacy policy."),n.a.createElement("p",null,"Most of the modern day interactive web sites use cookies to enable us to retrieve user details for each visit. Cookies are used in some areas of our site to enable the functionality of this area and ease of use for those people visiting. Some of our affiliate / advertising partners may also use cookies."),n.a.createElement("h2",null,"License"),n.a.createElement("p",null,"Unless otherwise stated, trade4goods and/or it\u2019s licensors own the intellectual property rights for all material on trade4goods. All intellectual property rights are reserved. You may view and/or print pages from https://www.trade4goods.com for your own personal use subject to restrictions set in these terms and conditions."),n.a.createElement("p",null,"You must not:"),n.a.createElement("ol",null,n.a.createElement("li",null,"Republish material from https://www.trade4goods.com"),n.a.createElement("li",null,"Sell, rent or sub-license material from https://www.trade4goods.com"),n.a.createElement("li",null,"Reproduce, duplicate or copy material from https://www.trade4goods.com")),n.a.createElement("p",null,"Redistribute content from trade4goods (unless content is specifically made for redistribution)."),n.a.createElement("h2",null,"User Comments"),n.a.createElement("ol",null,n.a.createElement("li",null,"This Agreement shall begin on the date hereof."),n.a.createElement("li",null,"Certain parts of this website offer the opportunity for users to post and exchange opinions, information, material and data ('Comments') in areas of the website. trade4goods does not screen, edit, publish or review Comments prior to their appearance on the website and Comments do not reflect the views or opinions oftrade4goods, its agents or affiliates. Comments reflect the view and opinion of the person who posts such view or opinion. To the extent permitted by applicable laws trade4goodsshall not be responsible or liable for the Comments or for any loss cost, liability, damages or expenses caused and or suffered as a result of any use of and/or posting of and/or appearance of the Comments on this website."),n.a.createElement("li",null,"trade4goodsreserves the right to monitor all Comments and to remove any Comments which it considers in its absolute discretion to be inappropriate, offensive or otherwise in breach of these Terms and Conditions."),n.a.createElement("li",null,"You warrant and represent that:",n.a.createElement("ol",null,n.a.createElement("li",null,"You are entitled to post the Comments on our website and have all necessary licenses and consents to do so;"),n.a.createElement("li",null,"The Comments do not infringe any intellectual property right, including without limitation copyright, patent or trademark, or other proprietary right of any third party;"),n.a.createElement("li",null,"The Comments do not contain any defamatory, libelous, offensive, indecent or otherwise unlawful material or material which is an invasion of privacy"),n.a.createElement("li",null,"The Comments will not be used to solicit or promote business or custom or present commercial activities or unlawful activity."))),n.a.createElement("li",null,"You hereby grant to ",n.a.createElement("strong",null,"trade4goods")," a non-exclusive royalty-free license to use, reproduce, edit and authorize others to use, reproduce and edit any of your Comments in any and all forms, formats or media.")),n.a.createElement("h2",null,"Hyperlinking to our Content"),n.a.createElement("ol",null,n.a.createElement("li",null,"The following organizations may link to our Web site without prior written approval:",n.a.createElement("ol",null,n.a.createElement("li",null,"Government agencies;"),n.a.createElement("li",null,"Search engines;"),n.a.createElement("li",null,"News organizations;"),n.a.createElement("li",null,"Online directory distributors when they list us in the directory may link to our Web site in the same manner as they hyperlink to the Web sites of other listed businesses; and"),n.a.createElement("li",null,"Systemwide Accredited Businesses except soliciting non-profit organizations, charity shopping malls, and charity fundraising groups which may not hyperlink to our Web site.")))),n.a.createElement("ol",{start:"2"},n.a.createElement("li",null,"These organizations may link to our home page, to publications or to other Web site information so long as the link: (a) is not in any way misleading; (b) does not falsely imply sponsorship, endorsement or approval of the linking party and its products or services; and (c) fits within the context of the linking party's site."),n.a.createElement("li",null,"We may consider and approve in our sole discretion other link requests from the following types of organizations:",n.a.createElement("ol",null,n.a.createElement("li",null,"commonly-known consumer and/or business information sources such as Chambers of Commerce, American Automobile Association, AARP and Consumers Union;"),n.a.createElement("li",null,"dot.com community sites;"),n.a.createElement("li",null,"associations or other groups representing charities, including charity giving sites,"),n.a.createElement("li",null,"online directory distributors;"),n.a.createElement("li",null,"internet portals;"),n.a.createElement("li",null,"accounting, law and consulting firms whose primary clients are businesses; and"),n.a.createElement("li",null,"educational institutions and trade associations.")))),n.a.createElement("p",null,"We will approve link requests from these organizations if we determine that: (a) the link would not reflect unfavorably on us or our accredited businesses (for example, trade associations or other organizations representing inherently suspect types of business, such as work-at-home opportunities, shall not be allowed to link); (b)the organization does not have an unsatisfactory record with us; (c) the benefit to us from the visibility associated with the hyperlink outweighs the absence of ; and (d) where the link is in the context of general resource information or is otherwise consistent with editorial content in a newsletter or similar product furthering the mission of the organization."),n.a.createElement("p",null,"These organizations may link to our home page, to publications or to other Web site information so long as the link: (a) is not in any way misleading; (b) does not falsely imply sponsorship, endorsement or approval of the linking party and it products or services; and (c) fits within the context of the linking party's site."),n.a.createElement("p",null,"If you are among the organizations listed in paragraph 2 above and are interested in linking to our website, you must notify us by sending an e-mail to ",n.a.createElement("a",{href:"mailto:asdasd@gami.com",title:"send an email to asdasd@gami.com"},"asdasd@gami.com"),". Please include your name, your organization name, contact information (such as a phone number and/or e-mail address) as well as the URL of your site, a list of any URLs from which you intend to link to our Web site, and a list of the URL(s) on our site to which you would like to link. Allow 2-3 weeks for a response."),n.a.createElement("p",null,"Approved organizations may hyperlink to our Web site as follows:"),n.a.createElement("ol",null,n.a.createElement("li",null,"By use of our corporate name; or"),n.a.createElement("li",null,"By use of the uniform resource locator (Web address) being linked to; or"),n.a.createElement("li",null,"By use of any other description of our Web site or material being linked to that makes sense within the context and format of content on the linking party's site.")),n.a.createElement("p",null,"No use of trade4goods\u2019s logo or other artwork will be allowed for linking absent a trademark license agreement."),n.a.createElement("h2",null,"Iframes"),n.a.createElement("p",null,"Without prior approval and express written permission, you may not create frames around our Web pages or use other techniques that alter in any way the visual presentation or appearance of our Web site."),n.a.createElement("h2",null,"Reservation of Rights"),n.a.createElement("p",null,"We reserve the right at any time and in its sole discretion to request that you remove all links or any particular link to our Web site. You agree to immediately remove all links to our Web site upon such request. We also reserve the right to amend these terms and conditions and its linking policy at any time. By continuing to link to our Web site, you agree to be bound to and abide by these linking terms and conditions."),n.a.createElement("h2",null,"Removal of links from our website"),n.a.createElement("p",null,"If you find any link on our Web site or any linked web site objectionable for any reason, you may contact us about this. We will consider requests to remove links but will have no obligation to do so or to respond directly to you."),n.a.createElement("p",null,"Whilst we endeavour to ensure that the information on this website is correct, we do not warrant its completeness or accuracy; nor do we commit to ensuring that the website remains available or that the material on the website is kept up to date."),n.a.createElement("h2",null,"Content Liability"),n.a.createElement("p",null,"We shall have no responsibility or liability for any content appearing on your Web site. You agree to indemnify and defend us against all claims arising out of or based upon your Website. No link(s) may appear on any page on your Web site or within any context containing content or materials that may be interpreted as libelous, obscene or criminal, or which infringes, otherwise violates, or advocates the infringement or other violation of, any third party rights."),n.a.createElement("h2",null,"Disclaimer"),n.a.createElement("p",null,"To the maximum extent permitted by applicable law, we exclude all representations, warranties and conditions relating to our website and the use of this website (including, without limitation, any warranties implied by law in respect of satisfactory quality, fitness for purpose and/or the use of reasonable care and skill). Nothing in this disclaimer will:"),n.a.createElement("ol",null,n.a.createElement("li",null,"limit or exclude our or your liability for death or personal injury resulting from negligence;"),n.a.createElement("li",null,"limit or exclude our or your liability for fraud or fraudulent misrepresentation;"),n.a.createElement("li",null,"limit any of our or your liabilities in any way that is not permitted under applicable law; or"),n.a.createElement("li",null,"exclude any of our or your liabilities that may not be excluded under applicable law.")),n.a.createElement("p",null,"The limitations and exclusions of liability set out in this Section and elsewhere in this disclaimer: (a) are subject to the preceding paragraph; and (b) govern all liabilities arising under the disclaimer or in relation to the subject matter of this disclaimer, including liabilities arising in contract, in tort (including negligence) and for breach of statutory duty."),n.a.createElement("p",null,"To the extent that the website and the information and services on the website are provided free of charge, we will not be liable for any loss or damage of any nature."))))}}]),t}(n.a.Component),P=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{style:M},n.a.createElement("div",null,"You Have Successfully Registered. "),n.a.createElement("p",null,"Please check your mail box and verfy the account in 24 hours"))}}]),t}(n.a.Component),_=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{style:M},n.a.createElement("div",null,"You Have Successfully Registered. "),n.a.createElement("p",null,"Login and have fun!"))}}]),t}(n.a.Component),j=a(422),N=a(214),D=a.n(N)()(function(e){var t=e.children,a=e.triggerLogin,r=Object(j.a)(e,["children","triggerLogin"]);return n.a.createElement("button",Object.assign({onClick:a},r),t)}),S=function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("p",null,"Opps...Something goes wrong.."),n.a.createElement("p",null,this.props.err),n.a.createElement("button",{className:"myBtn",onClick:this.props.rubyClose}," Return"))}}]),t}(n.a.Component),T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).closeModal=function(){a.setState({open:!1})},a.openTerms=function(){a.setState({terms:!a.state.terms})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(){var e=Object(g.a)(h.a.mark(function e(t,r){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=12;break}return n={username:r.username,password:r.password,confirmed_password:r.confirmed_password,email:r.email,displayed_name:r.displayed_name,phone_number:r.phone_number,profile_picutre:""},e.prev=2,e.next=5,v()("https://trade4goods.xyz/api/signup",{method:"post",data:n,withCredentials:!0});case 5:e.sent&&(console.log("register good"),a.setState({finishReg:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response.data.message?(window.alert(e.t0.response.data.message),console.log("register no good")):(window.alert("Connection fail, please try again later"),console.log("register no good"));case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t,a){return e.apply(this,arguments)}}())},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,r){var n=a.props.form;t&&t!==n.getFieldValue("password")?r("Two passwords that you enter is inconsistent!"):r()},a.validateToNextPassword=function(e,t,r){var n=a.props.form;t&&a.state.confirmDirty&&n.validateFields(["confirm"],{force:!0}),r()},a.handleSocialLoginFailure=function(e){console.log(e)},a.responseFacebook=function(e){var t=e._profile.id,r=e._profile.email,n=e._token.accessToken,o=e._profile.id,s=e._profile.name;n&&v()("https://localhost:8443/api/signup",{method:"post",data:{facebook_id:t,access_token:n,name:o,email:r,profile_picture:"",phone_number:"",displayed_name:s},withCredentials:!0}).then(Object(g.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()("https://localhost:8443/api/facebook_login",{method:"post",data:{facebook_id:t,access_token:n},withCredentials:!0});case 2:return e.next=4,v()("https://localhost:8443/api/profile/",{method:"post",data:{profile_picture:"",phone_number:"",displayed_name:s},withCredentials:!0}).then(function(){a.setState({isSocialReg:!0}),a.setState({finishReg:!0})}).catch(function(e){console.log("api profile create fail"),console.log(e.response.status),console.log(e.response),console.log(e.response.data),console.log(e.response.data.message),a.setState({regErr:!0}),a.setState({errMsg:e.response.data.message})});case 4:case"end":return e.stop()}},e,this)}))).catch(function(e){console.log("api sign up create fail"),console.log(e.response.status),console.log(e.response),console.log(e.response.data),console.log(e.response.data.message),a.setState({regErr:!0}),a.setState({errMsg:e.response.data.message})})},a.responseGoogle=function(e){var t=e._profile.id,r=e._profile.email,n=e._token.accessToken,o=e._token.idToken,s=e._profile.id,l=e._profile.name;console.log(),n&&v()("https://localhost:8443/api/signup",{method:"post",data:{google_id:t,access_token:n,name:s,email:r,id_token:o,phone_number:"",displayed_name:l},withCredentials:!0}).then(Object(g.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()("https://localhost:8443/api/google_login",{method:"post",data:{google_id:t,access_token:n,id_token:o,name:s},withCredentials:!0});case 2:return e.next=4,v()("https://localhost:8443/api/profile/",{method:"post",data:{profile_picture:"",phone_number:"",displayed_name:l},withCredentials:!0}).then(function(){a.setState({isSocialReg:!0}),a.setState({finishReg:!0})}).catch(function(e){console.log("api profile create fail"),console.log(e.response.status),console.log(e.response),console.log(e.response.data),console.log(e.response.data.message),a.setState({regErr:!0}),a.setState({errMsg:e.response.data.message})});case 4:case"end":return e.stop()}},e,this)}))).catch(function(e){console.log("api sign up create fail"),console.log(e.response.status),console.log(e.response),console.log(e.response.data),console.log(e.response.data.message),a.setState({regErr:!0}),a.setState({errMsg:e.response.data.message})})},a.state={confirmDirty:!1,open:!0,terms:!1,finishReg:!1,isSocialReg:!1,isLoggedIn:!1,userID:"",name:"",email:"",regErr:!1,errMsg:""},a.closeModal=a.closeModal.bind(Object(f.a)(Object(f.a)(a))),a.openTerms=a.openTerms.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=(this.state.autoCompleteResult,{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),a={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};return n.a.createElement(O.a,{contentStyle:M,open:this.state.open,closeOnDocumentClick:!0,onClose:this.props.handleRegToggle},n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("a",{style:x,onClick:this.props.handleRegToggle},"\xd7"),!this.state.finishReg&&!this.state.regErr&&n.a.createElement("div",{style:{position:"absolute",left:"50%",top:"40%",transform:"translate(-50%, -50%)"}},n.a.createElement(E.a,{onSubmit:this.handleSubmit},n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("h1",null,"Register"),n.a.createElement("span",null,"Fill in the register details")),n.a.createElement(E.a.Item,Object.assign({},t,{label:"Username"}),e("username",{rules:[{required:!0,message:"Please input your Username!",whitespace:!1},{max:15,min:5,message:"Username must be 5 to 15 characters long!"}]})(n.a.createElement(w.a,{size:"large",placeholder:"Username must be 5 to 15 characters long"}))),n.a.createElement(E.a.Item,Object.assign({},t,{label:"Display Name"}),e("displayed_name",{rules:[{required:!0,message:"Please input your display name!",whitespace:!0},{max:15,min:3,message:"Display Name must be 3 to 15 characters long!"}]})(n.a.createElement(w.a,{size:"large",placeholder:"Display Name must be 3 to 15 characters long"}))),n.a.createElement(E.a.Item,Object.assign({},t,{label:"Phone Number"}),e("phone_number",{rules:[{required:!0,message:"Please input your Phone Number!",whitespace:!1},{len:8,message:"Input must be number and Phone number 8 characters long!"}]})(n.a.createElement(w.a,{size:"large",type:"number",placeholder:"Phone number must 8 characters long"}))),n.a.createElement(E.a.Item,Object.assign({},t,{label:"E-mail"}),e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(n.a.createElement(w.a,{size:"large",placeholder:"E-mail"}))),n.a.createElement(E.a.Item,Object.assign({},t,{label:"Password"}),e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword},{max:15,min:5,message:"Password must be 5 to 15 characters long!"}]})(n.a.createElement(w.a,{size:"large",type:"password",placeholder:"Password"}))),n.a.createElement(E.a.Item,Object.assign({},t,{label:"Confirm Password"}),e("confirmed_password",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(n.a.createElement(w.a,{size:"large",type:"password",onBlur:this.handleConfirmBlur,placeholder:"Confirm Password"}))),n.a.createElement(E.a.Item,a,e("agreement",{rules:[{required:!0,message:"Please confirm to read the agreement"}],valuePropName:"checked"})(n.a.createElement(b.a,null,"I have read the ",n.a.createElement("span",{onClick:this.openTerms,style:{color:"blue"}},"agreement")))),n.a.createElement(E.a.Item,a,n.a.createElement(C.a,{type:"primary",htmlType:"submit",className:"myBtn"},"Register"))),n.a.createElement("div",{style:{marginLeft:"222px"}},n.a.createElement(D,{provider:"facebook",appId:"372390923567171",onLoginSuccess:this.responseFacebook,onLoginFailure:this.handleSocialLoginFailure,className:"myFbBtn"},"Register with Facebook"),n.a.createElement(D,{provider:"google",appId:"980192618991-ntaogv3tkbg21ve3qhfjq8us1f1au1gb.apps.googleusercontent.com",onLoginSuccess:this.responseGoogle,onLoginFailure:this.handleSocialLoginFailure,className:"myGoogleBtn"},"Register with Google"))),this.state.terms&&n.a.createElement(k,{openTerms:this.openTerms,style:{color:"black"}}),this.state.finishReg&&!this.state.isSocialReg&&n.a.createElement("div",null,n.a.createElement(P,null)),this.state.finishReg&&this.state.isSocialReg&&n.a.createElement("div",null,n.a.createElement(_,null)),this.state.finishReg&&n.a.createElement("a",{className:"myBtn",onClick:this.props.handleRegToggle},"return"),this.state.regErr&&n.a.createElement(S,{err:this.state.errMsg,rubyClose:this.props.handleRegToggle})))}}]),t}(n.a.Component),R=E.a.create({name:"register"})(T),A=a(16),U={openModal:function(e){return{type:"OPEN_MODAL",column:e}},fetchProducts:function(e){return{type:"FETCH_PRODUCTS",products:e}},openOneModal:function(e){return{type:"OPEN_ONE_MODAL",id:e}},FORCEopenOneModal:function(e){return{type:"FORCE_OPEN_ONE_MODAL",id:e}},saveSearch:function(e){return{type:"SAVE_SEARCH",result:e}},clearSearch:function(){return{type:"CLEAR_SEARCH"}},openUploadModal:function(){return{type:"OPEN_UPLOADMODAL"}},showOtherUser:function(e){return{type:"SHOW_OTHERUSER",otherUser:e}},closeOtherUser:function(){return{type:"CLOSE_OTHERUSER"}},setComment:function(e){return{type:"SET_COMMENT",comment:e}},submitComment:function(e){return{type:"SUBMIT_COMMENT",user:e}},storeMyUser:function(e){return{type:"STORE_MYUSER",myUser:e}},storeAllUsers:function(e){return{type:"STORE_ALLUSERS",allUsers:e}},storeAllComments:function(e,t){return{type:"STORE_ALLCOMMENTS",comments:e,product_id:t}},deleteMyUser:function(){return{type:"DEL_MYUSER"}}},L=a(15),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).closeModal=function(){a.setState({open:!1})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(g.a)(h.a.mark(function e(t,r){var n,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=17;break}return n={username_or_email:r.userName,password:r.password},e.prev=2,e.next=5,v()("https://trade4goods.xyz/api/login",{method:"post",data:n,withCredentials:!0});case 5:return e.sent,e.next=8,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 8:o=e.sent,a.props.storeMyUser(o.data),a.setState({open:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0.response.data),e.t0.response.data.message?a.setState({errMsg:e.t0.response.data.message}):a.setState({errMsg:"Connection fail, please try again later"});case 17:case"end":return e.stop()}},e,this,[[2,13]])}));return function(t,a){return e.apply(this,arguments)}}())},a.handleSocialLoginFailure=function(e){console.log(e)},a.responseFacebook=function(e){var t=e._profile.id,r=e._token.accessToken;e._profile.name,e._profile.profilePicURL;console.log(e._token.accessToken),r&&v()("https://localhost:8443/api/facebook_login",{method:"post",data:{facebook_id:t,access_token:r},withCredentials:!0}).then(Object(g.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 3:t=e.sent,a.props.storeMyUser(t.data),a.setState({open:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response.data.message?a.setState({errMsg:e.t0.response.data.message}):a.setState({errMsg:"Connection fail, please try again later"});case 11:case"end":return e.stop()}},e,this,[[0,8]])}))).catch(function(e){console.log(e.response.status),console.log(e.response),console.log(e.response.data),console.log(e.response.data.message),a.setState({errMsg:e.response.data.message})})},a.responseGoogle=function(e){var t=e._profile.id,r=e._profile.name,n=e._token.accessToken,o=e._token.idToken;n&&v()("https://localhost:8443/api/google_login",{method:"post",data:{google_id:t,access_token:n,id_token:o,name:r},withCredentials:!0}).then(Object(g.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("google login success"),e.next=3,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 3:t=e.sent,console.log(t.data),a.props.storeMyUser(t.data),a.setState({open:!1});case 7:case"end":return e.stop()}},e,this)}))).catch(function(e){console.log(e.response.status),console.log(e.response),console.log(e.response.data),console.log(e.response.data.message),a.setState({errMsg:e.response.data.message})})},a.state={open:!0,userID:"",name:"",email:"",errMsg:""},a.closeModal=a.closeModal.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return n.a.createElement(O.a,{contentStyle:M,open:this.state.open,closeOnDocumentClick:!0,onClose:this.props.handleLogin},n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("a",{style:x,onClick:this.props.handleLogin},"\xd7"),!this.state.errMsg&&n.a.createElement("div",{style:{position:"absolute",left:"50%",top:"40%",transform:"translate(-50%, -50%)"}},n.a.createElement(E.a,{onSubmit:this.handleSubmit,className:"login-form "},n.a.createElement("div",{style:{marginBottom:"10px"}},n.a.createElement("h1",null,"Login"),n.a.createElement("span",null,"Enter your login details")),n.a.createElement(E.a.Item,null,e("userName",{rules:[{required:!0,message:"Please input your username or e-mail"}]})(n.a.createElement(w.a,{size:"large",prefix:n.a.createElement(A.a,{type:"user",style:{color:"white"}}),placeholder:"Username / E-mail"}))),n.a.createElement(E.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(n.a.createElement(w.a,{size:"large",prefix:n.a.createElement(A.a,{type:"lock",style:{color:"white"}}),type:"password",placeholder:"Password"}))),n.a.createElement(E.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!1})(n.a.createElement(b.a,null,"Remember me")),n.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password?"),n.a.createElement("br",null),n.a.createElement(C.a,{type:"default",htmlType:"submit",className:"myBtn"},"Log in"),n.a.createElement(C.a,{type:"default",className:"myRegBtn"},"Register now!"))),n.a.createElement("div",null,n.a.createElement(D,{className:"myFbBtn",provider:"facebook",appId:"372390923567171",onLoginSuccess:this.responseFacebook,onLoginFailure:this.handleSocialLoginFailure},"Login with Facebook"),n.a.createElement(D,{className:"myGoogleBtn",provider:"google",appId:"980192618991-ntaogv3tkbg21ve3qhfjq8us1f1au1gb.apps.googleusercontent.com",onLoginSuccess:this.responseGoogle,onLoginFailure:this.handleSocialLoginFailure},"Login with Google"))),this.state.errMsg&&n.a.createElement(S,{err:this.state.errMsg,rubyClose:this.closeModal})))}}]),t}(n.a.Component),F=E.a.create({name:"normal_login"})(Object(L.b)(function(e){return{}},function(e){return{storeMyUser:function(t){e(U.storeMyUser(t))}}})(I)),G=a(477),z="UPDATE_PRODUCTS",B="UPDATE_FILTERARR",q="UPDATE_FILTERKEY",W="UPDATE_TRYREG",H="UPDATE_TRYLOGIN";function Y(e){return{type:z,payload:e}}var Q=a(478),V=a(118),K={storeSearch:function(e){return{type:"STORE_SEARCH",search:e}},submitSearch:function(){return{type:"SUBMIT_SEARCH"}},storeAllProducts:function(e){return{type:"STORE_ALL_PRODUCTS",allProducts:e}},setMyProducts:function(e){return{type:"SET_MY_PRODUCTS",id:e}},filterMyProducts:function(e){return{type:"FILTER_MY_PRODUCTS",id:e}},setFProducts:function(e){return{type:"SET_F_PRODUCTS",id:e}},sortProducts:function(e){return{type:"SORT_PRODUCTS",sort:e}},sortFProducts:function(e){return{type:"SORT_FPRODUCTS",sort:e}},openDetails:function(e,t,a){return{type:"OPEN_DETAILS",id:e,whom:t,which:a}},closeDetails:function(){return{type:"CLOSE_DETAILS"}},openOutDetails:function(e,t,a){return{type:"OPEN_OUTDETAILS",id:e,whom:t,which:a}},closeOutDetails:function(){return{type:"CLOSE_OUTDETAILS"}},setCopyState:function(e){return{type:"SET_COPYSTATE",copyState:e}},refresh:function(){return{type:"REFRESH"}}},Z=a(431),J=V.a.Option;var X=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentWillMount=Object(g.a)(h.a.mark(function e(){var t,r,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()("https://trade4goods.xyz/api/isLoggedIn",{method:"get",withCredentials:!0});case 2:if(!e.sent.data){e.next=18;break}return e.next=6,v.a.get("https://trade4goods.xyz/api/allProducts/");case 6:return(t=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(t.data),a.props.updateProducts(t.data),e.next=12,v.a.get("https://trade4goods.xyz/api/allProfile/");case 12:return r=e.sent,a.props.storeAllUsers(r.data),e.next=16,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 16:n=e.sent,a.props.storeMyUser(n.data);case 18:case"end":return e.stop()}},e,this)})),a.handleNavOnBlur=function(){a.props.history.push("/")},a.handleNavPressEnter=function(e){"Enter"==e.key&&a.props.history.push("/")},a.logout=Object(g.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()("https://trade4goods.xyz/api/logout",{method:"post",withCredentials:!0});case 3:e.sent,a.props.deleteMyUser(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])})),a.handleChange=function(e){var t=Object(p.a)(e),r=a.props.productsArr.filter(function(e){return[e.name].concat(Object(p.a)(e.tags)).some(function(e){return t.includes(e)})});0===r.length&&(r=a.props.productsArr),a.props.updateFilterKey(t),a.props.updateFilterArr(r)},a.state={arr:[]},a.handleNavOnBlur=a.handleNavOnBlur.bind(Object(f.a)(Object(f.a)(a))),a.handleNavPressEnter=a.handleNavPressEnter.bind(Object(f.a)(Object(f.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log(e.productsArr);for(var t=[],a=Z.chain(e.productsArr).map(function(e){return[e.name,e.tags]}).flattenDepth(2).countBy(function(e){return e}).toPairs().sortBy(function(e){return e[1]}).reverse().map(function(e){return e[0]}).value(),r=0;r<a.length;r++)t.push(n.a.createElement(J,{key:a[r]},a[r]));this.props.updateProducts(e.searchArr),this.setState({arr:t}),console.log("set children")}},{key:"render",value:function(){return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top",style:{height:"7vh"}},n.a.createElement(G.a,{className:"navbar-brand d-inline",to:"/redirect"},"Trade4Goods"),n.a.createElement(V.a,{onInputKeyDown:this.handleNavPressEnter,notFoundContent:"Not Found",mode:"multiple",style:{width:"50%"},defaultValue:[],placeholder:"Please select",onChange:this.handleChange,maxTagCount:3},this.state.arr),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},n.a.createElement("ul",{className:"navbar-nav ml-auto p-2"},this.props.isLogin&&n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link",href:"#"},"Items")),!this.props.myUser.displayed_name&&n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link",onClick:this.props.handleLoginToggle},"Login")),!this.props.myUser.displayed_name&&n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link",onClick:this.props.handleRegToggle,reg:this.handleFinToggle},"Register")),this.props.myUser.displayed_name&&n.a.createElement("li",{className:"nav-item",style:{display:"flex",flexDirection:"row"}},n.a.createElement("a",{className:"nav-link",href:""},"Welcome, ",this.props.myUser.displayed_name),n.a.createElement(G.a,{className:"nav-link",to:"/userPage"},"User Page"),n.a.createElement("a",{className:"nav-link",href:"",onClick:this.logout},"Logout")))),this.props.tryLogin&&n.a.createElement(F,{handleLogin:this.props.handleLoginToggle}),this.props.tryRegister&&n.a.createElement(R,{handleRegToggle:this.props.handleRegToggle}))}}]),t}(n.a.Component),$=Object(L.b)(function(e){var t=e.roootReducer,a=e.userReducer,r=e.searchReducer;return{searchArr:t.searchArr,productsArr:t.productsArr,isLogin:t.isLogin,tryLogin:t.tryLogin,tryRegister:t.tryReg,myUser:a.myUser,refresh:r.refresh}},function(e){return{updateProducts:function(t){return e(Y(t))},updateFilterArr:function(t){return e({type:B,payload:t})},updateFilterKey:function(t){return e({type:q,payload:t})},handleLoginToggle:function(t){return e({type:H,payload:t})},handleRegToggle:function(t){return e({type:W,payload:t})},storeAllProducts:function(t){e(K.storeAllProducts(t))},storeAllUsers:function(t){e(U.storeAllUsers(t))},storeMyUser:function(t){e(U.storeMyUser(t))},deleteMyUser:function(){e(U.deleteMyUser())}}})(X),ee=Object(Q.a)($),te=a(17),ae=a(441),re=a(442),ne=a(482),oe=a(487),se=a(479),le=a(483),ie={openMyGoodModal:function(e){return{type:"OPEN_MYGOOD_MODAL",mgID:e}},openOGModal:function(e){return{type:"OPEN_OG_MODAL",ogID:e}},openDELModal:function(e){return{type:"OPEN_DEL_MODAL",delID:e}},selectMyGood:function(e){return{type:"SELECT_MYGOOD",selected:e}},clearSelect:function(){return{type:"CLEAR_SELECT"}},openTradeCards:function(e,t){return{type:"OPEN_TRADECARDS",currentTrade:{details:e,status:t}}},closeTradeCards:function(){return{type:"CLOSE_TRADECARDS"}}},ce=a(492),de=a(485),ue={AddPhotos_Details:function(e){return{type:"ADDPHOTOS_DETAILS",details:e}},UploadPhotos:function(e){return{type:"UPLOADPHOTOS",uploadedPhotos:e}},PreviewPhotos:function(e){return{type:"PREVIEWPHOTOS",previewPhotos:e}},AddPhotosForm_typingTag:function(e){return{type:"ADDPHOTOSFORM_TYPINGTAG",typingTag:e}},AddPhotosForm_finishedTag:function(e){return{type:"ADDPHOTOSFORM_FINISHEDTAG",finishedTag:e}},AddPhotosForm_deleteTag:function(e){return{type:"ADDPHOTOSFORM_DELETETAG",deleteTag:e}},clearForm:function(){return{type:"CLEAR_FORM"}},imgDelete:function(e){return{type:"IMG_DEL",key:e}}},pe=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(c.a)(this,Object(d.a)(t).call(this,e)),console.log(e),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tags.map(function(t,a){var r=t.length>20,o=n.a.createElement(ce.a,{style:{marginTop:"0.5vw"},color:"cyan",key:t,closable:e.props.closable,id:t,afterClose:function(){return e.props.handleClose(t)}},r?"".concat(t.slice(0,20),"..."):t);return r?n.a.createElement(de.a,{title:t,key:t},o):o});return n.a.createElement("div",null,t)}}]),t}(r.Component),me=Object(L.b)(function(e){return{}},function(e){return{handleClose:function(t){e(ue.AddPhotosForm_deleteTag(t))}}})(pe),he=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log("this props : ".concat(this.props.iconsArr));var e=this.props,t=e.trade,a=e.name,r=e.image,o=e.id,s=e.description,l=e.tags,i=e.handleSelect,c=e.handleEdit,d=e.handleDelete,u=e.handleOneModal,p=e.openOneModal,m=e.allDetails;return t?n.a.createElement(ne.a,{style:{width:"5vw"},cover:n.a.createElement("img",{alt:a,src:r,onClick:function(){i(o)},style:{width:"5vw",height:"5vw"}}),key:o,id:o},n.a.createElement(ne.a.Meta,{title:a})):n.a.createElement(ne.a,{style:{width:"7vw"},cover:n.a.createElement("img",{alt:a,src:r,onClick:function(){u(o)},style:{width:"7vw",height:"7vw"}}),actions:[n.a.createElement(A.a,{type:"edit",onClick:c}),n.a.createElement(A.a,{type:"delete",onClick:function(){d(o)}})],key:o,id:o},n.a.createElement(ne.a.Meta,{title:a,description:s,style:{backgroundColor:"rgb(150, 150, 150)"}}),n.a.createElement(me,{tags:l,closable:!1}),p&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){u(o)}},n.a.createElement("div",{style:M},n.a.createElement("a",{style:x,onClick:function(){u(o)}},"\xd7"),n.a.createElement(Ee,{details:m}))))}}]),t}(r.Component),ge=a(61),fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).handlePlaceOffer=Object(g.a)(h.a.mark(function e(){var t,r,n,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={product_offered:a.props.details.product_id,product_offering:a.props.selected},e.prev=1,e.next=4,v()("https://trade4goods.xyz/api/offer_product",{method:"post",data:t,withCredentials:!0});case 4:return e.sent,e.next=7,v.a.get("https://trade4goods.xyz/api/allProducts/");case 7:return(r=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(r.data),e.next=12,v.a.get("https://trade4goods.xyz/api/allProfile/");case 12:return n=e.sent,a.props.storeAllUsers(n.data),e.next=16,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 16:o=e.sent,a.props.storeMyUser(o.data),a.props.clearSelect(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[1,21]])})),a.handleAcceptOffer=Object(g.a)(h.a.mark(function e(){var t,r,n,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={product_offered:a.props.details.product_id,product_offering:a.props.selected},e.prev=1,e.next=4,v()("https://trade4goods.xyz/api/acceptOffer/",{method:"post",data:t,withCredentials:!0});case 4:return e.sent,e.next=7,v.a.get("https://trade4goods.xyz/api/allProducts/");case 7:return(r=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(r.data),e.next=12,v.a.get("https://trade4goods.xyz/api/allProfile/");case 12:return n=e.sent,a.props.storeAllUsers(n.data),e.next=16,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 16:o=e.sent,a.props.storeMyUser(o.data),a.props.clearSelect(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[1,21]])})),a.handleDeleteOffer=function(){var e=Object(g.a)(h.a.mark(function e(t){var r,n,o,s,l,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t[0].product_id,n={product_offered:a.props.details.product_id,product_offering:r},console.log(n),e.prev=3,e.next=6,v()("https://trade4goods.xyz/api/offer_product",{method:"delete",data:n,withCredentials:!0});case 6:return o=e.sent,console.log(o),e.next=10,v.a.get("https://trade4goods.xyz/api/allProducts/");case 10:return(s=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(s.data),e.next=15,v.a.get("https://trade4goods.xyz/api/allProfile/");case 15:return l=e.sent,a.props.storeAllUsers(l.data),e.next=19,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 19:i=e.sent,a.props.storeMyUser(i.data),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),console.log(e.t0);case 26:case"end":return e.stop()}},e,this,[[3,23]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.status,r=t.details,o=this.props.allProducts.filter(function(t){return t.product_id==e.props.selected}).map(function(e){return n.a.createElement(ne.a,{style:{width:"7vw"},cover:n.a.createElement("img",{alt:e.name,src:e.image}),key:e.id,id:e.id},n.a.createElement(ne.a.Meta,{title:e.name}))}),s=this.props.allProducts.filter(function(t){return t.uploaded_by==e.props.myUser.user_id&&1==t.status}).map(function(t){return n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},n.a.createElement(he,{name:t.name,image:t.image[0]?t.image[0]:ge,id:t.product_id,tags:t.tags,handleEdit:e.handleEdit,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,trade:!0,handleSelect:e.props.handleSelect}))}),l=this.props.allProducts.filter(function(e){return e.product_id==r.product_id})[0].openOGModal,i=this.props.allProducts.filter(function(e){return e.product_id==r.product_id})[0].openDELModal,c=this.props.allProducts.filter(function(e){return e.product_id==r.product_id})[0].openMyGoodModal,d=this.props.allProducts.filter(function(t){var a=r.offered_by.find(function(t){return e.props.myUser.uploaded_products.some(function(e){return e==t})});return t.product_id==a}),u=d.map(function(t){return n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},n.a.createElement(he,{name:t.name,image:t.image[0]?t.image[0]:ge,id:t.product_id,tags:t.tags,handleEdit:e.handleEdit,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,trade:!0,handleSelect:e.props.handleSelect}))}),p=this.props.allProducts.filter(function(e){return r.offered_by.some(function(t){return t==e.product_id})}).map(function(t){return n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},n.a.createElement(he,{name:t.name,image:t.image[0]?t.image[0]:ge,id:t.product_id,tags:t.tags,handleEdit:e.handleEdit,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,trade:!0,handleSelect:e.props.handleSelect}))});switch(a){case"myP":return n.a.createElement("div",{className:"trade",style:{}},n.a.createElement("h4",null,"Trade"),n.a.createElement(C.a,{onClick:function(){e.props.openMyGoodModal(r.product_id)},style:{marginBottom:"1vw"},ghost:!0,type:"primary"},"Check Received Offer"),c&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.openMyGoodModal(r.product_id)}},n.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"50vw",height:"50vh"}},n.a.createElement("a",{style:x,onClick:function(){e.props.openDELModal(r.product_id)}},"\xd7"),n.a.createElement("div",{style:{width:"50vw",height:"50vh",display:"flex"}},n.a.createElement(ae.a,null,n.a.createElement(re.a,{span:16},n.a.createElement("div",{style:{overflowY:"scroll"}},p)),n.a.createElement(re.a,{span:8},n.a.createElement("div",{className:"tradeBox",style:{display:"flex",flexDirection:"column"}},this.props.selected&&n.a.createElement("div",{className:"selectedCard"},o),!this.props.selected&&n.a.createElement("div",{className:"selectedCard",style:{width:"7vw",height:"7vw",backgroundColor:"yellow",display:"flex",justifyContent:"center",alignItems:"center"}},n.a.createElement("p",{style:{color:"red"}},"Select a Offer from Left Panel")),n.a.createElement("div",{className:"confirmTrade"},n.a.createElement(C.a,{onClick:this.handleAcceptOffer,type:"danger"},"Confirm Accepting Offer")))))))));case"trading":return n.a.createElement("div",{className:"trade",style:{}},n.a.createElement("h4",null,"Trade"),n.a.createElement(C.a,{style:{marginBottom:"1vw"},ghost:!0,type:"dashed"},"Trading in Progress"));case"traded":return n.a.createElement("div",{className:"trade",style:{}},n.a.createElement("h4",null,"Trade"),n.a.createElement(C.a,{style:{marginBottom:"1vw"},ghost:!0,type:"dashed"},"Traded"));case"offered":return n.a.createElement("div",{className:"trade",style:{}},n.a.createElement("h4",null,"Trade"),n.a.createElement(C.a,{onClick:function(){e.props.openDELModal(r.product_id)},style:{marginBottom:"1vw"},ghost:!0,type:"primary"},"Rollback Offer"),i&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.openDELModal(r.product_id)}},n.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"50vw",height:"50vh"}},n.a.createElement("a",{style:x,onClick:function(){e.props.openDELModal(r.product_id)}},"\xd7"),n.a.createElement("div",{style:{width:"50vw",height:"50vh",display:"flex"}},n.a.createElement(ae.a,null,n.a.createElement(re.a,{span:12},n.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center",alignItems:"center"}},n.a.createElement("p",null,"Your Current Offer"),u)),n.a.createElement(re.a,{span:12},n.a.createElement(C.a,{type:"danger",onClick:function(){e.handleDeleteOffer(d)}},"Confirm Rollback Offer")))))));case"otherP":return n.a.createElement("div",{className:"trade",style:{textAlign:"center"}},n.a.createElement(C.a,{onClick:function(){e.props.openOGModal(r.product_id)},style:{marginTop:"40px"},className:"myLgBtn"},"Make an Offer"),l&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.openOGModal(r.product_id)}},n.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"50vw",height:"50vh"}},n.a.createElement("a",{style:x,onClick:function(){e.props.openOGModal(r.product_id)}},"\xd7"),n.a.createElement("h1",null,"Trading Panel"),n.a.createElement(ae.a,null,n.a.createElement(re.a,{span:16},n.a.createElement("div",{style:{overflowY:"scroll"}},s)),n.a.createElement(re.a,{span:8},n.a.createElement("div",{className:"tradeBox",style:{display:"flex",flexDirection:"column"}},this.props.selected&&n.a.createElement("div",{className:"selectedCard"},o),!this.props.selected&&n.a.createElement("div",{className:"selectedCard",style:{width:"7vw",height:"7vw",backgroundColor:"yellow",display:"flex",justifyContent:"center",alignItems:"center"}},n.a.createElement("p",{style:{color:"red"}},"Select a product from Left Panel")),n.a.createElement("div",{className:"confirmTrade"},n.a.createElement(C.a,{onClick:this.handlePlaceOffer,type:"danger"},"Confirm Placing Offer"))))))));default:return n.a.createElement("div",{className:"trade",style:{marginTop:"50px",textAlign:"center"}},this.props.tryLogin&&n.a.createElement(F,{handleLogin:this.props.handleLoginToggle}),n.a.createElement(C.a,{onClick:this.props.handleLoginToggle,className:"myLgBtn"},"Login to make a deal!"))}}}]),t}(r.Component),ye=Object(L.b)(function(e){var t=e.userReducer,a=e.tradeReducer,r=e.searchReducer,n=e.roootReducer;return{myUser:t.myUser,openMyGoodModal:a.openMyGoodModal,openOGModal:a.openOGModal,selected:a.selected,allProducts:r.allProducts,tryLogin:n.tryLogin}},function(e){return{openMyGoodModal:function(t){e(ie.openMyGoodModal(t)),e(ie.clearSelect())},openOGModal:function(t){e(ie.openOGModal(t)),e(ie.clearSelect())},openDELModal:function(t){e(ie.openDELModal(t)),e(ie.clearSelect())},handleSelect:function(t){e(ie.selectMyGood(t))},clearSelect:function(){e(ie.clearSelect())},storeAllProducts:function(t){e(K.storeAllProducts(t))},storeAllUsers:function(t){e(U.storeAllUsers(t))},storeMyUser:function(t){e(U.storeMyUser(t))}}})(fe),ve=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.details,a=t.image.map(function(e){return n.a.createElement("img",{src:e,alt:""})}),r=this.props.allUsers.filter(function(e){return e.user_id==t.uploaded_by}).map(function(e){return e.displayed_name})[0],o=this.props.allComments.some(function(e){return e.product_id==t.product_id})?this.props.allComments.filter(function(e){return e.product_id==t.product_id})[0].comments:[],s=this.props.allUsers.filter(function(t){return t.displayed_name==e.props.otherUser}).map(function(e){return n.a.createElement("div",{style:{backgroundColor:"#f4fef4",borderRadius:"1vw",display:"flex",flexDirection:"column"}},n.a.createElement("div",{className:"userBanner",style:{borderRadius:"1vw",backgroundColor:"#c1fcc1",height:"5vh",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"}},n.a.createElement("p",null,"this is a banner")),n.a.createElement("div",{style:{paddingLeft:"2vw",paddingRight:"2vw"}},n.a.createElement("img",{src:e.profile_picture,style:{marginTop:"2vh",marginBottom:"2vh",width:"10vw",borderRadius:"50%"}}),n.a.createElement("h4",{style:{paddingTop:"1vw",paddingBottom:"1vw"}},e.displayed_name),n.a.createElement("h4",{style:{paddingTop:"1vw",paddingBottom:"1vw"}},"Credibility: ",e.credibility)))}),l=[{title:"Product Name",description:t.name},{title:"Product Description",description:t.description},{title:"Preferred Trade Location",description:t.trade_location},{title:"Owner",description:r},{title:"Date of Upload",description:String(t.uploaded_at)},{title:"Status of Trade",description:1==t.status?"Available":"Trading"}];return n.a.createElement("div",{key:"details-".concat(t.product_id)},n.a.createElement(ae.a,{gutter:100},n.a.createElement(re.a,{span:8},n.a.createElement("div",{style:{paddingTop:"15px"},className:"imageCarosel"},n.a.createElement("h5",{style:{color:"#000000",opacity:"850%",marginBottom:"40px"}},t.name),n.a.createElement(se.a,{autoplay:!0},a)),n.a.createElement(ye,{details:t,status:function(){if(!e.props.myUser.user_id)return"login";var a=e.props.myUser.uploaded_products.some(function(e){return e==t.product_id}),r=e.props.myUser.uploaded_products,n=t.offered_by.some(function(e){return r.some(function(t){return t==e})});return 1!=t.status?2==t.status?"trading":"traded":1==a&&0==n?"myP":0==a&&1==n?"offered":0==a&&0==n?"otherP":void 0}()})),n.a.createElement(re.a,{span:8},n.a.createElement("div",{className:"detailsList"},n.a.createElement(le.a,{itemLayout:"vertical",dataSource:l,renderItem:function(a){return n.a.createElement(le.a.Item,{key:"list-".concat(t.product_id)},"Owner"!=a.title&&n.a.createElement(le.a.Item.Meta,{title:n.a.createElement("h5",null,a.title),description:a.description}),"Owner"==a.title&&n.a.createElement(le.a.Item.Meta,{title:n.a.createElement("h5",null,a.title),description:a.description,onClick:function(){e.props.handleOtherUser(a.description)}}))}}))),n.a.createElement(re.a,{span:8},n.a.createElement("div",{stlye:{display:"flex",flexDirection:"column",position:"relative"}},n.a.createElement("div",{className:"comments",style:{marginBottom:"16px",paddingTop:"15px"}},n.a.createElement("h5",{style:{color:"#000000",opacity:"850%",marginBottom:"40px"}},"Comments"),n.a.createElement(le.a,{itemLayout:"horizontal",dataSource:o,renderItem:function(e){return n.a.createElement(le.a.Item,{key:"".concat(t.product_id,"comment")},n.a.createElement(le.a.Item.Meta,{title:n.a.createElement("h6",null,e.title),description:e.description}),e.content)}}),n.a.createElement("input",{style:{width:"220px",marginBottom:"20px",height:"42.74px"},type:"text",onChange:this.props.handleComment,value:this.props.comment,placeholder:"Write a comment!"}),n.a.createElement("button",{className:"myCmBtn",onClick:function(){e.props.handleSubmitComment(t.product_id,e.props.comment,e.props.allUsers)}},"Submit Comment"))))),this.props.otherUser&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:this.props.handleCloseOtherUser},n.a.createElement("div",null,n.a.createElement("a",{style:x,onClick:this.props.handleCloseOtherUser},"\xd7"),s)))}}]),t}(r.Component),Ee=Object(L.b)(function(e){var t=e.userReducer,a=e.searchReducer;return{otherUser:t.otherUser,users:t.users,comment:t.comment,allUsers:t.allUsers,allComments:t.allComments,myUser:t.myUser,allProducts:a.allProducts}},function(e,t){return{handleOtherUser:function(t){e(U.showOtherUser(t))},handleCloseOtherUser:function(){e(U.closeOtherUser())},handleComment:function(t){var a=t.target.value;e(U.setComment(a))},handleSubmitComment:function(){var a=Object(g.a)(h.a.mark(function a(r,n,o){var s,l,i,c;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v()("https://trade4goods.xyz/api/comment",{method:"post",data:{product_id:r,comment:n},withCredentials:!0});case 3:if(201!=(s=a.sent).status){a.next=15;break}return a.next=7,v()("https://trade4goods.xyz/api/allProducts/",{method:"get",withCredentials:!0});case 7:(l=a.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),e(K.storeAllProducts(l.data)),e(Y(l.data)),i=s.data[0].map(function(e){return e[0]}),console.log(t.allUsers),c=i.map(function(){var e=Object(g.a)(h.a.mark(function e(t){var a,r,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()("https://localhost:8443/api/comment/".concat(t),{method:"get",withCredentials:!0});case 2:return a=e.sent,r=a.data[0],n=o.filter(function(e){return e.user_id==r.commentator})[0].displayed_name,e.abrupt("return",{title:n,content:r.comment,description:r.comment_at});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),Promise.all(c).then(function(t){console.log(t),e(U.storeAllComments(t,r))});case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),console.log(a.t0);case 20:case"end":return a.stop()}},a,this,[[0,17]])}));return function(e,t,r){return a.apply(this,arguments)}}()}})(ve),we=ne.a.Meta,be=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleLike=function(){var e=Object(g.a)(h.a.mark(function e(t){var a,n,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("clicked"),e.next=4,v()("https://localhost:8443/api/like/".concat(t),{method:"put",withCredentials:!0});case 4:if(200!=e.sent.status){e.next=23;break}return console.log("res"),e.next=9,v()("https://trade4goods.xyz/api/allProducts/",{method:"get",withCredentials:!0});case 9:return(a=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openDELModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1}),console.log(a),r.props.storeAllProducts(a.data),r.props.updateProducts(a.data),e.next=16,v.a.get("https://trade4goods.xyz/api/allProfile/");case 16:return n=e.sent,r.props.storeAllUsers(n.data),e.next=20,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 20:o=e.sent,r.props.storeMyUser(o.data),console.log(r.props.details.profile_picture);case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),console.log("like err");case 28:case"end":return e.stop()}},e,this,[[0,25]])}));return function(t){return e.apply(this,arguments)}}(),r.state={loading:!0,error:!1,imgPic:a(145)},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new Image;this.props.imgUrl?t.src=this.props.imgUrl:t.src=a(73),t.onload=function(){e.setState({loading:!1,imgPic:t.src})},t.onerror=function(t){e.setState({loading:!1,error:!0,imgPic:a(61)})}}},{key:"componentWillUnmount",value:function(){this.setState({loading:!0,error:!1,imgPic:a(145)})}},{key:"render",value:function(){var e=this,t=this.props.allProducts.filter(function(t){return t.product_id==e.props.details.product_id})[0].liked_by.some(function(t){return t==e.props.myUser.user_id}),a=this.props.myUser.uploaded_products?this.props.myUser.uploaded_products:[],r=a.some(function(t){return t==e.props.details.product_id})?"my":"other",o=function(){var t=e.props.details,n=t.offered_by.some(function(e){return a.some(function(t){return t==e})});if("my"==r){if(3==t.status)return"traded";if(t.offered_by.length>0&&null==t.sold_to)return"withR";if(2==t.status)return"trading";if(1==t.status&&0==t.offered_by.length)return"nth"}else{if(t.status>1)return"na";if(1==t.status)return"a";if(n&&3!=t.status)return"requested"}};return n.a.createElement("div",null,!t&&n.a.createElement(ne.a,{hoverable:!0,style:{width:"100%",marginTop:"10px"},cover:n.a.createElement("img",{alt:"example",src:this.state.imgPic,onClick:function(){e.props.openOutDetails(e.props.details.product_id,r,o(),e.props.allUsers)}}),actions:[n.a.createElement(A.a,{type:"heart",onClick:function(){e.handleLike(e.props.details.product_id)}}),n.a.createElement(A.a,{type:"message",onClick:function(){e.props.openOutDetails(e.props.details.product_id,r,o(),e.props.allUsers)}})]},n.a.createElement(oe.a,{loading:this.state.loading,title:!0,paragraph:!0,active:!0},n.a.createElement(we,{title:this.props.name,description:this.props.description}))),t&&n.a.createElement(ne.a,{hoverable:!0,style:{width:"100%",marginTop:"10px"},cover:n.a.createElement("img",{alt:"example",src:this.state.imgPic,onClick:function(){e.props.openOutDetails(e.props.details.product_id,r,o(),e.props.allUsers)}}),actions:[n.a.createElement(A.a,{type:"heart",theme:"twoTone",twoToneColor:"#eb2f96",onClick:function(){e.handleLike(e.props.details.product_id)}}),n.a.createElement(A.a,{type:"message",onClick:function(){e.props.openOutDetails(e.props.details.product_id,r,o(),e.props.allUsers)}})]},n.a.createElement(oe.a,{loading:this.state.loading,title:!0,paragraph:!0,active:!0},n.a.createElement(we,{title:this.props.name,description:this.props.description}))))}}]),t}(n.a.Component),Ce=Object(L.b)(function(e){var t=e.searchReducer,a=e.userReducer;return{allProducts:t.allProducts,allUsers:a.allUsers,myUser:a.myUser}},function(e){return{handleOneModal:function(t){e(U.openOneModal(t))},storeAllProducts:function(t){e(K.storeAllProducts(t))},storeAllUsers:function(t){e(U.storeAllUsers(t))},storeMyUser:function(t){e(U.storeMyUser(t))},updateProducts:function(t){return e(Y(t))},openOutDetails:function(){var t=Object(g.a)(h.a.mark(function t(a,r,n,o){var s,l,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v()("https://trade4goods.xyz/api/allProducts/",{method:"get",withCredentials:!0});case 3:(s=t.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),e(K.storeAllProducts(s.data)),e(Y(s.data)),l=s.data.filter(function(e){return e.product_id==a})[0].comments,i=l.map(function(){var e=Object(g.a)(h.a.mark(function e(t){var a,r,n,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()("https://localhost:8443/api/comment/".concat(t),{method:"get",withCredentials:!0});case 2:return a=e.sent,r=a.data[0],n=o.filter(function(e){return e.user_id==r.commentator})[0].displayed_name,s=Math.floor((new Date-new Date(r.comment_at))/864e5),e.abrupt("return",{title:n,content:r.comment,description:"".concat(s," days ago")});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),3==s.data.filter(function(e){return e.product_id==a})[0].status?Promise.all(i).then(function(t){e(K.setMyProducts(a)),e(K.setFProducts(a)),e(U.storeAllComments(t,a)),e(K.openOutDetails(a,r,"traded"))}):Promise.all(i).then(function(t){e(K.setMyProducts(a)),e(K.setFProducts(a)),e(U.storeAllComments(t,a)),e(K.openOutDetails(a,r,n))}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(e,a,r,n){return t.apply(this,arguments)}}()}})(be),Oe=a(185),xe=a.n(Oe),Me={out:{width:"100vw",height:"93vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.8)",zIndex:99998,position:"fixed"},frame:{width:"90vw",height:"93vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.8)",zIndex:99998,position:"absolute"},content:{width:"80vw",height:"80vh",backgroundColor:"rgb(200,200,200)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999},details:{outer:{width:"76vw",height:"76vh",display:"grid",gridTemplateColumns:"35vw 6vw 35vw"},inner:{img:{gridColumn:"1/2",display:"grid",gridTemplateRows:"6vh 70vh"},imgHeader:{display:"flex",flexDirection:"row",width:"inherit",justifyContent:"space-between",alignItems:"center",gridRow:"1/2"},carousel:{display:"grid",gridRow:"2/3",gridTemplateRows:"60vh,10vh",width:"inherit"},currentImg:{gridRow:"1/2",display:"flex",justifyContent:"center",width:"35vw",alignItems:"center"},allImg:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(200,200,200,0.5)"},allImgContainer:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(200,200,230,0.9)",width:"8vh",height:"8vh",overflow:"hidden"},notImg:{gridColumn:"3/4",display:"flex",flexDirection:"column",height:"76vh",overflowY:"scroll"}}}},ke=(a(61),function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).handlePlaceOffer=Object(g.a)(h.a.mark(function e(){var t,r,n,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={product_offered:a.props.details.product_id,product_offering:a.props.selected},e.prev=1,e.next=4,v()("https://trade4goods.xyz/api/offer_product",{method:"post",data:t,withCredentials:!0});case 4:return e.sent,e.next=7,v.a.get("https://trade4goods.xyz/api/allProducts/");case 7:return(r=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(r.data),a.props.updateProducts(r.data),e.next=13,v.a.get("https://trade4goods.xyz/api/allProfile/");case 13:return n=e.sent,a.props.storeAllUsers(n.data),e.next=17,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 17:o=e.sent,a.props.storeMyUser(o.data),a.props.clearSelect(),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),console.log(e.t0);case 25:case"end":return e.stop()}},e,this,[[1,22]])})),a.handleAcceptOffer=Object(g.a)(h.a.mark(function e(){var t,r,n,o,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={product_offered:a.props.details.product_id,product_offering:a.props.selected},console.log(t),e.prev=2,e.next=5,v()("https://trade4goods.xyz/api/acceptOffer/",{method:"post",data:t,withCredentials:!0});case 5:return r=e.sent,console.log(r),e.next=9,v.a.get("https://trade4goods.xyz/api/allProducts/");case 9:return(n=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(n.data),a.props.updateProducts(n.data),e.next=15,v.a.get("https://trade4goods.xyz/api/allProfile/");case 15:return o=e.sent,a.props.storeAllUsers(o.data),e.next=19,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 19:s=e.sent,a.props.storeMyUser(s.data),a.props.clearSelect(),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),console.log(e.t0);case 27:case"end":return e.stop()}},e,this,[[2,24]])})),a.handleDeleteOffer=function(){var e=Object(g.a)(h.a.mark(function e(t){var r,n,o,s,l,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t[0].product_id,n={product_offered:a.props.details.product_id,product_offering:r},console.log(n),e.prev=3,e.next=6,v()("https://trade4goods.xyz/api/offer_product",{method:"delete",data:n,withCredentials:!0});case 6:return o=e.sent,console.log(o),e.next=10,v.a.get("https://trade4goods.xyz/api/allProducts/");case 10:return(s=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(s.data),a.props.updateProducts(s.data),e.next=16,v.a.get("https://trade4goods.xyz/api/allProfile/");case 16:return l=e.sent,a.props.storeAllUsers(l.data),e.next=20,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 20:i=e.sent,a.props.storeMyUser(i.data),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),console.log(e.t0);case 27:case"end":return e.stop()}},e,this,[[3,24]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.status,r=t.details,o=t.myUser.user_id;switch(a){case"nth":return n.a.createElement("div",{className:"trade"},n.a.createElement(C.a,{ghost:!0,type:"primary"},"No Offers"));case"traded":return n.a.createElement("div",{className:"trade"},n.a.createElement(C.a,{ghost:!0,type:"dashed"},"Traded"));case"requested":case"trading":return n.a.createElement("div",{className:"trade"},n.a.createElement(C.a,{ghost:!0,type:"primary",onClick:function(){e.props.openTradeCards(r,a,o)}},"Rollback Offer"));case"withR":return n.a.createElement("div",{className:"trade"},n.a.createElement(C.a,{ghost:!0,type:"primary",onClick:function(){e.props.openTradeCards(r,a,o)}},"Check Received Offers"));case"a":return n.a.createElement("div",{className:"trade"},n.a.createElement(C.a,{ghost:!0,type:"primary",onClick:function(){e.props.openTradeCards(r,a,o)}},"Make An Offer"));case"na":return n.a.createElement("div",{className:"trade"},n.a.createElement(C.a,{ghost:!0,type:"primary"},"Not available"));default:return n.a.createElement("div",{className:"trade",style:{marginTop:"50px",textAlign:"center"}},this.props.tryLogin&&n.a.createElement(F,{handleLogin:this.props.handleLoginToggle}),n.a.createElement(C.a,{onClick:this.props.handleLoginToggle,className:"myLgBtn"},"Login to make a deal!"))}}}]),t}(r.Component)),Pe=Object(L.b)(function(e){var t=e.userReducer,a=e.tradeReducer,r=e.searchReducer,n=e.roootReducer;return{myUser:t.myUser,openMyGoodModal:a.openMyGoodModal,openOGModal:a.openOGModal,selected:a.selected,allProducts:r.allProducts,tryLogin:n.tryLogin}},function(e){return{openMyGoodModal:function(t){e(ie.openMyGoodModal(t)),e(ie.clearSelect())},openOGModal:function(t){e(ie.openOGModal(t)),e(ie.clearSelect())},openDELModal:function(t){e(ie.openDELModal(t)),e(ie.clearSelect())},handleSelect:function(t){e(ie.selectMyGood(t))},clearSelect:function(){e(ie.clearSelect())},storeAllProducts:function(t){e(K.storeAllProducts(t))},storeAllUsers:function(t){e(U.storeAllUsers(t))},storeMyUser:function(t){e(U.storeMyUser(t))},openTradeCards:function(t,a,r){e(K.setMyProducts(r)),e(ie.openTradeCards(t,a))},updateProducts:function(t){return e(Y(t))}}})(ke),_e=Me.details,je=a(73),Ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.srcs[0]?a.props.srcs[0]:je;a.setState({img:{src:e}})},a.setCurrentImg=function(e){a.setState({img:{src:e}})},a.state={img:{src:""}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.srcs.length>0?this.props.srcs.map(function(t){return n.a.createElement("div",{className:"allImgContainer",onClick:function(){e.setCurrentImg(t)},style:_e.inner.allImgContainer},n.a.createElement("img",{src:t,alt:"",className:"carouselSmall",style:{width:"7.5vh",height:"7.5vh",objectFit:"contain"}}))}):function(){return n.a.createElement("div",{className:"allImgContainer",onClick:function(){e.setCurrentImg(je)},style:_e.inner.allImgContainer},n.a.createElement("img",{src:je,alt:"",className:"carouselSmall",style:{width:"7.5vh",height:"7.5vh",objectFit:"contain"}}))};return n.a.createElement("div",{className:"fkcarousel",style:_e.inner.carousel},n.a.createElement("div",{className:"currentImg",style:_e.inner.currentImg},n.a.createElement("img",{src:this.state.img.src,alt:"",className:"carouselBig",style:{width:"35vw",height:"60vh",objectFit:"contain"}})),n.a.createElement("div",{className:"allImg",style:_e.inner.allImg},t))}}]),t}(r.Component),De=(a(73),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.details,a=this.props.status,r=this.props.allUsers.filter(function(e){return e.user_id==t.uploaded_by}).map(function(e){return e.displayed_name})[0],o=this.props.allComments.some(function(e){return e.product_id==t.product_id})?this.props.allComments.filter(function(e){return e.product_id==t.product_id})[0].comments:[],s=[{title:"Product Name",description:t.name},{title:"Product Description",description:t.description},{title:"Preferred Trade Location",description:t.trade_location},{title:"Owner",description:r},{title:"Date of Upload",description:String(t.uploaded_at)},{title:"Status of Trade",description:1==t.status?"Available":"Trading"}],l=Me.details;return n.a.createElement("div",{key:"details-".concat(t.product_id),style:l.outer},n.a.createElement("div",{style:l.inner.img,className:"imageCarosel"},n.a.createElement("div",{className:"header",style:l.inner.imgHeader},n.a.createElement("h4",{style:{padding:0,margin:0}},t.name),n.a.createElement(Pe,{details:t,status:a})),n.a.createElement(Ne,{srcs:t.image})),n.a.createElement("div",{className:"notImg",style:l.inner.notImg},n.a.createElement("div",{className:"detailsList"},n.a.createElement(le.a,{itemLayout:"vertical",dataSource:s,renderItem:function(a){return n.a.createElement(le.a.Item,{key:"list-".concat(t.product_id)},"Owner"!=a.title&&n.a.createElement(le.a.Item.Meta,{title:n.a.createElement("h5",null,a.title),description:a.description}),"Owner"==a.title&&n.a.createElement(le.a.Item.Meta,{title:n.a.createElement("h5",null,a.title),description:a.description,onClick:function(){e.props.handleOtherUser(a.description)}}))}})),n.a.createElement("div",{stlye:{display:"flex",flexDirection:"column",position:"relative"}},n.a.createElement("div",{className:"comments",style:{marginBottom:"16px",paddingTop:"15px"}},n.a.createElement("h5",null,"Comments"),n.a.createElement(le.a,{itemLayout:"horizontal",dataSource:o,renderItem:function(e){return n.a.createElement(le.a.Item,{key:"".concat(t.product_id,"comment")},n.a.createElement(le.a.Item.Meta,{title:n.a.createElement("h6",null,e.title),description:e.content}),e.description)}}),n.a.createElement("input",{style:{width:"220px",marginBottom:"20px",height:"42.74px"},type:"text",onChange:this.props.handleComment,value:this.props.comment,placeholder:"Write a comment!"}),n.a.createElement("button",{className:"myCmBtn",onClick:function(){e.props.handleSubmitComment(t.product_id,e.props.comment,e.props.allUsers)}},"Submit Comment")))))}}]),t}(r.Component)),Se=Object(L.b)(function(e){var t=e.userReducer,a=e.searchReducer;return{otherUser:t.otherUser,users:t.users,comment:t.comment,allUsers:t.allUsers,allComments:t.allComments,myUser:t.myUser,allProducts:a.allProducts}},function(e,t){return{handleOtherUser:function(t){e(U.showOtherUser(t))},handleCloseOtherUser:function(){e(U.closeOtherUser())},handleComment:function(t){var a=t.target.value;e(U.setComment(a))},handleSubmitComment:function(){var t=Object(g.a)(h.a.mark(function t(a,r,n){var o,s,l,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v()("https://trade4goods.xyz/api/comment",{method:"post",data:{product_id:a,comment:r},withCredentials:!0});case 3:if(201!=(o=t.sent).status){t.next=14;break}return t.next=7,v()("https://trade4goods.xyz/api/allProducts/",{method:"get",withCredentials:!0});case 7:(s=t.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),e(K.storeAllProducts(s.data)),e(Y(s.data)),l=o.data[0].map(function(e){return e[0]}),i=l.map(function(){var e=Object(g.a)(h.a.mark(function e(t){var a,r,o,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()("https://localhost:8443/api/comment/".concat(t),{method:"get",withCredentials:!0});case 2:return a=e.sent,r=a.data[0],o=n.filter(function(e){return e.user_id==r.commentator})[0].displayed_name,s=Math.floor((new Date-new Date(r.comment_at))/864e5),e.abrupt("return",{title:o,content:r.comment,description:"".concat(s," days ago")});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),Promise.all(i).then(function(t){console.log(t),e(U.storeAllComments(t,a))});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}},t,this,[[0,16]])}));return function(e,a,r){return t.apply(this,arguments)}}()}})(De),Te=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).stopPropagation=function(e){e.stopPropagation()},a.closeOutDetails=Object(g.a)(h.a.mark(function e(){var t,r,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://trade4goods.xyz/api/allProducts/");case 3:return(t=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(t.data),a.props.updateProducts(t.data),e.next=9,v.a.get("https://trade4goods.xyz/api/allProfile/");case 9:return r=e.sent,a.props.storeAllUsers(r.data),e.next=13,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 13:n=e.sent,a.props.storeMyUser(n.data),a.props.closeOutDetails(a.props.myUser.user_id),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}},e,this,[[0,18]])})),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.currentOutProduct,t=e.details,a=e.whom,r=e.which;return n.a.createElement("div",{className:"bigCards",onClick:this.closeOutDetails,style:Me.out},n.a.createElement("div",{className:"content",style:Me.content,onClick:this.stopPropagation},n.a.createElement(Se,{details:t[0],whom:a,status:r})))}}]),t}(r.Component),Re=Object(L.b)(function(e){var t=e.searchReducer,a=e.userReducer;return{currentOutProduct:t.currentOutProduct,myUser:a.myUser}},function(e){return{closeOutDetails:function(t){e(K.closeOutDetails())},storeAllProducts:function(t){e(K.storeAllProducts(t))},storeAllUsers:function(t){e(U.storeAllUsers(t))},storeMyUser:function(t){e(U.storeMyUser(t))},updateProducts:function(t){return e(Y(t))}}})(Te),Ae={frame:{width:"90vw",height:"93vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.8)",zIndex:999998,position:"absolute",fontFamily:"'Rajdhani', sans-serif"},outFrame:{width:"100vw",height:"93vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.8)",zIndex:999998,position:"fixed",fontFamily:"'Rajdhani', sans-serif"},content:{width:"80vw",height:"80vh",backgroundColor:"rgba(200,200,200,0.85)",display:"grid",gridTemplateRows:"5vh 70vh 5vh",zIndex:999999},inner:{title:{gridRow:"1/2",backgroundColor:"rgba(200,200,200,0.8)",display:"flex",alignItems:"center"},titleAConfirm:{gridRow:"1/2",backgroundColor:"rgba(126,164,94,0.8)",display:"flex",alignItems:"center",color:"white"},titleRequestedConfirm:{gridRow:"1/2",backgroundColor:"rgba(178,34,34,0.8)",display:"flex",alignItems:"center",color:"white"},titleWithRConfirm:{gridRow:"1/2",backgroundColor:"rgba(144,181,255,0.8)",display:"flex",alignItems:"center",color:"white"},titleSwapDone:{gridRow:"1/2",backgroundColor:"rgba(126,164,94,0.8)",display:"flex",alignItems:"center",color:"white"},content:{gridRow:"2/3",backgroundColor:"rgba(130,130,130,0.7)"},buttons:{gridRow:"3/4",backgroundColor:"rgba(200,200,200,0.8)",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",paddingLeft:"1vw",paddingRight:"1vw"}},swap:{frame:{gridColumn:"1/2",display:"grid",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)",gridTemplateColumns:"17vw 3vw 17vw",gridTemplateRows:"45vh 25vh"},swapzone1:{gridColumn:"1/2",gridRow:"1/2",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},swapzone2:{gridColumn:"3/4",gridRow:"1/2",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},swapLogo:{gridColumn:"2/3",gridRow:"1/2",display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"2vw",backgroundColor:"rgba(210,210,210,0.7)"},choose:{gridColumn:"1/4",gridRow:"2/3",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(150,150,150,0.8)",overflowY:"scroll"},middleCard:{display:"grid",width:"10vw",height:"13vw",gridTemplateRows:"10vw 3vw",boxShadow:"0.5vw 0.5vw 2vw rgb(100,100,100)"},middlename:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",gridRow:"2/3",color:"white",backgroundColor:"rgba(100,100,100,0.3)",fontSize:"0.7vw",overflow:"hidden"},swapButton:{marginTop:"3vw",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"15vw"}},withR:{arrow:{display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"5vw"},frame:{gridColumn:"1/2",display:"grid",gridTemplateColumns:"16vw 21vw",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)"},accepted:{gridColumn:"1/2",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)"},items:{gridColumn:"1/2",display:"grid",gridTemplateRows:"15vh 55vh",width:"16vw",height:"inherit"},itemsTitle:{gridRow:"1/2",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(140,140,140,0.8)",color:"white"},itemsContent:{gridRow:"2/3",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"16vw",height:"55vh",backgroundColor:"rgba(160,160,160,0.8)",overflowY:"scroll"},choosed:{gridColumn:"2/3",display:"flex",justifyContent:"center",alignItems:"center",width:"21vw",height:"inherit"}},a:{frame:{gridRow:"2/3",backgroundColor:"rgba(110,110,110,0.7)",width:"80vw",height:"70vh",display:"grid",gridTemplateColumns:"37vw 6vw 37vw"},aItems:{gridColumn:"1/2",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)",overflowY:"scroll"},aItemsConfirm:{gridColumn:"1/2",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)"},smallCard:{display:"grid",width:"7vw",height:"9vw",gridTemplateRows:"7vw 2vw",margin:"0.5vw",boxShadow:"0.5vw 0.5vw 2vw rgb(100,100,100)"},img:{display:"flex",justifyContent:"center",alignItems:"center",gridRow:"1/2",backgroundColor:"rgba(150,150,150,0.3)"},name:{display:"flex",justifyContent:"center",alignItems:"center",gridRow:"2/3",overflow:"hidden",color:"white",backgroundColor:"rgba(100,100,100,0.3)"},drop:{gridColumn:"3/4",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)"},middleCard:{display:"grid",width:"14vw",height:"18vw",gridTemplateRows:"14vw 4vw",boxShadow:"0.5vw 0.5vw 2vw rgb(100,100,100)"},middlename:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",gridRow:"2/3",color:"white",backgroundColor:"rgba(100,100,100,0.3)",fontSize:"1vw",overflow:"hidden"},arrow:{display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"5vw"}}},Ue={handleNav:function(e){return{type:"NAV",tag:e}},imgHover:function(){return{type:"IMG_HOVER"}}},Le=a(73),Ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.props.setMyProducts(a.props.myUser.user_id)},a.stopPropagation=function(e){e.stopPropagation()},a.closeTradeCards=function(e){a.setState({a:null,aConfirm:!1,swap:!1,delete:!1,swapDone:!1,myRequestedProduct:null,accepted:!1,original:null}),a.props.closeTradeCards(e)},a.onAClick=function(e,t){e.preventDefault(),a.props.setMyProducts(a.props.myUser.user_id),a.setState({a:t}),a.props.filterMyProducts(t.product_id)},a.handlePlaceOffer=function(){var e=Object(g.a)(h.a.mark(function e(t){var r,n,o,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={product_offered:a.props.currentTrade.details.product_id,product_offering:t},e.prev=1,e.next=4,v()("https://trade4goods.xyz/api/offer_product",{method:"post",data:r,withCredentials:!0});case 4:return e.sent,e.next=7,v.a.get("https://trade4goods.xyz/api/allProducts/");case 7:return(n=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(n.data),a.props.updateProducts(n.data),e.next=13,v.a.get("https://trade4goods.xyz/api/allProfile/");case 13:return o=e.sent,a.props.storeAllUsers(o.data),e.next=17,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 17:s=e.sent,a.props.storeMyUser(s.data),a.setState({aConfirm:!0}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),console.log(e.t0);case 25:case"end":return e.stop()}},e,this,[[1,22]])}));return function(t){return e.apply(this,arguments)}}(),a.handleAConfirm=Object(g.a)(h.a.mark(function e(){var t,r,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://trade4goods.xyz/api/allProducts/");case 2:return(t=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(t.data),a.props.updateProducts(t.data),e.next=8,v.a.get("https://trade4goods.xyz/api/allProfile/");case 8:return r=e.sent,a.props.storeAllUsers(r.data),e.next=12,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 12:n=e.sent,a.props.storeMyUser(n.data),a.setState({a:null,aConfirm:!1,swap:!1,delete:!1,swapDone:!1,myRequestedProduct:null,accepted:!1,original:null}),a.props.closeAllCards(a.props.myUser.user_id);case 16:case"end":return e.stop()}},e,this)})),a.handleOpenSwap=function(){a.setState({swap:!0})},a.handleMyOpenSwap=function(e){a.setState({swap:!0,myRequestedProduct:e})},a.handleShit=function(){var e=Object(g.a)(h.a.mark(function e(t){var r,n,o,s,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=a.state.a){e.next=4;break}alert("Select a product first"),e.next=33;break;case 4:return r={product_offered:a.props.currentTrade.details.product_id,product_offering:t},n={product_offered:a.props.currentTrade.details.product_id,product_offering:a.state.a.product_id},e.prev=6,e.next=9,v()("https://trade4goods.xyz/api/offer_product",{method:"delete",data:r,withCredentials:!0});case 9:return e.sent,e.next=12,v()("https://trade4goods.xyz/api/offer_product",{method:"post",data:n,withCredentials:!0});case 12:return e.sent,a.setState({swap:!1,swapDone:!0}),e.next=16,v.a.get("https://trade4goods.xyz/api/allProducts/");case 16:return(o=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(o.data),a.props.updateProducts(o.data),e.next=22,v.a.get("https://trade4goods.xyz/api/allProfile/");case 22:return s=e.sent,a.props.storeAllUsers(s.data),e.next=26,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 26:l=e.sent,a.props.storeMyUser(l.data),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(6),console.log(e.t0);case 33:case"end":return e.stop()}},e,this,[[6,30]])}));return function(t){return e.apply(this,arguments)}}(),a.handleMyShit=function(){var e=Object(g.a)(h.a.mark(function e(t){var r,n,o,s,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=a.state.a){e.next=4;break}alert("Select a product first"),e.next=33;break;case 4:return r={product_offered:t,product_offering:a.props.currentTrade.details.product_id},n={product_offered:t,product_offering:a.state.a.product_id},e.prev=6,e.next=9,v()("https://trade4goods.xyz/api/offer_product",{method:"delete",data:r,withCredentials:!0});case 9:return e.sent,e.next=12,v()("https://trade4goods.xyz/api/offer_product",{method:"post",data:n,withCredentials:!0});case 12:return e.sent,e.next=15,v.a.get("https://trade4goods.xyz/api/allProducts/");case 15:return(o=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(o.data),a.props.updateProducts(o.data),e.next=21,v.a.get("https://trade4goods.xyz/api/allProfile/");case 21:return s=e.sent,a.props.storeAllUsers(s.data),e.next=25,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 25:l=e.sent,a.props.storeMyUser(l.data),a.setState({swap:!1,swapDone:!0}),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(6),console.log(e.t0);case 33:case"end":return e.stop()}},e,this,[[6,30]])}));return function(t){return e.apply(this,arguments)}}(),a.handleDeleteOffer=function(){var e=Object(g.a)(h.a.mark(function e(t){var r,n,o,s,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,n={product_offered:a.props.currentTrade.details.product_id,product_offering:r},e.prev=2,e.next=5,v()("https://trade4goods.xyz/api/offer_product",{method:"delete",data:n,withCredentials:!0});case 5:return e.sent,e.next=8,v.a.get("https://trade4goods.xyz/api/allProducts/");case 8:return(o=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(o.data),a.props.updateProducts(o.data),e.next=14,v.a.get("https://trade4goods.xyz/api/allProfile/");case 14:return s=e.sent,a.props.storeAllUsers(s.data),e.next=18,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 18:l=e.sent,a.props.storeMyUser(l.data),a.setState({delete:!0}),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),console.log(e.t0);case 26:case"end":return e.stop()}},e,this,[[2,23]])}));return function(t){return e.apply(this,arguments)}}(),a.handleMyDeleteOffer=function(){var e=Object(g.a)(h.a.mark(function e(t){var r,n,o,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={product_offered:t,product_offering:a.props.currentTrade.details.product_id},e.prev=1,e.next=4,v()("https://trade4goods.xyz/api/offer_product",{method:"delete",data:r,withCredentials:!0});case 4:return e.sent,e.next=7,v.a.get("https://trade4goods.xyz/api/allProducts/");case 7:return(n=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(n.data),a.props.updateProducts(n.data),e.next=13,v.a.get("https://trade4goods.xyz/api/allProfile/");case 13:return o=e.sent,a.props.storeAllUsers(o.data),e.next=17,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 17:s=e.sent,a.props.storeMyUser(s.data),a.setState({delete:!0}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),console.log(e.t0);case 25:case"end":return e.stop()}},e,this,[[1,22]])}));return function(t){return e.apply(this,arguments)}}(),a.handleSwap=function(){a.setState({swap:!0})},a.handleWithR=Object(g.a)(h.a.mark(function e(){var t,r,n,o,s,l,i,c,d,u,p,m,g,f;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.a.product_id,r=a.props.currentTrade.details.offered_by.filter(function(e){return e!=t}),n=a.props.currentTrade.details.product_id,o={product_offered:n,product_offering:t},a.setState({original:a.props.currentTrade.details}),e.prev=5,s=!0,l=!1,i=void 0,e.prev=9,c=r[Symbol.iterator]();case 11:if(s=(d=c.next()).done){e.next=20;break}return u=d.value,p={product_offered:n,product_offering:u},e.next=16,v()("https://trade4goods.xyz/api/decline_offer",{method:"delete",data:p,withCredentials:!0});case 16:e.sent;case 17:s=!0,e.next=11;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(9),l=!0,i=e.t0;case 26:e.prev=26,e.prev=27,s||null==c.return||c.return();case 29:if(e.prev=29,!l){e.next=32;break}throw i;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return e.next=36,v()("https://trade4goods.xyz/api/acceptOffer/",{method:"post",data:o,withCredentials:!0});case 36:return e.sent,e.next=39,v.a.get("https://trade4goods.xyz/api/allProducts/");case 39:return(m=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(m.data),a.props.updateProducts(m.data),e.next=45,v.a.get("https://trade4goods.xyz/api/allProfile/");case 45:return g=e.sent,a.props.storeAllUsers(g.data),e.next=49,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 49:f=e.sent,a.props.storeMyUser(f.data),a.props.setMyProducts(a.props.myUser.user_id),a.props.setFProducts(a.props.myUser.user_id),a.setState({accepted:!0}),e.next=58;break;case 56:e.prev=56,e.t1=e.catch(5);case 58:case"end":return e.stop()}},e,this,[[5,56],[9,22,26,34],[27,,29,33]])})),a.state={a:null,aConfirm:!1,swap:!1,delete:!1,swapDone:!1,myRequestedProduct:null,accepted:!1,original:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.out,a=this.props.currentTrade,r=a.status,o=a.details,s=this.props.myProducts.length>0?this.props.myProducts.filter(function(e){return 1==e.status}).map(function(t){return n.a.createElement("div",{className:"smallCard",style:Ae.a.smallCard,key:"".concat(t.product_id,"_smallCard"),onClick:function(a){return e.onAClick(a,t)}},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:t.image[0]?t.image[0]:Le,alt:"",style:{width:"7vw",height:"7vw",objectFit:"contain"}})),n.a.createElement("div",{className:"name",style:Ae.a.name},n.a.createElement("p",{style:{textAlign:"center",padding:0,margin:0,fontSize:"0.5vw"}},t.name)))}):function(){return n.a.createElement("div",null,n.a.createElement("p",{style:{textAlign:"center"}},"You have no available goods for exchange"),n.a.createElement(C.a,{onClick:function(){e.props.handleNav("Upload")},type:"primary"},"Click to upload new goods"))},l=this.props.myProducts.map(function(e){return e.product_id}),i=o.offered_by.filter(function(e){return l.some(function(t){return t==e})})[0],c=this.props.myProducts.filter(function(e){return e.product_id==i})[0],d=this.props.allProducts.filter(function(e){return e.offered_by.some(function(e){return e==o.product_id})})[0],u=this.props.allProducts.filter(function(e){return o.offered_by.some(function(t){return e.product_id==t})}).map(function(t){return n.a.createElement("div",{className:"smallCard",style:Ae.a.smallCard,key:"".concat(t.product_id,"_smallCard"),onClick:function(a){return e.onAClick(a,t)}},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:t.image[0]?t.image[0]:Le,alt:"",style:{width:"7vw",height:"7vw",objectFit:"contain"}})),n.a.createElement("div",{className:"name",style:Ae.a.name},n.a.createElement("p",{style:{textAlign:"center",padding:0,margin:0,fontSize:"0.5vw"}},t.name)))});switch(r){case"requested":return n.a.createElement("div",{className:"tradeCards",style:t?Ae.outFrame:Ae.frame,onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},n.a.createElement("div",{className:"content",style:Ae.content,onClick:this.stopPropagation},!this.state.swapDone&&n.a.createElement("div",{className:"title",style:Ae.inner.titleRequestedConfirm},n.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Rollback Request")),this.state.swapDone&&n.a.createElement("div",{className:"title",style:Ae.inner.titleSwapDone},n.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Finished Swapping!")),n.a.createElement("div",{className:"innerContent",style:Ae.a.frame},!this.state.swap&&!this.state.swapDone&&n.a.createElement("div",{className:"aItems",style:Ae.a.aItemsConfirm},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"Your Own Product")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:c.image[0]?c.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},c.name))),!this.state.delete&&n.a.createElement("div",{className:"buttons",style:Ae.swap.swapButton},n.a.createElement(C.a,{type:"danger",onClick:this.handleOpenSwap},"Swap another product"),n.a.createElement(C.a,{type:"danger",onClick:function(){e.handleDeleteOffer(i)}},"Delete Request"))),this.state.swapDone&&n.a.createElement("div",{className:"aItems",style:Ae.a.aItemsConfirm},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"New Product for exchange")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name)))),this.state.swap&&n.a.createElement("div",{className:"aItems",style:Ae.swap.frame},n.a.createElement("div",{className:"swapZone1",style:Ae.swap.swapzone1},n.a.createElement("div",{className:"title",style:{marginBottom:"1.5vw"}},n.a.createElement("h5",null,"Original Product")),n.a.createElement("div",{className:"middleCard",style:Ae.swap.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:c.image[0]?c.image[0]:Le,alt:"",style:{width:"10vw",height:"10vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.swap.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},c.name)))),n.a.createElement("div",{className:"swapLogo",style:Ae.swap.swapLogo},n.a.createElement(A.a,{type:"swap"})),null!=this.state.a&&n.a.createElement("div",{className:"swapZone2",style:Ae.swap.swapzone2},n.a.createElement("div",{className:"title",style:{marginBottom:"1.5vw"}},n.a.createElement("h5",null,"New Product")),n.a.createElement("div",{className:"middleCard",style:Ae.swap.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Le,alt:"",style:{width:"10vw",height:"10vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.swap.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name)))),null==this.state.a&&n.a.createElement("div",{className:"swapZone2",style:Ae.swap.swapzone2},n.a.createElement("div",{className:"title"},n.a.createElement("h5",null,"Select a new product from below"))),n.a.createElement("div",{className:"choose",style:Ae.swap.choose},s)),n.a.createElement("div",{className:"arrow",style:Ae.a.arrow},n.a.createElement(A.a,{type:"arrow-right"})),!this.state.delete&&n.a.createElement("div",{className:"select",style:Ae.a.drop},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"Your Requested Product")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:o.image[0]?o.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},o.name)))),this.state.delete&&n.a.createElement("div",{className:"select",style:Ae.a.drop},n.a.createElement("div",{className:"title"},n.a.createElement("h4",null,"Your Requested of exchange is deleted.")))),!this.state.swap&&!this.state.delete&&!this.state.swapDone&&n.a.createElement("div",{className:"buttons",style:Ae.inner.buttons},n.a.createElement(C.a,{type:"danger",onClick:function(){e.handleDeleteOffer(i)}},"Delete Request"),n.a.createElement(C.a,{type:"primary",onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},"Return")),(this.state.delete||this.state.swapDone)&&n.a.createElement("div",{className:"buttons",style:Ae.inner.buttons},n.a.createElement(C.a,{type:"primary",onClick:this.handleAConfirm},"Return")),this.state.swap&&n.a.createElement("div",{className:"buttons",style:Ae.inner.buttons},n.a.createElement(C.a,{type:"danger",onClick:function(){e.handleShit(i)}},"Confirm Swap"),n.a.createElement(C.a,{type:"primary",onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},"Return"))));case"trading":return n.a.createElement("div",{className:"tradeCards",style:t?Ae.outFrame:Ae.frame,onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},n.a.createElement("div",{className:"content",style:Ae.content,onClick:this.stopPropagation},!this.state.swapDone&&n.a.createElement("div",{className:"title",style:Ae.inner.titleRequestedConfirm},n.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Rollback Request")),this.state.swapDone&&n.a.createElement("div",{className:"title",style:Ae.inner.titleSwapDone},n.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Finished Swapping!")),n.a.createElement("div",{className:"innerContent",style:Ae.a.frame},!this.state.swap&&!this.state.swapDone&&n.a.createElement("div",{className:"aItems",style:Ae.a.aItemsConfirm},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"Your Own Product")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:o.image[0]?o.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},o.name))),!this.state.delete&&n.a.createElement("div",{className:"buttons",style:Ae.swap.swapButton},n.a.createElement(C.a,{type:"danger",onClick:function(){e.handleMyOpenSwap(d)}},"Swap another product"),n.a.createElement(C.a,{type:"danger",onClick:function(){e.handleMyDeleteOffer(d.product_id)}},"Delete Request"))),this.state.swapDone&&n.a.createElement("div",{className:"aItems",style:Ae.a.aItemsConfirm},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"New Product for exchange")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name)))),this.state.swap&&n.a.createElement("div",{className:"aItems",style:Ae.swap.frame},n.a.createElement("div",{className:"swapZone1",style:Ae.swap.swapzone1},n.a.createElement("div",{className:"title",style:{marginBottom:"1.5vw"}},n.a.createElement("h5",null,"Original Product")),n.a.createElement("div",{className:"middleCard",style:Ae.swap.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:o.image[0]?o.image[0]:Le,alt:"",style:{width:"10vw",height:"10vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.swap.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},o.name)))),n.a.createElement("div",{className:"swapLogo",style:Ae.swap.swapLogo},n.a.createElement(A.a,{type:"swap"})),null!=this.state.a&&n.a.createElement("div",{className:"swapZone2",style:Ae.swap.swapzone2},n.a.createElement("div",{className:"title",style:{marginBottom:"1.5vw"}},n.a.createElement("h5",null,"New Product")),n.a.createElement("div",{className:"middleCard",style:Ae.swap.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Le,alt:"",style:{width:"10vw",height:"10vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.swap.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name)))),null==this.state.a&&n.a.createElement("div",{className:"swapZone2",style:Ae.swap.swapzone2},n.a.createElement("div",{className:"title"},n.a.createElement("h5",null,"Select a new product from below"))),n.a.createElement("div",{className:"choose",style:Ae.swap.choose},s)),n.a.createElement("div",{className:"arrow",style:Ae.a.arrow},n.a.createElement(A.a,{type:"arrow-right"})),!this.state.delete&&d&&n.a.createElement("div",{className:"select",style:Ae.a.drop},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"Your Requested Product")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:d.image[0]?d.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},d.name)))),!this.state.delete&&!d&&this.state.myRequestedProduct&&n.a.createElement("div",{className:"select",style:Ae.a.drop},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"Your Requested Product")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:this.state.myRequestedProduct.image[0]?this.state.myRequestedProduct.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.myRequestedProduct.name)))),this.state.delete&&n.a.createElement("div",{className:"select",style:Ae.a.drop},n.a.createElement("div",{className:"title"},n.a.createElement("h4",null,"Your Requested of exchange is deleted.")))),!this.state.swap&&!this.state.delete&&!this.state.swapDone&&n.a.createElement("div",{className:"buttons",style:Ae.inner.buttons},n.a.createElement(C.a,{type:"danger",onClick:function(){e.handleMyDeleteOffer(d.product_id)}},"Delete Request"),n.a.createElement(C.a,{type:"primary",onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},"Return")),(this.state.delete||this.state.swapDone)&&n.a.createElement("div",{className:"buttons",style:Ae.inner.buttons},n.a.createElement(C.a,{type:"primary",onClick:this.handleAConfirm},"Return")),this.state.swap&&n.a.createElement("div",{className:"buttons",style:Ae.inner.buttons},n.a.createElement(C.a,{type:"danger",onClick:function(){e.handleMyShit(d.product_id)}},"Confirm Swap"),n.a.createElement(C.a,{type:"primary",onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},"Return"))));case"withR":return n.a.createElement("div",{className:"tradeCards",style:t?Ae.outFrame:Ae.frame,onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},n.a.createElement("div",{className:"content",style:Ae.content,onClick:this.stopPropagation},!this.state.accepted&&n.a.createElement("div",{className:"title",style:Ae.inner.titleWithRConfirm},n.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Received Requests")),this.state.accepted&&n.a.createElement("div",{className:"title",style:Ae.inner.titleWithRConfirm},n.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Exchange Completed")),n.a.createElement("div",{className:"innerContent",style:Ae.a.frame},!this.state.accepted&&n.a.createElement("div",{className:"aItems",style:Ae.withR.frame},n.a.createElement("div",{className:"items",style:Ae.withR.items},n.a.createElement("div",{className:"itemsTitle",style:Ae.withR.itemsTitle},n.a.createElement("h6",null,"Products for Exchange")),n.a.createElement("div",{className:"itemsContent",style:Ae.withR.itemsContent},u)),null!=this.state.a&&n.a.createElement("div",{className:"choosed",style:Ae.withR.choosed},n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name)))),null==this.state.a&&n.a.createElement("div",{className:"choosed",style:Ae.withR.choosed},n.a.createElement("h5",null,"Choose a product for exchange"))),!this.state.accepted&&n.a.createElement("div",{className:"select",style:Ae.a.drop},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"Your Own Product")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:o.image[0]?o.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},o.name)))),this.state.accepted&&n.a.createElement("div",{className:"aItems",style:Ae.withR.accepted},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"Your Original Product")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:this.state.original.image[0]?this.state.original.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.original.name)))),this.state.accepted&&n.a.createElement("div",{className:"select",style:Ae.a.drop},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"Received Product")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name))))),!this.state.accepted&&n.a.createElement("div",{className:"buttons",style:Ae.inner.buttons},n.a.createElement(C.a,{type:"danger",onClick:this.handleWithR},"Confirm Trade"),n.a.createElement(C.a,{type:"primary",onClick:this.handleAConfirm},"Return")),this.state.accepted&&n.a.createElement("div",{className:"buttons",style:Ae.inner.buttons},n.a.createElement(C.a,{type:"primary",onClick:this.handleAConfirm},"Return"))));case"a":return this.state.aConfirm?n.a.createElement("div",{className:"tradeCards",style:t?Ae.outFrame:Ae.frame,onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},n.a.createElement("div",{className:"content",style:Ae.content,onClick:this.stopPropagation},n.a.createElement("div",{className:"title",style:Ae.inner.titleAConfirm},n.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Trade Request Confirmed")),n.a.createElement("div",{className:"innerContent",style:Ae.a.frame},n.a.createElement("div",{className:"aItems",style:Ae.a.aItemsConfirm},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"Your Product")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name)))),n.a.createElement("div",{className:"arrow",style:Ae.a.arrow},n.a.createElement(A.a,{type:"arrow-right"})),n.a.createElement("div",{className:"select",style:Ae.a.drop},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"Requested Product")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:o.image[0]?o.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},o.name))))),n.a.createElement("div",{className:"buttons",style:Ae.inner.buttons},n.a.createElement(C.a,{type:"primary",onClick:this.handleAConfirm},"Return")))):n.a.createElement("div",{className:"tradeCards",style:t?Ae.outFrame:Ae.frame,onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},n.a.createElement("div",{className:"content",style:Ae.content,onClick:this.stopPropagation},n.a.createElement("div",{className:"title",style:Ae.inner.title},n.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Make an Offer")),n.a.createElement("div",{className:"innerContent",style:Ae.a.frame},n.a.createElement("div",{className:"aItems",style:Ae.a.aItems},s),null==this.state.a&&n.a.createElement("div",{className:"select",style:Ae.a.drop},n.a.createElement("h4",null,"Select Your Product from Left Panel for exchange")),null!=this.state.a&&n.a.createElement("div",{className:"select",style:Ae.a.drop},n.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},n.a.createElement("h4",null,"Product to be Exchanged")),n.a.createElement("div",{className:"middleCard",style:Ae.a.middleCard},n.a.createElement("div",{className:"img",style:Ae.a.img},n.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Le,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),n.a.createElement("div",{className:"middleName",style:Ae.a.middlename},n.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name))))),n.a.createElement("div",{className:"buttons",style:Ae.inner.buttons},n.a.createElement(C.a,{type:"danger",onClick:function(){e.handlePlaceOffer(e.state.a.product_id)}},"Confirm"),n.a.createElement(C.a,{type:"primary",onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},"Return"))));default:return n.a.createElement("div",{className:"tradeCards",style:t?Ae.outFrame:Ae.frame,onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},n.a.createElement("div",{className:"content",style:Ae.content,onClick:this.stopPropagation},n.a.createElement("div",{className:"title",style:Ae.inner.title}),n.a.createElement("div",{className:"innerContent",style:Ae.inner.content},n.a.createElement("p",null,"Error")),n.a.createElement("div",{className:"buttons",style:Ae.inner.buttons},n.a.createElement(C.a,{type:"primary",onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},"Return"))))}}}]),t}(r.Component),Fe=Object(L.b)(function(e){var t=e.tradeReducer,a=e.searchReducer,r=e.userReducer;return{currentTrade:t.currentTrade,myProducts:a.myProducts,allProducts:a.allProducts,myUser:r.myUser}},function(e){return{closeTradeCards:function(t){e(K.setMyProducts(t)),e(ie.closeTradeCards())},closeAllCards:function(t){e(K.setMyProducts(t)),e(K.setFProducts(t)),e(ie.closeTradeCards()),e(K.closeDetails())},setMyProducts:function(t){e(K.setMyProducts(t))},setFProducts:function(t){e(K.setFProducts(t))},filterMyProducts:function(t){e(K.filterMyProducts(t))},storeAllProducts:function(t){e(K.storeAllProducts(t))},storeAllUsers:function(t){e(U.storeAllUsers(t))},storeMyUser:function(t){e(U.storeMyUser(t))},updateProducts:function(t){return e(Y(t))}}})(Ie),Ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showMoreItems=function(e){var t=Object(te.a)({},a.state);if(a.state.remainShowingBatch>a.state.showingBatch){var r=a.state.productsArr.slice(50*a.state.showingBatch+50,50*a.state.showingBatch+100);t.showArr=[].concat(Object(p.a)(a.state.showArr),Object(p.a)(r)),t.showingBatch=a.state.showingBatch+1,t.hasmore=!0,a.setState(t)}a.state.remainShowingBatch==e&&(t.hasmore=!1,a.setState(t))},a.componentDidMount=Object(g.a)(h.a.mark(function e(){var t,r,n,o,s,l,i,c,d,u;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://trade4goods.xyz/api/allProducts/");case 3:return(t=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openDELModal=!1,e.openMyGoodModal=!1}),a.props.storeAllProducts(t.data),0===a.props.searchArr.length?(r=a.shuffleArray(t.data),a.props.updateProducts(r),n=Math.floor(r.length/50),o=r.slice(0,50),(s=Object(te.a)({},a.state)).hasmore=!(n<=1),s.productsArr=r,s.showArr=o,s.remainShowingBatch=n,a.setState(s),console.log(a.state.remainShowingBatch)):(l=a.props.searchArr,i=Math.floor(l.length/50),c=l.slice(0,50),(d=Object(te.a)({},a.state)).hasmore=!(i<=1),d.productsArr=l,d.showArr=c,d.remainShowingBatch=i,a.props.updateProducts(t.data),a.setState(d)),e.next=9,v.a.get("https://trade4goods.xyz/api/allProfile/");case 9:u=e.sent,a.props.storeAllUsers(u.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])})),a.state={productsArr:[],filterArr:[],showArr:[],remainShowingBatch:0,showingBatch:0,hasmore:!0},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"shuffleArray",value:function(e){var t,a,r;for(r=e.length-1;r>0;r--)t=Math.floor(Math.random()*(r+1)),a=e[r],e[r]=e[t],e[t]=a;return e}},{key:"componentWillReceiveProps",value:function(e){var t=e.searchArr,a=Math.floor(t.length/50),r=t.slice(0,50),n=Object(te.a)({},this.state);n.hasmore=!(a<=1),n.productsArr=t,n.showArr=r,n.remainShowingBatch=a,this.props.updateProducts(e.searchArr),this.setState(n)}},{key:"render",value:function(){var e=n.a.createElement("div",{style:{width:"100%",textAlign:"center"},key:0},n.a.createElement("img",{alt:"isLoading",src:a(457)})),t=this.state.showArr.map(function(e){return e.description.length>135&&(e.description=e.description.slice(0,135)+" ....."),n.a.createElement(Ce,{key:e.product_id,details:e,description:e.description,name:e.name,imgUrl:e.image[0]})}),r=t.filter(function(e,t){return(t+1)%6===1}),o=t.filter(function(e,t){return(t+1)%6===2}),s=t.filter(function(e,t){return(t+1)%6===3}),l=t.filter(function(e,t){return(t+1)%6===4}),i=t.filter(function(e,t){return(t+1)%6===5}),c=t.filter(function(e,t){return(t+1)%6===0}),d=this.props,u=d.currentOutProduct,p=d.currentTrade;return n.a.createElement("div",null,u.details&&n.a.createElement(Re,null),p.details&&n.a.createElement(Fe,{out:!0}),n.a.createElement(ae.a,{type:"flex",gutter:10},n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},n.a.createElement(xe.a,{pageStart:0,loadMore:this.showMoreItems.bind(this),hasMore:this.state.hasmore,loader:e,useWindow:!0},r)),n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},o),n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},s),n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},l),n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},i),n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},c)))}}]),t}(n.a.Component),ze=Object(L.b)(function(e){var t=e.roootReducer,a=e.searchReducer,r=e.tradeReducer;return{searchArr:t.searchArr,productsArr:t.productsArr,currentOutProduct:a.currentOutProduct,currentTrade:r.currentTrade,refresh:a.refresh,allProducts:a.allProducts}},function(e){return{updateProducts:function(t){return e(Y(t))},storeAllProducts:function(t){e(K.storeAllProducts(t))},storeAllUsers:function(t){e(U.storeAllUsers(t))}}})(Ge),Be=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"404"),n.a.createElement("h1",null,"Sorry, Page not found:("))},qe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={isVerify:!1,isError:!1,errorMsg:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()("https://localhost:8443/api/verifyEmail/".concat(this.props.match.params.id),{method:"post",withCredentials:!0});case 3:e.sent,this.setState({isVerify:!0}),e.next=14;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.status),console.log(e.t0.response),console.log(e.t0.response.data),console.log(e.t0.response.data.message),this.setState({isError:!0,errorMsg:e.t0.response.data.message});case 14:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",{style:M},!this.state.isVerify&&!this.state.isError&&n.a.createElement("div",null,n.a.createElement("img",{src:a(145)}),n.a.createElement("h1",null,"Verifying...")),this.state.isVerify&&n.a.createElement("div",null,n.a.createElement("div",null,"You have successfully verified the email!"),n.a.createElement(G.a,{to:"/"},"Return")),this.state.isError&&n.a.createElement("div",null,n.a.createElement("h1",null,this.state.errorMsg),n.a.createElement(G.a,{to:"/"},"Return")))}}]),t}(n.a.Component),We=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.history.push("/")}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"yes"))}}]),t}(n.a.Component),He=Object(Q.a)(We),Ye=a(117),Qe=a.n(Ye),Ve=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.myUser;return n.a.createElement("div",{style:{width:"15vw",height:"100%",backgroundColor:"#eafeea",display:"flex",justifyContent:"center"}},e&&n.a.createElement("div",{style:{color:"#2d4b2d",display:"flex",alignItems:"center",flexDirection:"column",paddingTop:"5vh"}},n.a.createElement("img",{src:e.profile_picture,style:{width:"10vw",borderRadius:"50%"}}),n.a.createElement("h4",{style:{paddingTop:"1vw",paddingBottom:"1vw"}},e.displayed_name),n.a.createElement("h6",{style:{paddingBottom:"1vw"}},"Uploaded Products: ",e.uploaded_products.length),n.a.createElement(C.a,{ghost:!0,type:"primary",onClick:this.props.handleUploadModal},"Upload New Products"),this.props.openUploadModal&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:this.props.handleUploadModal},n.a.createElement(Qe.a,null))))}}]),t}(r.Component),Ke=Object(L.b)(function(e){console.log(e);var t=e.userReducer;return{users:t.users,openUploadModal:t.openUploadModal,myUser:t.myUser}},function(e){return{handleUsers:function(t){e(U.storeUsers(t))},handleUploadModal:function(){e(U.openUploadModal())}}})(Ve),Ze=a(488),Je=a(61),Xe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){},a.rerouteSearch=function(){a.props.submit&&(a.props.saveSearch(a.props.submit),a.props.clearSearch())},a.handleEdit=function(e){window.confirm("edit?")?(Ze.a.success("edited"),console.log(e.target.parentNode.parentNode.parentNode.parentNode.parentNode.id),e.target.parentNode.parentNode.parentNode.parentNode.parentNode.style.display="none"):Ze.a.error("no edit")},a.handleDelete=function(){var e=Object(g.a)(h.a.mark(function e(t){var r,n,o,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("delete?")){e.next=29;break}return e.prev=2,e.next=5,v()("https://localhost:8443/api/product/".concat(t),{method:"delete",withCredentials:!0});case 5:return r=e.sent,console.log(r),e.next=9,v.a.get("https://trade4goods.xyz/api/allProducts/");case 9:return(n=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(n.data),a.props.updateProducts(n.data),e.next=15,v.a.get("https://trade4goods.xyz/api/allProfile/");case 15:return o=e.sent,a.props.storeAllUsers(o.data),e.next=19,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 19:s=e.sent,a.props.storeMyUser(s.data),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),console.log(e.t0);case 26:Ze.a.success("deleted"),e.next=30;break;case 29:Ze.a.error("no delete");case 30:case"end":return e.stop()}},e,this,[[2,23]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.allProducts.filter(function(t){return t.uploaded_by==e.props.myUser.user_id}).slice(0,3).map(function(t){return n.a.createElement("div",null,n.a.createElement(he,{name:t.name,image:t.image[0]?t.image[0]:Je,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleEdit:e.handleEdit,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,trade:!1}))}),a=this.props.allProducts.filter(function(t){return t.uploaded_by==e.props.myUser.user_id}).map(function(t){return n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},n.a.createElement(he,{name:t.name,image:t.image[0]?t.image[0]:Je,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleEdit:e.handleEdit,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,trade:!1}))});return n.a.createElement("div",{className:"myGoods",style:{marginRight:"2vw",marginLeft:"2vw"}},n.a.createElement(ne.a,{title:"My Goods",style:{width:"30vw"}},n.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},t,n.a.createElement("div",{className:"addPhotoBox",style:{width:180,height:180,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:10}},n.a.createElement(C.a,{onClick:function(){e.props.handleModal("MG")}},"More"),this.props.openMGModal&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.handleModal("MG")}},n.a.createElement("div",{style:M},n.a.createElement("a",{style:x,onClick:function(){e.props.handleModal("MG")}},"\xd7"),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"50vw",height:"50vh"}},n.a.createElement("h1",null,"My Goods"),n.a.createElement(ae.a,{gutter:{xs:4,sm:8,md:16,lg:16}},a))))))),n.a.createElement("h1",null,this.props.result))}}]),t}(r.Component),$e=Object(L.b)(function(e){var t=e.userReducer,a=e.searchReducer,r=e.roootReducer;return{openMGModal:t.openMGModal,products:t.products,result:t.result,myUser:t.myUser,submit:a.submit,allProducts:a.allProducts,productsArr:r.productsArr}},function(e){return{handleModal:function(t){e(U.openModal(t))},handleProducts:function(t){e(U.fetchProducts(t))},handleOneModal:function(t){e(U.openOneModal(t))},saveSearch:function(t){e(U.saveSearch(t))},clearSearch:function(){e(U.clearSearch())},storeAllProducts:function(t){e(K.storeAllProducts(t))},storeAllUsers:function(t){e(U.storeAllUsers(t))},storeMyUser:function(t){e(U.storeMyUser(t))},updateProducts:function(t){return e(Y(t))}}})(Xe),et=[{product_id:"imnumber1holyshit",name:"No.1 shit",image:["https://instagram.fhkg10-1.fna.fbcdn.net/vp/3c3f4ded26ce40c3305ea2677832e721/5CB4DF08/t51.2885-15/sh0.08/e35/s640x640/47691382_223531808567599_4717503641417610536_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net","https://instagram.fhkg10-1.fna.fbcdn.net/vp/b97a7dac66af26ab07d4508254d22b00/5CC41F7A/t51.2885-15/sh0.08/e35/s640x640/13151130_1110648835686675_1320750745_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net"],description:"shit diescription",trade_location:["Hong Kong","Admiralty"],tags:["shit","ass","poo"],uploaded_by:"user1",uploaded_at:new Date,liked_by:["user2","user3","user4"],comments:[{user:"user2",comment:"fuck you"},{user:"user3",comment:"i want u"},{user:"user4",comment:"blyat"}],offered_by:["user2","user4"],sold_to:null,sold_at:null,status:1},{product_id:"shotthefuckupimno2",name:"No.2 heaven",image:["https://instagram.fhkg10-1.fna.fbcdn.net/vp/c4ca44b4c55ff1cdf01ab1d99e242d62/5CD23847/t51.2885-15/sh0.08/e35/s640x640/46979132_362985457583166_1562090532958392437_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net","https://instagram.fhkg10-1.fna.fbcdn.net/vp/cefc1312a104fc7738062976ce232032/5CC96D63/t51.2885-15/sh0.08/e35/s640x640/13696670_1069947629726705_899931359_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net"],description:"heaven diescription",trade_location:["Kowloon","Tsim Sha Tsui"],tags:["heaven","god","jesus"],uploaded_by:"user2",uploaded_at:new Date,liked_by:["user6","user7","user8"],comments:[{user:"user5",comment:"love you"},{user:"user3",comment:"i suck u"},{user:"user9",comment:"blin oy "}],offered_by:["user5","user10"],sold_to:"user3",sold_at:null,status:2},{product_id:"oyblinimnumber3",name:"No.3 happy",image:["https://instagram.fhkg10-1.fna.fbcdn.net/vp/559f30555853d36ae3e9706e926ddec6/5CD18443/t51.2885-15/sh0.08/e35/s640x640/46320108_2359944077568520_4637869392378868037_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net","https://instagram.fhkg10-1.fna.fbcdn.net/vp/e15f454aabf67b019412866deaba15d4/5CC2C4F7/t51.2885-15/sh0.08/e35/s640x640/46649591_1994865480589048_6833024396330406976_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net"],description:"happy diescription",trade_location:["New Terroritories","Yuen Long"],tags:["joy","fun","weed"],uploaded_by:"user3",uploaded_at:new Date,liked_by:["user1","user5","user7"],comments:[{user:"user6",comment:"happy you"},{user:"user3",comment:"i happy u"},{user:"user9",comment:"happy>?? "}],offered_by:[],sold_to:"user1",sold_at:null,status:2}],tt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log("this props : ".concat(this.props.iconsArr));var e=this.props,t=e.name,a=e.image,r=e.id,o=e.description,s=e.tags,l=e.handleDelete,i=e.handleOneModal,c=e.openOneModal,d=e.allDetails;return n.a.createElement(ne.a,{style:{width:"7vw"},cover:n.a.createElement("img",{alt:t,src:a,onClick:function(){i(r)},style:{width:"7vw",height:"7vw"}}),actions:[n.a.createElement(A.a,{type:"delete",onClick:l})],key:r,id:r},n.a.createElement(ne.a.Meta,{title:t,description:o}),n.a.createElement(me,{tags:s,closable:!1}),c&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){i(r)}},n.a.createElement("div",{style:M},n.a.createElement("a",{style:x,onClick:function(){i(r)}},"\xd7"),n.a.createElement(Ee,{details:d}))))}}]),t}(r.Component),at=a(61),rt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).rerouteSearch=function(){a.props.submit&&(a.props.saveSearch(a.props.submit),a.props.clearSearch())},a.handleDelete=function(e){window.confirm("delete?")?(Ze.a.success("deleted"),e.target.parentNode.parentNode.parentNode.parentNode.parentNode.style.display="none"):Ze.a.error("no delete")},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){et.forEach(function(e){e.openOneModal=!1}),this.props.handleProducts(et)}},{key:"render",value:function(){var e=this,t=this.props.allProducts.filter(function(t){return e.props.myUser.liked_products.some(function(e){return e==t.product_id})}).slice(0,3).map(function(t){return n.a.createElement("div",null,n.a.createElement(tt,{name:t.name,image:t.image[0]?t.image[0]:at,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t}))}),a=this.props.allProducts.filter(function(t){return e.props.myUser.liked_products.some(function(e){return e==t.product_id})}).map(function(t){return n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},n.a.createElement(tt,{name:t.name,image:t.image[0]?t.image[0]:at,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t}))});return n.a.createElement("div",{className:"followedPost",style:{marginRight:"2vw",marginLeft:"2vw"}},this.rerouteSearch(),n.a.createElement(ne.a,{title:"Followed Goods",style:{width:"30vw"}},n.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},t,n.a.createElement("div",{className:"addPhotoBox",style:{width:180,height:180,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:10}},n.a.createElement(C.a,{onClick:function(){e.props.handleModal("FP")}},"More"),this.props.openFPModal&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.handleModal("FP")}},n.a.createElement("div",{style:M},n.a.createElement("a",{style:x,onClick:function(){e.props.handleModal("FP")}},"\xd7"),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"50vw",height:"50vh"}},n.a.createElement("h1",null,"Followed Post"),n.a.createElement(ae.a,{gutter:{xs:4,sm:8,md:16,lg:16}},a))))))),n.a.createElement("h1",null,this.props.result))}}]),t}(r.Component),nt=Object(L.b)(function(e){var t=e.userReducer,a=e.searchReducer,r=e.roootReducer;return{myUser:t.myUser,openFPModal:t.openFPModal,products:t.products,result:t.result,submit:a.submit,productsArr:r.productsArr,allProducts:a.allProducts}},function(e){return{handleModal:function(t){e(U.openModal(t))},handleProducts:function(t){e(U.fetchProducts(t))},handleOneModal:function(t){e(U.openOneModal(t))},saveSearch:function(t){e(U.saveSearch(t))},clearSearch:function(){e(U.clearSearch())}}})(rt),ot=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log("this props : ".concat(this.props.iconsArr));var e=this.props,t=e.name,a=e.image,r=e.id,o=e.handleDelete,s=e.handleOneModal,l=e.openOneModal,i=e.allDetails,c=e.accepted,d=e.rejected;return c?n.a.createElement(ne.a,{style:{width:"7vw",color:"red"},cover:n.a.createElement("img",{alt:t,src:a,onClick:function(){s(r)}}),key:r,id:r},n.a.createElement(ne.a.Meta,{title:t}),n.a.createElement("p",{style:{marginTop:"0.5vw",marginBottom:0}},n.a.createElement("strong",null,"Accepted")),l&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){s(r)}},n.a.createElement("div",{style:M},n.a.createElement("a",{style:x,onClick:function(){s(r)}},"\xd7"),n.a.createElement(Ee,{details:i})))):d?n.a.createElement(ne.a,{style:{width:"7vw",color:"blue"},cover:n.a.createElement("img",{alt:t,src:a,onClick:function(){s(r)}}),actions:[n.a.createElement(A.a,{type:"delete",onClick:function(){o(r)}})],key:r,id:r},n.a.createElement(ne.a.Meta,{title:t}),n.a.createElement("p",{style:{marginTop:"0.5vw",marginBottom:0}},n.a.createElement("strong",null,"Rejected")),l&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){s(r)}},n.a.createElement("div",{style:M},n.a.createElement("a",{style:x,onClick:function(){s(r)}},"\xd7"),n.a.createElement(Ee,{details:i})))):n.a.createElement(ne.a,{style:{width:"7vw",color:"green"},cover:n.a.createElement("img",{alt:t,src:a,onClick:function(){s(r)}}),actions:[n.a.createElement(A.a,{type:"delete",onClick:function(){o(r)}})],key:r,id:r},n.a.createElement(ne.a.Meta,{title:t}),n.a.createElement("p",{style:{marginTop:"0.5vw",marginBottom:0}},n.a.createElement("strong",null,"Trading in Progress")),l&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){s(r)}},n.a.createElement("div",{style:M},n.a.createElement("a",{style:x,onClick:function(){s(r)}},"\xd7"),n.a.createElement(Ee,{details:i}))))}}]),t}(r.Component),st=a(61),lt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).handleDelete=function(){var e=Object(g.a)(h.a.mark(function e(t){var r,n,o,s,l,i,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props.allProducts.filter(function(e){return e.offered_by.some(function(e){return e==t})})[0],!window.confirm("Rollback request to ".concat(r.name,"?"))){e.next=32;break}return n=r.product_id,o={product_offered:n,product_offering:t},e.prev=5,e.next=8,v()("https://trade4goods.xyz/api/offer_product",{method:"delete",data:o,withCredentials:!0});case 8:return s=e.sent,console.log(s),e.next=12,v.a.get("https://trade4goods.xyz/api/allProducts/");case 12:return(l=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(l.data),a.props.updateProducts(l.data),e.next=18,v.a.get("https://trade4goods.xyz/api/allProfile/");case 18:return i=e.sent,a.props.storeAllUsers(i.data),e.next=22,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 22:c=e.sent,a.props.storeMyUser(c.data),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),console.log(e.t0);case 29:Ze.a.success("deleted"),e.next=33;break;case 32:Ze.a.error("Rollback canceled");case 33:case"end":return e.stop()}},e,this,[[5,26]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.allProducts.filter(function(t){return 2==t.status&&t.uploaded_by==e.props.myUser.user_id}).slice(0,3).map(function(t){return n.a.createElement("div",null,n.a.createElement(ot,{name:t.name,image:t.image[0]?t.image[0]:st,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,accepted:3==t.status,rejected:1==t.status}))}),a=this.props.allProducts.filter(function(t){return 2==t.status&&t.uploaded_by==e.props.myUser.user_id}).map(function(t){return n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},n.a.createElement(ot,{name:t.name,image:t.image[0]?t.image[0]:st,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,accepted:3==t.status,rejected:1==t.status}))});return n.a.createElement("div",{className:"sentReq",style:{marginRight:"2vw",marginLeft:"2vw"}},n.a.createElement(ne.a,{title:"Sent Request",style:{width:"30vw"}},n.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},t,n.a.createElement("div",{className:"addPhotoBox",style:{width:180,height:180,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:10}},n.a.createElement(C.a,{onClick:function(){e.props.handleModal("SQ")}},"More"),this.props.openSQModal&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.handleModal("SQ")}},n.a.createElement("div",{style:M},n.a.createElement("a",{style:x,onClick:function(){e.props.handleModal("SQ")}},"\xd7"),n.a.createElement("div",null,n.a.createElement("h1",null,"My Goods"),n.a.createElement(ae.a,{gutter:{xs:4,sm:8,md:16,lg:16}},a))))))))}}]),t}(r.Component),it=Object(L.b)(function(e){var t=e.userReducer,a=e.searchReducer;return{myUser:t.myUser,openSQModal:t.openSQModal,products:t.products,result:t.result,submit:a.submit,productsArr:e.productsArr,allProducts:a.allProducts}},function(e){return{handleModal:function(t){e(U.openModal(t))},handleProducts:function(t){e(U.fetchProducts(t))},handleOneModal:function(t){e(U.openOneModal(t))},saveSearch:function(t){e(U.saveSearch(t))},clearSearch:function(){e(U.clearSearch())},storeAllProducts:function(t){e(K.storeAllProducts(t))},storeAllUsers:function(t){e(U.storeAllUsers(t))},storeMyUser:function(t){e(U.storeMyUser(t))},updateProducts:function(t){return e(Y(t))}}})(lt),ct=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log("this props : ".concat(this.props.iconsArr));var e=this.props,t=e.name,a=e.image,r=e.id,o=e.description,s=(e.tags,e.handleAccept),l=e.handleDecline,i=e.handleOneModal,c=e.openOneModal,d=e.allDetails;return n.a.createElement(ne.a,{style:{width:"7vw"},cover:n.a.createElement("img",{alt:t,src:a,onClick:function(){i(r)},style:{width:"7vw",height:"7vw"}}),actions:[n.a.createElement(A.a,{type:"check",onClick:s}),n.a.createElement(A.a,{type:"close",onClick:l})],key:r,id:r},n.a.createElement(ne.a.Meta,{title:t,description:o}),c&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){i(r)}},n.a.createElement("div",{style:M},n.a.createElement("a",{style:x,onClick:function(){i(r)}},"\xd7"),n.a.createElement(Ee,{details:d}))))}}]),t}(r.Component),dt=a(61),ut=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).handleDecline=function(e){window.confirm("decline request?")?(Ze.a.success("declined"),e.target.parentNode.parentNode.parentNode.parentNode.parentNode.style.display="none"):Ze.a.error("cancel declining")},a.handleAccept=function(e){window.confirm("Accept request?")?Ze.a.success("Accepted!"):Ze.a.error("Cancel accepting")},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.allProducts.filter(function(t){return t.offered_by.length>0&&t.uploaded_by==e.props.myUser.user_id}).slice(0,3).map(function(t){return n.a.createElement("div",null,n.a.createElement(ct,{name:t.name,image:t.image[0]?t.image[0]:dt,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleAccept:e.handleAccept,handleDecline:e.handleDecline,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t}))}),a=this.props.allProducts.filter(function(t){return t.offered_by.length>0&&t.uploaded_by==e.props.myUser.user_id}).map(function(t){return n.a.createElement(re.a,{xs:24,sm:12,md:8,lg:6,xl:4},n.a.createElement(ct,{name:t.name,image:t.image[0]?t.image[0]:dt,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleAccept:e.handleAccept,handleDecline:e.handleDecline,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t}))});return n.a.createElement("div",{className:"receivedReq",style:{marginRight:"2vw",marginLeft:"2vw"}},n.a.createElement(ne.a,{title:"Goods With Request",style:{width:"30vw"}},n.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},t,n.a.createElement("div",{className:"addPhotoBox",style:{width:180,height:180,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:10}},n.a.createElement(C.a,{onClick:function(){e.props.handleModal("RQ")}},"More"),this.props.openRQModal&&n.a.createElement(O.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.handleModal("RQ")}},n.a.createElement("div",{style:M},n.a.createElement("a",{style:x,onClick:function(){e.props.handleModal("RQ")}},"\xd7"),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"50vw",height:"50vh"}},n.a.createElement("h1",null,"My Goods"),n.a.createElement(ae.a,{gutter:{xs:4,sm:8,md:16,lg:16}},a))))))))}}]),t}(r.Component),pt=Object(L.b)(function(e){var t=e.userReducer,a=e.searchReducer,r=e.roootReducer;return{myUser:t.myUser,openRQModal:t.openRQModal,products:t.products,result:t.result,submit:a.submit,productsArr:r.productsArr,allProducts:a.allProducts}},function(e){return{handleModal:function(t){e(U.openModal(t))},handleProducts:function(t){e(U.fetchProducts(t))},handleOneModal:function(t){e(U.openOneModal(t))},saveSearch:function(t){e(U.saveSearch(t))},clearSearch:function(){e(U.clearSearch())}}})(ut),mt=a(484),ht=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.myUser.credibility;console.log(e);return n.a.createElement("div",{style:{width:"15vw",height:"93vh",backgroundColor:"#eafeea",display:"flex",flexDirection:"column",alignItems:"center"}},n.a.createElement("h1",null,"Trade History"),n.a.createElement("div",{className:"credProgress"},n.a.createElement("p",null,"Your Trade Credibility"),n.a.createElement(mt.a,{type:"circle",percent:10*e}),function(){var t={marginTop:"1vw",color:"red"};return e<5?n.a.createElement("p",{style:t},"You liar"):5==e?n.a.createElement("p",{style:t},"Not Bad"):n.a.createElement("p",{style:t},"Trustworthy Trader")}()),n.a.createElement("div",{className:"tradeGrade"},n.a.createElement("p",null,"Trader Level")))}}]),t}(r.Component),gt=Object(L.b)(function(e){return{myUser:e.userReducer.myUser}},function(e){return{}})(ht),ft=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"userPage"},n.a.createElement(ae.a,{type:"flex",justify:"space-around"},n.a.createElement(re.a,{xs:24,sm:24,md:3},n.a.createElement(Ke,null)),n.a.createElement(re.a,{xs:24,sm:24,md:18},n.a.createElement(ae.a,null,n.a.createElement(re.a,{xs:24,sm:24,md:12},n.a.createElement($e,null)),n.a.createElement(re.a,{xs:24,sm:24,md:12},n.a.createElement(nt,null))),n.a.createElement(ae.a,null,n.a.createElement(re.a,{xs:24,sm:24,md:12},n.a.createElement(it,null)),n.a.createElement(re.a,{xs:24,sm:24,md:12},n.a.createElement(pt,null)))),n.a.createElement(re.a,{xs:24,sm:24,md:3},n.a.createElement(gt,null))))}}]),t}(r.Component),yt=(Object(L.b)(function(e){return{}},function(e){return{}})(ft),a(458),{p:{width:"inherit",textAlign:"center",paddingTop:"2vh",paddingBottom:"2vh",cursor:"pointer",color:"rgb(190,190,190)"},pA:{width:"inherit",textAlign:"center",paddingTop:"2vh",paddingBottom:"2vh",cursor:"pointer",color:"rgb(255,255,255)",fontWeight:400,backgroundColor:"rgb(100,100,100)"}}),vt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"content"},n.a.createElement("ul",null,n.a.createElement("li",null,this.props.nav.MyProf&&n.a.createElement("p",{style:yt.pA,onClick:function(){e.props.handleNav("MyProf")}},"My Profile"),!this.props.nav.MyProf&&n.a.createElement("p",{style:yt.p,onClick:function(){e.props.handleNav("MyProf")}},"My Profile")),n.a.createElement("li",null,this.props.nav.MyG&&n.a.createElement("p",{style:yt.pA,onClick:function(){e.props.handleNav("MyG")}},"My Goods"),!this.props.nav.MyG&&n.a.createElement("p",{style:yt.p,onClick:function(){e.props.handleNav("MyG")}},"My Goods")),n.a.createElement("li",null,this.props.nav.FollowedG&&n.a.createElement("p",{style:yt.pA,onClick:function(){e.props.handleNav("FollowedG")}},"Followed Goods"),!this.props.nav.FollowedG&&n.a.createElement("p",{style:yt.p,onClick:function(){e.props.handleNav("FollowedG")}},"Followed Goods")),n.a.createElement("li",null,this.props.nav.Upload&&n.a.createElement("p",{style:yt.pA,onClick:function(){e.props.handleNav("Upload")}},"Upload New Products"),!this.props.nav.Upload&&n.a.createElement("p",{style:yt.p,onClick:function(){e.props.handleNav("Upload")}},"Upload New Products"))))}}]),t}(r.Component),Et=Object(L.b)(function(e){return{nav:e.newUserReducer.nav}},function(e){return{handleNav:function(t){e(Ue.handleNav(t))}}})(vt),wt={MyProf:{fontFamily:"'Rajdhani', sans-serif",padding:"2.5vw 2.5vw 2.5vw 2.5vw",display:"grid",height:"inherit",width:"inherit",gridTemplateColumns:"1fr 3fr",gridTemplateRows:"repeat(3, 1fr)",gridTemplateAreas:'\n        "a b b"\n        "a c c"\n        "a d d"\n        ',position:"relative"},profile:{gridArea:"a",backgroundColor:"rgba(255,255,255,0.5)",overflow:"hidden",margin:"1vw 1vw 1vw 1vw",display:"flex",flexDirection:"column",boxShadow:"0.5vw 0.5vw 4vw rgb(50,50,50)"},imgClass:{width:"19.25vw",height:"19.25vw",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",position:"relative"},imgOverlay:{position:"absolute",width:"19.25vw",height:"19.25vw",borderWidth:"1vw",borderStyle:"solid",borderColor:"rgba(200,200,200,0.4)",zIndex:999},imgHover:{position:"absolute",width:"19.25vw",height:"19.25vw",backgroundColor:"rgba(200,200,200,0.4)",zIndex:999,display:"flex",justifyContent:"center",alignItems:"center"},img:{width:"19.25vw"},icon:{fontSize:"3vw",color:"white",cursor:"pointer"},details:{margin:"1vw 1vw 1vw 1vw"},detailsh4:{paddingBottom:"1vw"},stat:{gridArea:"b",margin:"1vw 1vw 1vw 1vw",display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:"repeat(6, 1fr)",boxShadow:"0.5vw 0.5vw 4vw rgb(50,50,50)",backgroundColor:"rgb(60,237,188)"},stat1:{gridColumn:"1/2",gridRow:"2/7",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(150,150,150,0.4)"},cred:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},stat2:{gridColumn:"2/3",gridRow:"2/7",backgroundColor:"rgba(150,150,150,0.5)",display:"flex",justifyContent:"center",alignItems:"center"},statTitle:{gridColumn:"1/3",gridRow:"1/2",backgroundColor:"rgba(150,150,150,0.8)",display:"flex",alignItems:"center"},history:{gridArea:"c",backgroundColor:"rgb(181,229,80)",margin:"1vw 1vw 1vw 1vw",boxShadow:"0.5vw 0.5vw 4vw rgb(50,50,50)",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"repeat(6, 1fr)"},historyTitle:{gridRow:"1/2",backgroundColor:"rgba(150,150,150,0.8)",display:"flex",alignItems:"center"},historyDetails:{gridRow:"2/7",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(150,150,150,0.6)"},chain:{gridArea:"d",backgroundColor:"blue",margin:"1vw 1vw 1vw 1vw",boxShadow:"0.5vw 0.5vw 4vw rgb(50,50,50)"}},bt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"MyProf",style:wt.MyProf},n.a.createElement("div",{className:"profile",style:wt.profile},n.a.createElement("div",{className:"img",style:wt.imgClass},!this.props.imgHover&&n.a.createElement("div",{className:"imgOverlay",style:wt.imgOverlay,onMouseEnter:this.props.handleImgHover}),this.props.imgHover&&n.a.createElement("div",{className:"imgOverlay",style:wt.imgHover,onMouseLeave:this.props.handleImgHover},n.a.createElement(A.a,{type:"edit",style:wt.icon})),n.a.createElement("img",{style:wt.img,src:"https://instagram.fhkg10-1.fna.fbcdn.net/vp/54f1a6e2759141c23a4d3a9045c8d77d/5CDDE8C2/t51.2885-15/e35/42003025_325826901577405_8149234815467752856_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net",alt:""})),n.a.createElement("div",{className:"details",style:wt.details},n.a.createElement("p",null,"name"),n.a.createElement("h4",{style:wt.detailsh4},this.props.myUser.displayed_name),n.a.createElement("p",null,"phone"),n.a.createElement("h4",{style:wt.detailsh4},this.props.myUser.phone_number))),n.a.createElement("div",{className:"stat",style:wt.stat},n.a.createElement("div",{className:"title",style:wt.statTitle},n.a.createElement("h5",{style:{padding:0,marginLeft:"0.5vw",marginBottom:0}},"Stats")),n.a.createElement("div",{className:"stat1",style:wt.stat1},n.a.createElement("div",{className:"credProgress",style:wt.cred},n.a.createElement(mt.a,{type:"circle",percent:10*this.props.myUser.credibility}),n.a.createElement("p",{style:{marginBottom:0,marginTop:"1vw"}},"Your Trade Credibility"))),n.a.createElement("div",{className:"stat2",style:wt.stat2},n.a.createElement("div",{className:"credProgress",style:wt.cred},n.a.createElement(mt.a,{type:"circle",percent:10*this.props.myUser.credibility}),n.a.createElement("p",{style:{marginBottom:0,marginTop:"1vw"}},"Trader's Level")))),n.a.createElement("div",{className:"history",style:wt.history},n.a.createElement("div",{className:"title",style:wt.historyTitle},n.a.createElement("h5",{style:{padding:0,marginLeft:"0.5vw",marginBottom:0}},"Trade History")),n.a.createElement("div",{className:"details",style:wt.historyDetails},!this.props.myUser.trade_history&&n.a.createElement("h5",{style:{padding:0,marginBottom:0}},"You have no Trade History. Start Bartering!"))),n.a.createElement("div",{className:"chain",style:wt.chain},"asdf"))}}]),t}(r.Component),Ct=Object(L.b)(function(e){var t=e.userReducer,a=e.newUserReducer;return{myUser:t.myUser,imgHover:a.imgHover}},function(e){return{handleImgHover:function(){e(Ue.imgHover())}}})(bt),Ot=a(47),xt={outFrame:{superFrame:{display:"grid",gridTemplateRows:"6vh auto",width:"inherit",height:"auto",justifyContent:"center",position:"relative"},bigFrame:{gridRow:"2/3",display:"flex",flexDirection:"row",flexWrap:"wrap",width:"90vw",height:"auto",justifyContent:"center",overflowY:"scroll"},button:{gridRow:"1/2",display:"flex",backgroundImage:"linear-gradient(rgba(33,25,168,0.8),rgb(110, 110, 110))",justifyContent:"flex-end",alignItems:"center",opacity:.8,paddingRight:"9.3vw"}},frame:{width:250,height:275,gridTemplateColumns:"repeat(2, 125px)",gridTemplateRows:"125px 125px 25px",overflow:"hidden",boxShadow:"0.5vw 0.5vw 4vw rgb(50,50,50)"},img:{container:{gridColumn:"1 / 3",gridRow:"1 / 3",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",width:250,height:250},frame:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"rgba(200,200,200,0.4)"},img:{width:250,zIndex:5},status:{traded:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"rgba(17, 178, 44,1)"},trading:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"rgba(239, 192, 4,1)"},withR:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"rgba(4, 90, 239,1)"}}},status:{container:{width:250,height:25,gridColumn:"1/3",gridRow:"3/4",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(150,150,150,0.5)"}}},Mt={cards:{na:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"rgba(30,30,30,0.8)"},a:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"rgba(150,0,24,0.8)"},requested:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"#20639B"}},button:{gridRow:"1/2",display:"flex",backgroundImage:"linear-gradient(rgba(38,114,242,0.8),rgb(110,110,110))",justifyContent:"flex-end",alignItems:"center",opacity:.8,paddingRight:"9.3vw"}},kt=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.image,r=t.name,o=t.key,s=t.traded,l=t.trading,i=t.withR,c=t.nth,d=t.product_id,u=t.na,p=t.a,m=t.requested;return n.a.createElement("div",{className:"MyGCard",style:xt.frame,key:o},n.a.createElement("div",{className:"imgContainer",style:xt.img.container},s&&n.a.createElement("div",{className:"imgFrame",style:xt.img.status.traded,onClick:function(){e.props.openDetails(d,"my","traded",e.props.allUsers)}}),l&&n.a.createElement("div",{className:"imgFrame",style:xt.img.status.trading,onClick:function(){e.props.openDetails(d,"my","trading",e.props.allUsers)}}),i&&n.a.createElement("div",{className:"imgFrame",style:xt.img.status.withR,onClick:function(){e.props.openDetails(d,"my","withR",e.props.allUsers)}}),c&&n.a.createElement("div",{className:"imgFrame",style:xt.img.frame,onClick:function(){e.props.openDetails(d,"my","nth",e.props.allUsers)}}),u&&n.a.createElement("div",{className:"imgFrame",style:Mt.cards.na,onClick:function(){e.props.openDetails(d,"other","na",e.props.allUsers)}}),p&&n.a.createElement("div",{className:"imgFrame",style:Mt.cards.a,onClick:function(){e.props.openDetails(d,"other","a",e.props.allUsers)}}),m&&n.a.createElement("div",{className:"imgFrame",style:Mt.cards.requested,onClick:function(){e.props.openDetails(d,"other","requested",e.props.allUsers)}}),n.a.createElement("img",{src:a,alt:"",style:xt.img.img})),n.a.createElement("div",{className:"status",style:xt.status.container},n.a.createElement(A.a,{type:"edit"}),n.a.createElement("p",{style:{padding:0,margin:0}},r)))}}]),t}(r.Component),Pt=Object(L.b)(function(e){return{allUsers:e.userReducer.allUsers}},function(e){return{openDetails:function(){var t=Object(g.a)(h.a.mark(function t(a,r,n,o){var s,l,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v()("https://trade4goods.xyz/api/allProducts/",{method:"get",withCredentials:!0});case 3:(s=t.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),e(K.storeAllProducts(s.data)),e(Y(s.data)),l=s.data.filter(function(e){return e.product_id==a})[0].comments,i=l.map(function(){var e=Object(g.a)(h.a.mark(function e(t){var a,r,n,s;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()("https://localhost:8443/api/comment/".concat(t),{method:"get",withCredentials:!0});case 2:return a=e.sent,r=a.data[0],n=o.filter(function(e){return e.user_id==r.commentator})[0].displayed_name,s=Math.floor((new Date-new Date(r.comment_at))/864e5),e.abrupt("return",{title:n,content:r.comment,description:"".concat(s," days ago")});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),3==s.data.filter(function(e){return e.product_id==a})[0].status?Promise.all(i).then(function(t){e(K.setMyProducts(a)),e(K.setFProducts(a)),e(U.storeAllComments(t,a)),e(K.openDetails(a,r,"traded"))}):Promise.all(i).then(function(t){e(K.setMyProducts(a)),e(K.setFProducts(a)),e(U.storeAllComments(t,a)),e(K.openDetails(a,r,n))}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(e,a,r,n){return t.apply(this,arguments)}}()}})(kt),_t=a(73),jt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.props.setMyProducts(a.props.myUser.user_id)},a.handleFilter=function(e){a.props.setMyProducts(a.props.myUser.user_id),a.setState({filter:e})},a.state={filter:"all"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=C.a.Group,a=this.props.myProducts.map(function(e){return n.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},n.a.createElement(Pt,{image:e.image[0]?e.image[0]:_t,name:e.name,key:"".concat(e.product_id,"_MyGCards"),traded:3==e.status,withR:e.offered_by.length>0&&null==e.sold_to,trading:2==e.status,nth:1==e.status&&0==e.offered_by.length,product_id:e.product_id}))}),r=this.props.myProducts.filter(function(e){return 3==e.status}).map(function(e){return n.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},n.a.createElement(Pt,{image:e.image[0]?e.image[0]:_t,name:e.name,key:"".concat(e.product_id,"_MyGCards"),traded:3==e.status,withR:e.offered_by.length>0&&null==e.sold_to,trading:2==e.status,nth:1==e.status&&0==e.offered_by.length,product_id:e.product_id}))}),o=this.props.myProducts.filter(function(e){return e.offered_by.length>0&&null==e.sold_to}).map(function(e){return n.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},n.a.createElement(Pt,{image:e.image[0]?e.image[0]:_t,name:e.name,key:"".concat(e.product_id,"_MyGCards"),traded:3==e.status,withR:e.offered_by.length>0&&null==e.sold_to,trading:2==e.status,nth:1==e.status&&0==e.offered_by.length,product_id:e.product_id}))}),s=this.props.myProducts.filter(function(e){return 2==e.status&&0==e.offered_by.length}).map(function(e){return n.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},n.a.createElement(Pt,{image:e.image[0]?e.image[0]:_t,name:e.name,key:"".concat(e.product_id,"_MyGCards"),traded:3==e.status,withR:e.offered_by.length>0&&null==e.sold_to,trading:2==e.status,nth:1==e.status&&0==e.offered_by.length,product_id:e.product_id}))}),l=function(){switch(e.state.filter){case"traded":return n.a.createElement("div",{className:"contents",style:xt.outFrame.bigFrame},r);case"withR":return n.a.createElement("div",{className:"contents",style:xt.outFrame.bigFrame},o);case"trading":return n.a.createElement("div",{className:"contents",style:xt.outFrame.bigFrame},s);case"all":default:return n.a.createElement("div",{className:"contents",style:xt.outFrame.bigFrame},a)}},i=function(t){e.props.sortProducts(t),l()};return n.a.createElement("div",Object(Ot.a)({className:"MyG",style:{padding:"2.5vw 2.5vw 2.5vw 2.5vw"}},"style",xt.outFrame.superFrame),n.a.createElement("div",{className:"buttons",style:xt.outFrame.button},n.a.createElement("div",{className:"content",style:{display:"flex",flexDirection:"row"}},n.a.createElement("div",{className:"filter",style:{display:"flex",flexDirection:"row",marginLeft:"1vw",marginRight:"1vw"}},n.a.createElement("h6",{style:{paddingTop:"0.4vw",paddingBottom:0,marginBottom:0,marginRight:"0.4vw",color:"white"}},"Filter"),n.a.createElement(t,null,n.a.createElement(C.a,{onClick:function(){e.handleFilter("all")}},"All"),n.a.createElement(C.a,{style:{backgroundColor:"rgba(4, 90, 239,0.5)",color:"white"},onClick:function(){e.handleFilter("withR")}},"With Requests"),n.a.createElement(C.a,{style:{backgroundColor:"rgba(239, 192, 4,0.5)",color:"white"},onClick:function(){e.handleFilter("trading")}},"Trading"),n.a.createElement(C.a,{style:{backgroundColor:"rgba(17, 178, 44,0.5)",color:"white"},onClick:function(){e.handleFilter("traded")}},"Traded"))),n.a.createElement("div",{className:"Order",style:{display:"flex",flexDirection:"row",marginLeft:"1vw",marginRight:"1vw"}},n.a.createElement("h6",{style:{paddingTop:"0.4vw",paddingBottom:0,marginBottom:0,marginRight:"0.4vw",color:"white"}},"Order"),n.a.createElement(t,null,n.a.createElement(C.a,{onClick:function(){i("date")}},"Date of Upload"),n.a.createElement(C.a,{onClick:function(){i("pop")}},"Popularity"))))),l())}}]),t}(r.Component),Nt=Object(L.b)(function(e){var t=e.searchReducer,a=e.userReducer;return{allProducts:t.allProducts,myProducts:t.myProducts,myUser:a.myUser}},function(e){return{setMyProducts:function(t){e(K.setMyProducts(t))},sortProducts:function(t){e(K.sortProducts(t))}}})(jt),Dt=a(73),St=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.props.setFProducts(a.props.myUser.user_id)},a.handleFilter=function(e){a.props.setFProducts(a.props.myUser.user_id),a.setState({filter:e})},a.state={filter:"all"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=function(){switch(e.state.filter){case"a":return n.a.createElement("div",{className:"contents",style:xt.outFrame.bigFrame},o);case"na":return n.a.createElement("div",{className:"contents",style:xt.outFrame.bigFrame},s);case"requested":return n.a.createElement("div",{className:"contents",style:xt.outFrame.bigFrame},l);case"all":default:return n.a.createElement("div",{className:"contents",style:xt.outFrame.bigFrame},r)}},a=this.props.myUser.uploaded_products,r=this.props.fProducts.map(function(e){var t=e.offered_by.some(function(e){return a.some(function(t){return t==e})});return n.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},n.a.createElement(Pt,{image:e.image[0]?e.image[0]:Dt,name:e.name,key:"".concat(e.product_id,"_MyGCards"),na:e.status>1,a:1==e.status,requested:t&&3!=e.status,product_id:e.product_id}))}),o=this.props.fProducts.filter(function(e){return 1==e.status}).map(function(e){var t=e.offered_by.some(function(e){return a.some(function(t){return t==e})});return n.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},n.a.createElement(Pt,{image:e.image[0]?e.image[0]:Dt,name:e.name,key:"".concat(e.product_id,"_FollowedGCards"),na:e.status>1,a:1==e.status,requested:t&&3!=e.status,product_id:e.product_id}))}),s=this.props.fProducts.filter(function(e){return e.status>1}).map(function(e){var t=e.offered_by.some(function(e){return a.some(function(t){return t==e})});return n.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},n.a.createElement(Pt,{image:e.image[0]?e.image[0]:Dt,name:e.name,key:"".concat(e.product_id,"_FollowedGCards"),na:e.status>1,a:1==e.status,requested:t&&3!=e.status,product_id:e.product_id}))}),l=this.props.fProducts.filter(function(e){return e.offered_by.some(function(e){return a.some(function(t){return t==e})})&&3!=e.status}).map(function(e){return n.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},n.a.createElement(Pt,{image:e.image[0]?e.image[0]:Dt,name:e.name,key:"".concat(e.product_id,"_FollowedGCards"),na:e.status>1,a:1==e.status,requested:!0,product_id:e.product_id}))}),i=function(a){e.props.sortFProducts(a),t()},c=C.a.Group;return n.a.createElement("div",Object(Ot.a)({className:"FollowedG",style:{padding:"2.5vw 2.5vw 2.5vw 2.5vw"}},"style",xt.outFrame.superFrame),n.a.createElement("div",{className:"buttons",style:Mt.button},n.a.createElement("div",{className:"content",style:{display:"flex",flexDirection:"row"}},n.a.createElement("div",{className:"filter",style:{display:"flex",flexDirection:"row",marginLeft:"1vw",marginRight:"1vw"}},n.a.createElement("h6",{style:{paddingTop:"0.4vw",paddingBottom:0,marginBottom:0,marginRight:"0.4vw",color:"white"}},"Filter"),n.a.createElement(c,null,n.a.createElement(C.a,{onClick:function(){e.handleFilter("all")}},"All"),n.a.createElement(C.a,{style:{backgroundColor:"rgba(200,0,0,0.5)",color:"white"},onClick:function(){e.handleFilter("a")}},"Available"),n.a.createElement(C.a,{style:{backgroundColor:"rgba(30,30,30,0.5)",color:"white"},onClick:function(){e.handleFilter("na")}},"Not Available"),n.a.createElement(C.a,{style:{backgroundColor:"#20639B",color:"white"},onClick:function(){e.handleFilter("requested")}},"Requested"))),n.a.createElement("div",{className:"Order",style:{display:"flex",flexDirection:"row",marginLeft:"1vw",marginRight:"1vw"}},n.a.createElement("h6",{style:{paddingTop:"0.4vw",paddingBottom:0,marginBottom:0,marginRight:"0.4vw",color:"white"}},"Order"),n.a.createElement(c,null,n.a.createElement(C.a,{onClick:function(){i("date")}},"Date of Upload"),n.a.createElement(C.a,{onClick:function(){i("pop")}},"Popularity"))))),t())}}]),t}(r.Component),Tt=Object(L.b)(function(e){var t=e.searchReducer,a=e.userReducer;return{fProducts:t.fProducts,myUser:a.myUser}},function(e){return{setFProducts:function(t){e(K.setFProducts(t))},sortFProducts:function(t){e(K.sortFProducts(t))}}})(St),Rt=a(489),At=a(166),Ut=a.n(At),Lt=a(186),It=a.n(Lt),Ft={apiKey:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",authDomain:"trade-9176f.firebaseapp.com",databaseURL:"https://trade-9176f.firebaseio.com/",projectId:"trade-9176f",storageBucket:"trade-9176f.appspot.com",messagingSenderId:"1045946857977"},Gt=a(187),zt={frame:{padding:"2.5vw 2.5vw 2.5vw 2.5vw",display:"grid",height:"80vh",width:"90vw",gridTemplateColumns:"42.5vw, 5vw, 42.5vw"},img:{frame:{gridColumn:"1/2",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"inherit",width:"42.5vw"},imgBox:{display:"grid",gridTemplateColumns:"repeat(2, 14vw)",gridTemplateRows:"repeat(3,14vw)",backgroundColor:"rgba(150,150,150,0.5)"},label:{display:"flex",flexDirection:"column",width:"14vw",height:"14vw",backgroundColor:"rgba(240,240,240,0.7)",justifyContent:"center",alignItems:"center",padding:0,margin:0},overlay:{display:"flex",flexDirection:"column",width:"14vw",height:"14vw",justifyContent:"center",alignItems:"center",position:"absolute",backgroundColor:"rgba(200,200,200,0.8)",opacity:0,zIndex:999},overlayHover:{display:"flex",flexDirection:"column",width:"14vw",height:"14vw",justifyContent:"center",alignItems:"center",position:"absolute",backgroundColor:"rgba(200,200,200,0.8)",opacity:1,zIndex:999}},form:{frame:{gridColumn:"3/4",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"inherit",width:"42.5vw"}}},Bt=Gt.initializeApp(Ft),qt=[{value:"HK",label:"Hong Kong",children:[{value:"central",label:"Central"},{value:"admiralty",label:"Admiralty"},{value:"taiKoo",label:"Tai Koo"}]},{value:"KLN",label:"Kowloon",children:[{value:"tsimShaTsui",label:"Tsim Sha Tsui"},{value:"wongTaiSin",label:"Wong Tai Sin"}]},{value:"NT",label:"New Terroritories",children:[{value:"tsuenWan",label:"Tsuen Wan"},{value:"yuenLong",label:"Yuen Long"}]}],Wt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(){var e=Object(g.a)(h.a.mark(function e(t,r){var n,o,s,l,i,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=34;break}return n=a.props.previewPhotos.filter(function(e){return"fail"!=e.src}).map(function(e){return e.src}),r.tags=Object(p.a)(a.props.finishedTag),r.photos=Object(p.a)(n),console.log(r),o={name:r.productName,description:r.productDescription,expectation:r.expectation,trade_location:"".concat(r.location[0],",").concat(r.location[1]),tags:r.tags,image:r.photos},e.prev=6,e.next=9,v()("https://trade4goods.xyz/api/product",{method:"post",data:o,withCredentials:!0});case 9:return s=e.sent,console.log(s),alert("success"),a.props.form.setFieldsValue({productName:"",productDescription:"",expectation:"",location:["HK","central"]}),e.next=15,v.a.get("https://trade4goods.xyz/api/allProducts/");case 15:return(l=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(l.data),a.props.updateProducts(l.data),e.next=21,v.a.get("https://trade4goods.xyz/api/allProfile/");case 21:return i=e.sent,a.props.storeAllUsers(i.data),e.next=25,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 25:c=e.sent,a.props.storeMyUser(c.data),a.props.handleSubmitForm(),document.querySelector("#clearImageField").setAttribute("value",""),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(6),console.log(e.t0.response.data);case 34:case"end":return e.stop()}},e,this,[[6,31]])}));return function(t,a){return e.apply(this,arguments)}}())},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.handleFiles=function(e){a.props.previewPhotos.length+e.target.files.length<=6?a.props.handleFiles(e):alert("You can only upload max 6 photos per product.")},a.imgHover=function(e){"enter"==e?a.setState({imgOverlay:zt.img.overlayHover}):a.setState({imgOverlay:zt.img.overlay})},a.state={confirmDirty:!1,autoCompleteResult:[],imgOverlay:zt.img.overlay},console.log(e),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},r=this.props.previewPhotos.map(function(t){var a;return"fail"!=t.src?n.a.createElement("div",{className:"previewBox",key:t.key,id:t.key,style:(a={display:"flex",alignItems:"center",justifyContent:"center",width:"14vw",height:"14vw",overflow:"hidden",backgroundColor:"rgba(240,240,240,0.7)"},Object(Ot.a)(a,"overflow","hidden"),Object(Ot.a)(a,"position","relative"),a)},n.a.createElement("img",Object(Ot.a)({src:t.src,alt:"",style:{width:"14vw"}},"style",{position:"relative"})),n.a.createElement("div",{className:"previewOverlay",style:e.state.imgOverlay,onMouseEnter:function(){e.imgHover("enter")},onMouseLeave:function(){e.imgHover("leave")}},n.a.createElement(A.a,{type:"delete",onClick:function(){e.props.handleImgDelete(t.key)}}))):n.a.createElement("div",{className:"previewBox",key:t.key,id:t.key},n.a.createElement("div",{className:"pContainer",style:{width:"14vw",height:"14vw",backgroundColor:"rgb(252, 255, 241)",overflowWrap:"break-word"}},n.a.createElement("p",{style:{color:"red",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"}},"This file exceeds 5MB limit")))});return n.a.createElement("div",{className:"Upload",style:zt.frame},n.a.createElement("div",{className:"imgUpload",style:zt.img.frame},n.a.createElement("div",{className:"imgBox",style:zt.img.imgBox},r,this.props.previewPhotos.length<6&&n.a.createElement("label",{htmlFor:"clearImageField",style:zt.img.label},n.a.createElement(A.a,{type:"upload",style:{fontSize:"2vw",paddingBottom:"0.5vw"}}),n.a.createElement("p",{style:{fontSize:"1vw"}},"Upload Photos"),n.a.createElement("input",{type:"file",multiple:!0,onChange:this.handleFiles,id:"clearImageField",style:{display:"none"}})))),n.a.createElement("div",{className:"form",style:zt.form.frame},n.a.createElement(E.a,{onSubmit:this.handleSubmit,style:{width:"inherit",marginRight:"7vw"}},n.a.createElement(E.a.Item,Object.assign({},a,{label:"Product Name"}),t("productName",{rules:[{required:!0,message:"Please input the name of your product",whitespace:!0}]})(n.a.createElement(w.a,null))),n.a.createElement(E.a.Item,Object.assign({},a,{label:"Product Description"}),t("productDescription",{rules:[{required:!0,message:"Describe your product",whitespace:!0}]})(n.a.createElement(Ut.a,null))),n.a.createElement(E.a.Item,Object.assign({},a,{label:"Trade Location"}),t("location",{initialValue:["HK","central"],rules:[{type:"array",required:!0,message:"Select a trade location"}]})(n.a.createElement(Rt.a,{options:qt}))),n.a.createElement(E.a.Item,Object.assign({},a,{label:"Expectation"}),t("expectation",{rules:[{required:!0,message:"List your expected products for exchange"}]})(n.a.createElement(Ut.a,null))),n.a.createElement(E.a.Item,Object.assign({},a,{label:"Tags"}),n.a.createElement(w.a,{placeholder:"Press Spacebar after finishing One Tag",onChange:this.props.handleTagChange,value:this.props.typingTag}),n.a.createElement(me,{tags:this.props.finishedTag,closable:!0})),n.a.createElement(E.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},n.a.createElement(C.a,{type:"primary",htmlType:"submit"},"Submit")))))}}]),t}(r.Component),Ht=E.a.create({name:"AddPhotoForm"})(Object(L.b)(function(e){var t=e.photoReducer;return{typingTag:t.typingTag,finishedTag:t.finishedTag,previewPhotos:t.previewPhotos}},function(e){return{handleTagChange:function(t){var a=t.target.value;a.indexOf(" ")==a.length-1?e(ue.AddPhotosForm_finishedTag(a.slice(0,a.length-1))):e(ue.AddPhotosForm_typingTag(a))},handleFiles:function(t){for(var a=[],r=0;r<t.target.files.length;r++)a.push(t.target.files[r]);a.forEach(function(t){var a=String(It()());if(t.size<5242880){var r=Bt.storage().ref(),n="".concat(a,"-").concat(t.name),o={contentType:t.type};r.child(n).put(t,o).then(function(e){return e.ref.getDownloadURL()}).then(function(t){console.log(t),e(ue.PreviewPhotos({src:t,key:a}))})}else window.alert("One or more photos exceed 5MB limit")})},handleSubmitForm:function(){e(ue.clearForm())},storeAllProducts:function(t){e(K.storeAllProducts(t))},storeAllUsers:function(t){e(U.storeAllUsers(t))},storeMyUser:function(t){e(U.storeMyUser(t))},handleImgDelete:function(t){e(ue.imgDelete(t))},updateProducts:function(t){return e(Y(t))}}})(Wt)),Yt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).stopPropagation=function(e){e.stopPropagation()},a.closeDetails=Object(g.a)(h.a.mark(function e(){var t,r,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://trade4goods.xyz/api/allProducts/");case 3:return(t=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(t.data),a.props.updateProducts(t.data),e.next=9,v.a.get("https://trade4goods.xyz/api/allProfile/");case 9:return r=e.sent,a.props.storeAllUsers(r.data),e.next=13,v()("https://trade4goods.xyz/api/profile",{method:"get",withCredentials:!0});case 13:n=e.sent,a.props.storeMyUser(n.data),a.props.closeDetails(a.props.myUser.user_id),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}},e,this,[[0,18]])})),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.currentProduct,t=e.details,a=e.whom,r=e.which;return n.a.createElement("div",{className:"bigCards",onClick:this.closeDetails,style:Me.frame},n.a.createElement("div",{className:"content",style:Me.content,onClick:this.stopPropagation},n.a.createElement(Se,{details:t[0],whom:a,status:r})))}}]),t}(r.Component),Qt=Object(L.b)(function(e){var t=e.searchReducer,a=e.userReducer;return{currentProduct:t.currentProduct,myUser:a.myUser}},function(e){return{closeDetails:function(t){e(K.setMyProducts(t)),e(K.setFProducts(t)),e(K.closeDetails())},storeAllProducts:function(t){e(K.storeAllProducts(t))},storeAllUsers:function(t){e(U.storeAllUsers(t))},storeMyUser:function(t){e(U.storeMyUser(t))},updateProducts:function(t){return e(Y(t))}}})(Yt),Vt={newMain:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gridTemplateAreas:'"a b b c c c c c c c"',backgroundColor:"black",width:"100vw",height:"93vh"},newNav:{gridArea:"a",display:"flex",justifyContent:"center",paddingTop:"6vh",backgroundColor:"rgb(80, 80, 80)",height:"inherit"},cP:{display:"none"},cP_clicked:{gridArea:"b",backgroundColor:"rgb(95, 95, 95)",height:"inherit"},mainPanel:{gridArea:"b / b / c / c",display:"flex",backgroundColor:"rgb(110, 110, 110)",height:"inherit"},mainPanel_cP_clicked:{gridArea:"c",backgroundColor:"rgb(110, 110, 110)",height:"inherit"}},Kt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){e.preventDefault(),a.setState({cPStyle:Vt.cP_clicked,mPStyle:Vt.mainPanel_cP_clicked})},a.state={cPStyle:Vt.cP,mPStyle:Vt.mainPanel},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nav,a=e.currentProduct,r=e.currentTrade;e.reqError;return n.a.createElement("div",{className:"newMain",style:Vt.newMain},n.a.createElement("div",{className:"newNav",style:Vt.newNav},n.a.createElement(Et,{handleClick:this.handleClick})),n.a.createElement("div",{className:"controlPanel",style:this.state.cPStyle},n.a.createElement("p",null,"cP")),n.a.createElement("div",{className:"mainPanel",style:this.state.mPStyle},t.MyProf&&n.a.createElement(Ct,null),t.MyG&&n.a.createElement(Nt,null),t.FollowedG&&n.a.createElement(Tt,null),t.Upload&&n.a.createElement(Ht,null),a.details&&n.a.createElement(Qt,null),r.details&&n.a.createElement(Fe,{out:!1})))}}]),t}(r.Component),Zt=Object(L.b)(function(e){var t=e.newUserReducer,a=e.searchReducer,r=e.tradeReducer;return{nav:t.nav,currentProduct:a.currentProduct,currentTrade:r.currentTrade}},function(e){return{}})(Kt),Jt=(a(414),a(490)),Xt=a(491),$t=a(480),ea=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(Jt.a,null,n.a.createElement("div",null,n.a.createElement(ee,null),n.a.createElement("div",{style:{paddingTop:"7vh"}},n.a.createElement(Xt.a,null,n.a.createElement($t.a,{exact:!0,path:"/",component:ze}),n.a.createElement($t.a,{path:"/addPhotos",component:Qe.a}),n.a.createElement($t.a,{path:"/userPage",component:Zt}),n.a.createElement($t.a,{path:"/verifyEmail/:id",component:qe}),n.a.createElement($t.a,{path:"/redirect",component:He}),n.a.createElement($t.a,{path:"*",component:Be})))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ta=a(80),aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{details:[],uploadedPhotos:[],previewPhotos:[],inputVisible:!1,inputValue:"",inputConfirm:"",typingTag:"",finishedTag:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDPHOTOS_DETAILS":return Object(te.a)({},e,{details:Object(p.a)(t.details)});case"UPLOADPHOTOS":return Object(te.a)({},e,{uploadedPhotos:Object(p.a)(t.uploadedPhotos)});case"PREVIEWPHOTOS":return t.previewPhotos.src,Object(te.a)({},e,{previewPhotos:[].concat(Object(p.a)(e.previewPhotos),[t.previewPhotos])});case"ADDPHOTOSFORM_TYPINGTAG":return Object(te.a)({},e,{typingTag:t.typingTag});case"ADDPHOTOSFORM_FINISHEDTAG":return t.finishedTag?e.finishedTag.some(function(e){return e==t.finishedTag})?Object(te.a)({},e,{finishedTag:e.finishedTag,typingTag:""}):Object(te.a)({},e,{finishedTag:[].concat(Object(p.a)(e.finishedTag),[t.finishedTag]),typingTag:""}):Object(te.a)({},e,{finishedTag:e.finishedTag,typingTag:""});case"ADDPHOTOSFORM_DELETETAG":var a=e.finishedTag.filter(function(e){return e!=t.deleteTag});return Object(te.a)({},e,{finishedTag:a});case"CLEAR_FORM":return Object(te.a)({},e,{previewPhotos:[],finishedTag:[],uploadedPhotos:[]});case"IMG_DEL":return Object(te.a)({},e,{previewPhotos:e.previewPhotos.filter(function(e){return e.key!==t.key})});default:return e}},ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[],result:"",users:[],comment:"",openMGModal:!1,openFPModal:!1,openSQModal:!1,openRQModal:!1,openUploadModal:!1,otherUser:"",myUser:{},allUsers:[],allComments:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":switch(t.column){case"MG":return Object(te.a)({},e,{openMGModal:!e.openMGModal});case"FP":return Object(te.a)({},e,{openFPModal:!e.openFPModal});case"SQ":return Object(te.a)({},e,{openSQModal:!e.openSQModal});case"RQ":return Object(te.a)({},e,{openRQModal:!e.openRQModal});default:return e}case"FETCH_PRODUCTS":return Object(te.a)({},e,{products:t.products});case"SAVE_SEARCH":return Object(te.a)({},e,{result:t.result});case"STORE_USERS":var a=t.users;return Object(te.a)({},e,{users:Object(p.a)(a)});case"OPEN_UPLOADMODAL":return Object(te.a)({},e,{openUploadModal:!e.openUploadModal});case"SHOW_OTHERUSER":return Object(te.a)({},e,{otherUser:t.otherUser});case"SET_COMMENT":return Object(te.a)({},e,{comment:t.comment});case"SUBMIT_COMMENT":return Object(te.a)({},e,{comment:""});case"CLOSE_OTHERUSER":return Object(te.a)({},e,{otherUser:""});case"STORE_MYUSER":return Object(te.a)({},e,{myUser:t.myUser});case"STORE_ALLUSERS":return Object(te.a)({},e,{allUsers:t.allUsers});case"STORE_ALLCOMMENTS":if(e.allComments.some(function(e){return e.product_id==t.product_id})){var r=e.allComments.filter(function(e){return e.product_id==t.product_id}).map(function(e){return e.comments=t.comments,e});return Object(te.a)({},e,{allComments:Object(p.a)(r)})}var n={product_id:t.product_id,comments:t.comments};return Object(te.a)({},e,{allComments:[].concat(Object(p.a)(e.allComments),[n])});case"DEL_MYUSER":return Object(te.a)({},e,{myUser:{}});default:return e}},na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{search:"",submit:"",allProducts:[],myProducts:[],fProducts:[],currentProduct:{},currentOutProduct:{},reqError:!1,copyState:{productsArr:[],filterArr:[],showArr:[],remainShowingBatch:0,showingBatch:0,hasmore:!0},refresh:1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_SEARCH":return Object(te.a)({},e,{search:t.search});case"SUBMIT_SEARCH":var a=e.search;return Object(te.a)({},e,{submit:a,search:""});case"CLEAR_SEARCH":return Object(te.a)({},e,{submit:"",search:""});case"STORE_ALL_PRODUCTS":return Object(te.a)({},e,{allProducts:Object(p.a)(t.allProducts)});case"OPEN_ONE_MODAL":var r=e.allProducts.map(function(e){return e.product_id==t.id?(1==e.openOneModal?(e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1):e.openOneModal=!0,e):e});return Object(te.a)({},e,{allProducts:r});case"OPEN_OG_MODAL":var n=e.allProducts.map(function(e){return e.product_id==t.ogID?(e.openOGModal=!e.openOGModal,e):e});return Object(te.a)({},e,{allProducts:n});case"OPEN_DEL_MODAL":var o=e.allProducts.map(function(e){return e.product_id==t.delID?(e.openDELModal=!e.openDELModal,e):e});return Object(te.a)({},e,{allProducts:o});case"OPEN_MYGOOD_MODAL":var s=e.allProducts.map(function(e){return e.product_id==t.mgID?(e.openMyGoodModal=!e.openMyGoodModal,e):e});return Object(te.a)({},e,{allProducts:s});case"SET_MY_PRODUCTS":return Object(te.a)({},e,{myProducts:e.allProducts.filter(function(e){return e.uploaded_by==t.id})});case"FILTER_MY_PRODUCTS":return Object(te.a)({},e,{myProducts:e.myProducts.filter(function(e){return e.product_id!==t.id})});case"SET_F_PRODUCTS":return Object(te.a)({},e,{fProducts:e.allProducts.filter(function(e){return e.liked_by.some(function(e){return e==t.id})})});case"SORT_FPRODUCTS":if("date"==t.sort)return Object(te.a)({},e,{myProducts:Object(p.a)(e.fProducts).sort(function(e,t){return new Date(t.uploaded_at)-new Date(e.uploaded_at)})});if("pop"==t.sort)return Object(te.a)({},e,{myProducts:Object(p.a)(e.fProducts).sort(function(e,t){return t.liked_by.length-e.liked_by.length})});case"SORT_PRODUCTS":if("date"==t.sort)return Object(te.a)({},e,{myProducts:Object(p.a)(e.myProducts).sort(function(e,t){return new Date(t.uploaded_at)-new Date(e.uploaded_at)})});if("pop"==t.sort)return Object(te.a)({},e,{myProducts:Object(p.a)(e.myProducts).sort(function(e,t){return t.liked_by.length-e.liked_by.length})});case"OPEN_DETAILS":var l=e.allProducts.filter(function(e){return e.product_id==t.id});return Object(te.a)({},e,{currentProduct:{details:l,whom:t.whom,which:t.which}});case"OPEN_OUTDETAILS":var i=e.allProducts.filter(function(e){return e.product_id==t.id});return Object(te.a)({},e,{currentOutProduct:{details:i,whom:t.whom,which:t.which}});case"CLOSE_DETAILS":return Object(te.a)({},e,{currentProduct:{}});case"CLOSE_OUTDETAILS":return Object(te.a)({},e,{currentOutProduct:{}});case"SET_COPYSTATE":return Object(te.a)({},e,{copyState:t.copyState});case"REFRESH":return Object(te.a)({},e,{refresh:e.refresh+1});default:return e}},oa={hello:" Welcome to the Example Store",productsArr:[],isLogin:!1,searchArr:[],searchKey:[],tryLogin:!1,tryReg:!1};var sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0;if(t.type===z){var a=Object(te.a)({},e);return a.productsArr=t.payload,a.searchArr=t.payload,a}if(t.type===B){var r=Object(te.a)({},e);return r.searchArr=t.payload,r}if(t.type===q){var n=Object(te.a)({},e);return n.searchKey=t.payload,n}if(t.type===H){var o=Object(te.a)({},e);return o.tryLogin=!o.tryLogin,o}if(t.type===W){var s=Object(te.a)({},e);return s.tryReg=!s.tryReg,s}return e},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{openMyGoodModal:!1,openOGModal:!1,selected:"",currentTrade:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MYGOOD_MODAL":return Object(te.a)({},e,{openMyGoodModal:!e.openMyGoodModal});case"SELECT_MYGOOD":return Object(te.a)({},e,{selected:t.selected});case"CLEAR_SELECT":return Object(te.a)({},e,{selected:""});case"OPEN_TRADECARDS":return Object(te.a)({},e,{currentTrade:t.currentTrade});case"CLOSE_TRADECARDS":return Object(te.a)({},e,{currentTrade:{}});default:return e}},ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nav:{MyProf:!0,MyG:!1,FollowedG:!1,Upload:!1},imgHover:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NAV":var a=Object.assign({},e.nav);for(var r in a)r==t.tag?a[r]=!0:a[r]=!1;return Object(te.a)({},e,{nav:a});case"IMG_HOVER":return Object(te.a)({},e,{imgHover:!e.imgHover});default:return e}},ca=a(225),da=a.n(ca);a(416).config();var ua=Object(ta.c)({photoReducer:aa,userReducer:ra,searchReducer:na,roootReducer:sa,tradeReducer:la,newUserReducer:ia}),pa=Object(ta.d)(ua,Object(ta.a)(da.a));s.a.render(n.a.createElement(L.a,{store:pa},n.a.createElement(ea,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},457:function(e,t,a){e.exports=a.p+"static/media/mainPageLoadingPic.a7f3de54.gif"},61:function(e,t,a){e.exports=a.p+"static/media/error404.9c11c6e7.gif"},73:function(e,t,a){e.exports=a.p+"static/media/replaceNoImg.0c094ed4.gif"}},[[228,2,1]]]);
//# sourceMappingURL=main.81625163.chunk.js.map