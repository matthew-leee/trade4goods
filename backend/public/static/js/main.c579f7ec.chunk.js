(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){e.exports=a.p+"static/media/loadingpic.2fe17f6a.gif"},161:function(e,t){},225:function(e,t,a){e.exports=a(474)},230:function(e,t,a){},401:function(e,t,a){e.exports=a.p+"static/media/mainPageLoadingPic.a7f3de54.gif"},468:function(e,t,a){},474:function(e,t,a){"use strict";a.r(t);var r,n=a(0),o=a.n(n),s=a(18),i=a.n(s),l=(a(230),a(7)),c=a(8),d=a(11),p=a(9),m=a(10),u=(a(232),a(234),a(27)),E=a(5),_=a.n(E),A=a(16),f=a(32),h=a(3),P=a.n(h),g=a(482),C=a(475),y=a(487),R=a(476),T=a(23),b={cursor:"pointer",position:"absolute",display:"block",padding:"2px 5px",lineHeight:"20px",right:"45px",top:"45px",color:"grey",fontSize:"50px"},v={width:"100%",height:"100%",padding:"12px",backgroundColor:"#f2f2f2"},O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).openModal=function(){a.setState({open:!0})},a.closeModal=function(){a.setState({open:!1})},a.state={open:!0},a.openModal=a.openModal.bind(Object(f.a)(Object(f.a)(a))),a.closeModal=a.closeModal.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(T.a,{open:this.state.open,closeOnDocumentClick:!0,onClose:this.props.openTerms,contentStyle:{height:"100%"}},o.a.createElement("div",{style:v},o.a.createElement("a",{style:b,onClick:this.props.openTerms},"\xd7"),o.a.createElement("div",{style:{overflow:"scroll",height:"100%"}},o.a.createElement("h2",null,"Welcome to trade4goods"),o.a.createElement("p",null,"These terms and conditions outline the rules and regulations for the use of trade4goods's Website.")," ",o.a.createElement("br",null),o.a.createElement("span",{style:{textTransform:"capitalize"}}," trade4goods")," is located at:",o.a.createElement("br",null),o.a.createElement("p",null,"By accessing this website we assume you accept these terms and conditions in full. Do not continue to use trade4goods's website if you do not accept all of the terms and conditions stated on this page."),o.a.createElement("p",null,"The following terminology applies to these Terms and Conditions, Privacy Statement and Disclaimer Notice and any or all Agreements: \u201cClient\u201d, \u201cYou\u201d and \u201cYour\u201d refers to you, the person accessing this website and accepting the Company\u2019s terms and conditions. \u201cThe Company\u201d, \u201cOurselves\u201d, \u201cWe\u201d, \u201cOur\u201d and \u201cUs\u201d, refers to our Company. \u201cParty\u201d, \u201cParties\u201d, or \u201cUs\u201d, refers to both the Client and ourselves, or either the Client or ourselves. All terms refer to the offer, acceptance and consideration of payment necessary to undertake the process of our assistance to the Client in the most appropriate manner, whether by formal meetings of a fixed duration, or any other means, for the express purpose of meeting the Client\u2019s needs in respect of provision of the Company\u2019s stated services/products, in accordance with and subject to, prevailing law of asd. Any use of the above terminology or other words in the singular, plural, capitalisation and/or he/she or they, are taken as interchangeable and therefore as referring to same."),o.a.createElement("h2",null,"Cookies"),o.a.createElement("p",null,"We employ the use of cookies. By using trade4goods's website you consent to the use of cookies in accordance with trade4goods\u2019s privacy policy."),o.a.createElement("p",null,"Most of the modern day interactive web sites use cookies to enable us to retrieve user details for each visit. Cookies are used in some areas of our site to enable the functionality of this area and ease of use for those people visiting. Some of our affiliate / advertising partners may also use cookies."),o.a.createElement("h2",null,"License"),o.a.createElement("p",null,"Unless otherwise stated, trade4goods and/or it\u2019s licensors own the intellectual property rights for all material on trade4goods. All intellectual property rights are reserved. You may view and/or print pages from https://www.trade4goods.com for your own personal use subject to restrictions set in these terms and conditions."),o.a.createElement("p",null,"You must not:"),o.a.createElement("ol",null,o.a.createElement("li",null,"Republish material from https://www.trade4goods.com"),o.a.createElement("li",null,"Sell, rent or sub-license material from https://www.trade4goods.com"),o.a.createElement("li",null,"Reproduce, duplicate or copy material from https://www.trade4goods.com")),o.a.createElement("p",null,"Redistribute content from trade4goods (unless content is specifically made for redistribution)."),o.a.createElement("h2",null,"User Comments"),o.a.createElement("ol",null,o.a.createElement("li",null,"This Agreement shall begin on the date hereof."),o.a.createElement("li",null,"Certain parts of this website offer the opportunity for users to post and exchange opinions, information, material and data ('Comments') in areas of the website. trade4goods does not screen, edit, publish or review Comments prior to their appearance on the website and Comments do not reflect the views or opinions oftrade4goods, its agents or affiliates. Comments reflect the view and opinion of the person who posts such view or opinion. To the extent permitted by applicable laws trade4goodsshall not be responsible or liable for the Comments or for any loss cost, liability, damages or expenses caused and or suffered as a result of any use of and/or posting of and/or appearance of the Comments on this website."),o.a.createElement("li",null,"trade4goodsreserves the right to monitor all Comments and to remove any Comments which it considers in its absolute discretion to be inappropriate, offensive or otherwise in breach of these Terms and Conditions."),o.a.createElement("li",null,"You warrant and represent that:",o.a.createElement("ol",null,o.a.createElement("li",null,"You are entitled to post the Comments on our website and have all necessary licenses and consents to do so;"),o.a.createElement("li",null,"The Comments do not infringe any intellectual property right, including without limitation copyright, patent or trademark, or other proprietary right of any third party;"),o.a.createElement("li",null,"The Comments do not contain any defamatory, libelous, offensive, indecent or otherwise unlawful material or material which is an invasion of privacy"),o.a.createElement("li",null,"The Comments will not be used to solicit or promote business or custom or present commercial activities or unlawful activity."))),o.a.createElement("li",null,"You hereby grant to ",o.a.createElement("strong",null,"trade4goods")," a non-exclusive royalty-free license to use, reproduce, edit and authorize others to use, reproduce and edit any of your Comments in any and all forms, formats or media.")),o.a.createElement("h2",null,"Hyperlinking to our Content"),o.a.createElement("ol",null,o.a.createElement("li",null,"The following organizations may link to our Web site without prior written approval:",o.a.createElement("ol",null,o.a.createElement("li",null,"Government agencies;"),o.a.createElement("li",null,"Search engines;"),o.a.createElement("li",null,"News organizations;"),o.a.createElement("li",null,"Online directory distributors when they list us in the directory may link to our Web site in the same manner as they hyperlink to the Web sites of other listed businesses; and"),o.a.createElement("li",null,"Systemwide Accredited Businesses except soliciting non-profit organizations, charity shopping malls, and charity fundraising groups which may not hyperlink to our Web site.")))),o.a.createElement("ol",{start:"2"},o.a.createElement("li",null,"These organizations may link to our home page, to publications or to other Web site information so long as the link: (a) is not in any way misleading; (b) does not falsely imply sponsorship, endorsement or approval of the linking party and its products or services; and (c) fits within the context of the linking party's site."),o.a.createElement("li",null,"We may consider and approve in our sole discretion other link requests from the following types of organizations:",o.a.createElement("ol",null,o.a.createElement("li",null,"commonly-known consumer and/or business information sources such as Chambers of Commerce, American Automobile Association, AARP and Consumers Union;"),o.a.createElement("li",null,"dot.com community sites;"),o.a.createElement("li",null,"associations or other groups representing charities, including charity giving sites,"),o.a.createElement("li",null,"online directory distributors;"),o.a.createElement("li",null,"internet portals;"),o.a.createElement("li",null,"accounting, law and consulting firms whose primary clients are businesses; and"),o.a.createElement("li",null,"educational institutions and trade associations.")))),o.a.createElement("p",null,"We will approve link requests from these organizations if we determine that: (a) the link would not reflect unfavorably on us or our accredited businesses (for example, trade associations or other organizations representing inherently suspect types of business, such as work-at-home opportunities, shall not be allowed to link); (b)the organization does not have an unsatisfactory record with us; (c) the benefit to us from the visibility associated with the hyperlink outweighs the absence of ; and (d) where the link is in the context of general resource information or is otherwise consistent with editorial content in a newsletter or similar product furthering the mission of the organization."),o.a.createElement("p",null,"These organizations may link to our home page, to publications or to other Web site information so long as the link: (a) is not in any way misleading; (b) does not falsely imply sponsorship, endorsement or approval of the linking party and it products or services; and (c) fits within the context of the linking party's site."),o.a.createElement("p",null,"If you are among the organizations listed in paragraph 2 above and are interested in linking to our website, you must notify us by sending an e-mail to ",o.a.createElement("a",{href:"mailto:asdasd@gami.com",title:"send an email to asdasd@gami.com"},"asdasd@gami.com"),". Please include your name, your organization name, contact information (such as a phone number and/or e-mail address) as well as the URL of your site, a list of any URLs from which you intend to link to our Web site, and a list of the URL(s) on our site to which you would like to link. Allow 2-3 weeks for a response."),o.a.createElement("p",null,"Approved organizations may hyperlink to our Web site as follows:"),o.a.createElement("ol",null,o.a.createElement("li",null,"By use of our corporate name; or"),o.a.createElement("li",null,"By use of the uniform resource locator (Web address) being linked to; or"),o.a.createElement("li",null,"By use of any other description of our Web site or material being linked to that makes sense within the context and format of content on the linking party's site.")),o.a.createElement("p",null,"No use of trade4goods\u2019s logo or other artwork will be allowed for linking absent a trademark license agreement."),o.a.createElement("h2",null,"Iframes"),o.a.createElement("p",null,"Without prior approval and express written permission, you may not create frames around our Web pages or use other techniques that alter in any way the visual presentation or appearance of our Web site."),o.a.createElement("h2",null,"Reservation of Rights"),o.a.createElement("p",null,"We reserve the right at any time and in its sole discretion to request that you remove all links or any particular link to our Web site. You agree to immediately remove all links to our Web site upon such request. We also reserve the right to amend these terms and conditions and its linking policy at any time. By continuing to link to our Web site, you agree to be bound to and abide by these linking terms and conditions."),o.a.createElement("h2",null,"Removal of links from our website"),o.a.createElement("p",null,"If you find any link on our Web site or any linked web site objectionable for any reason, you may contact us about this. We will consider requests to remove links but will have no obligation to do so or to respond directly to you."),o.a.createElement("p",null,"Whilst we endeavour to ensure that the information on this website is correct, we do not warrant its completeness or accuracy; nor do we commit to ensuring that the website remains available or that the material on the website is kept up to date."),o.a.createElement("h2",null,"Content Liability"),o.a.createElement("p",null,"We shall have no responsibility or liability for any content appearing on your Web site. You agree to indemnify and defend us against all claims arising out of or based upon your Website. No link(s) may appear on any page on your Web site or within any context containing content or materials that may be interpreted as libelous, obscene or criminal, or which infringes, otherwise violates, or advocates the infringement or other violation of, any third party rights."),o.a.createElement("h2",null,"Disclaimer"),o.a.createElement("p",null,"To the maximum extent permitted by applicable law, we exclude all representations, warranties and conditions relating to our website and the use of this website (including, without limitation, any warranties implied by law in respect of satisfactory quality, fitness for purpose and/or the use of reasonable care and skill). Nothing in this disclaimer will:"),o.a.createElement("ol",null,o.a.createElement("li",null,"limit or exclude our or your liability for death or personal injury resulting from negligence;"),o.a.createElement("li",null,"limit or exclude our or your liability for fraud or fraudulent misrepresentation;"),o.a.createElement("li",null,"limit any of our or your liabilities in any way that is not permitted under applicable law; or"),o.a.createElement("li",null,"exclude any of our or your liabilities that may not be excluded under applicable law.")),o.a.createElement("p",null,"The limitations and exclusions of liability set out in this Section and elsewhere in this disclaimer: (a) are subject to the preceding paragraph; and (b) govern all liabilities arising under the disclaimer or in relation to the subject matter of this disclaimer, including liabilities arising in contract, in tort (including negligence) and for breach of statutory duty."),o.a.createElement("p",null,"To the extent that the website and the information and services on the website are provided free of charge, we will not be liable for any loss or damage of any nature."))))}}]),t}(o.a.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:v},o.a.createElement("div",null,"You Have Successfully Registered. "),o.a.createElement("p",null,"Please check your mail box and verfy the account in 24 hours"))}}]),t}(o.a.Component),N=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:v},o.a.createElement("div",null,"You Have Successfully Registered. "),o.a.createElement("p",null,"Login and have fun!"))}}]),t}(o.a.Component),D=a(222),S=a(207),U=a.n(S)()(function(e){var t=e.children,a=e.triggerLogin,r=Object(D.a)(e,["children","triggerLogin"]);return o.a.createElement("button",Object.assign({onClick:a},r),t)}),I=function(e){function t(e){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("p",null,"Opps...Something goes wrong.."),o.a.createElement("p",null,this.props.err),o.a.createElement("button",{className:"myBtn",onClick:this.props.rubyClose}," Return"))}}]),t}(o.a.Component),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).closeModal=function(){a.setState({open:!1})},a.openTerms=function(){a.setState({terms:!a.state.terms})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(){var e=Object(A.a)(_.a.mark(function e(t,r){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=12;break}return n={username:r.username,password:r.password,confirmed_password:r.confirmed_password,email:r.email,displayed_name:r.displayed_name,phone_number:r.phone_number,profile_picutre:""},e.prev=2,e.next=5,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/signup",{method:"post",data:n,withCredentials:!0});case 5:e.sent&&(console.log("register good"),a.setState({finishReg:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response.data.message?(window.alert(e.t0.response.data.message),console.log("register no good")):(window.alert("Connection fail, please try again later"),console.log("register no good"));case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t,a){return e.apply(this,arguments)}}())},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,r){var n=a.props.form;t&&t!==n.getFieldValue("password")?r("Two passwords that you enter is inconsistent!"):r()},a.validateToNextPassword=function(e,t,r){var n=a.props.form;t&&a.state.confirmDirty&&n.validateFields(["confirm"],{force:!0}),r()},a.handleSocialLoginFailure=function(e){console.log(e)},a.responseFacebook=function(e){var t=e._profile.id,r=e._profile.email,n=e._token.accessToken,o=e._profile.id,s=e._profile.name;n&&P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/signup"),{method:"post",data:{facebook_id:t,access_token:n,name:o,email:r,profile_picture:"",phone_number:"",displayed_name:s},withCredentials:!0}).then(Object(A.a)(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/facebook_login"),{method:"post",data:{facebook_id:t,access_token:n},withCredentials:!0});case 2:return e.next=4,P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/profile/"),{method:"post",data:{profile_picture:"",phone_number:"",displayed_name:s},withCredentials:!0}).then(function(){a.setState({isSocialReg:!0}),a.setState({finishReg:!0})}).catch(function(e){console.log("api profile create fail"),console.log(e.response.status),console.log(e.response),console.log(e.response.data),console.log(e.response.data.message),a.setState({regErr:!0}),a.setState({errMsg:e.response.data.message})});case 4:case"end":return e.stop()}},e,this)}))).catch(function(e){console.log("api sign up create fail"),console.log(e.response.status),console.log(e.response),console.log(e.response.data),console.log(e.response.data.message),a.setState({regErr:!0}),a.setState({errMsg:e.response.data.message})})},a.responseGoogle=function(e){var t=e._profile.id,r=e._profile.email,n=e._token.accessToken,o=e._token.idToken,s=e._profile.id,i=e._profile.name;console.log(),n&&P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/signup"),{method:"post",data:{google_id:t,access_token:n,name:s,email:r,id_token:o,phone_number:"",displayed_name:i},withCredentials:!0}).then(Object(A.a)(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/google_login"),{method:"post",data:{google_id:t,access_token:n,id_token:o,name:s},withCredentials:!0});case 2:return e.next=4,P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/profile/"),{method:"post",data:{profile_picture:"",phone_number:"",displayed_name:i},withCredentials:!0}).then(function(){a.setState({isSocialReg:!0}),a.setState({finishReg:!0})}).catch(function(e){console.log("api profile create fail"),console.log(e.response.status),console.log(e.response),console.log(e.response.data),console.log(e.response.data.message),a.setState({regErr:!0}),a.setState({errMsg:e.response.data.message})});case 4:case"end":return e.stop()}},e,this)}))).catch(function(e){console.log("api sign up create fail"),console.log(e.response.status),console.log(e.response),console.log(e.response.data),console.log(e.response.data.message),a.setState({regErr:!0}),a.setState({errMsg:e.response.data.message})})},a.state={confirmDirty:!1,open:!0,terms:!1,finishReg:!1,isSocialReg:!1,isLoggedIn:!1,userID:"",name:"",email:"",regErr:!1,errMsg:""},a.closeModal=a.closeModal.bind(Object(f.a)(Object(f.a)(a))),a.openTerms=a.openTerms.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=(this.state.autoCompleteResult,{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),a={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};return o.a.createElement(T.a,{contentStyle:v,open:this.state.open,closeOnDocumentClick:!0,onClose:this.props.handleRegToggle},o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("a",{style:b,onClick:this.props.handleRegToggle},"\xd7"),!this.state.finishReg&&!this.state.regErr&&o.a.createElement("div",{style:{position:"absolute",left:"50%",top:"40%",transform:"translate(-50%, -50%)"}},o.a.createElement(g.a,{onSubmit:this.handleSubmit},o.a.createElement("div",{style:{marginBottom:"20px"}},o.a.createElement("h1",null,"Register"),o.a.createElement("span",null,"Fill in the register details")),o.a.createElement(g.a.Item,Object.assign({},t,{label:"Username"}),e("username",{rules:[{required:!0,message:"Please input your Username!",whitespace:!1},{max:15,min:5,message:"Username must be 5 to 15 characters long!"}]})(o.a.createElement(C.a,{size:"large",placeholder:"Username must be 5 to 15 characters long"}))),o.a.createElement(g.a.Item,Object.assign({},t,{label:"Display Name"}),e("displayed_name",{rules:[{required:!0,message:"Please input your display name!",whitespace:!0},{max:15,min:3,message:"Display Name must be 3 to 15 characters long!"}]})(o.a.createElement(C.a,{size:"large",placeholder:"Display Name must be 3 to 15 characters long"}))),o.a.createElement(g.a.Item,Object.assign({},t,{label:"Phone Number"}),e("phone_number",{rules:[{required:!0,message:"Please input your Phone Number!",whitespace:!1},{len:8,message:"Input must be number and Phone number 8 characters long!"}]})(o.a.createElement(C.a,{size:"large",type:"number",placeholder:"Phone number must 8 characters long"}))),o.a.createElement(g.a.Item,Object.assign({},t,{label:"E-mail"}),e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(o.a.createElement(C.a,{size:"large",placeholder:"E-mail"}))),o.a.createElement(g.a.Item,Object.assign({},t,{label:"Password"}),e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword},{max:15,min:5,message:"Password must be 5 to 15 characters long!"}]})(o.a.createElement(C.a,{size:"large",type:"password",placeholder:"Password"}))),o.a.createElement(g.a.Item,Object.assign({},t,{label:"Confirm Password"}),e("confirmed_password",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(o.a.createElement(C.a,{size:"large",type:"password",onBlur:this.handleConfirmBlur,placeholder:"Confirm Password"}))),o.a.createElement(g.a.Item,a,e("agreement",{rules:[{required:!0,message:"Please confirm to read the agreement"}],valuePropName:"checked"})(o.a.createElement(y.a,null,"I have read the ",o.a.createElement("span",{onClick:this.openTerms,style:{color:"blue"}},"agreement")))),o.a.createElement(g.a.Item,a,o.a.createElement(R.a,{type:"primary",htmlType:"submit",className:"myBtn"},"Register"))),o.a.createElement("div",{style:{marginLeft:"222px"}},o.a.createElement(U,{provider:"facebook",appId:"372390923567171",onLoginSuccess:this.responseFacebook,onLoginFailure:this.handleSocialLoginFailure,className:"myFbBtn"},"Register with Facebook"),o.a.createElement(U,{provider:"google",appId:"980192618991-ntaogv3tkbg21ve3qhfjq8us1f1au1gb.apps.googleusercontent.com",onLoginSuccess:this.responseGoogle,onLoginFailure:this.handleSocialLoginFailure,className:"myGoogleBtn"},"Register with Google"))),this.state.terms&&o.a.createElement(O,{openTerms:this.openTerms,style:{color:"black"}}),this.state.finishReg&&!this.state.isSocialReg&&o.a.createElement("div",null,o.a.createElement(w,null)),this.state.finishReg&&this.state.isSocialReg&&o.a.createElement("div",null,o.a.createElement(N,null)),this.state.finishReg&&o.a.createElement("a",{className:"myBtn",onClick:this.props.handleRegToggle},"return"),this.state.regErr&&o.a.createElement(I,{err:this.state.errMsg,rubyClose:this.props.handleRegToggle})))}}]),t}(o.a.Component),x=g.a.create({name:"register"})(M),k=a(26),B=a(39),L=(r={openModal:function(e){return{type:"OPEN_MODAL",column:e}},fetchProducts:function(e){return{type:"FETCH_PRODUCTS",products:e}},openOneModal:function(e){return{type:"OPEN_ONE_MODAL",id:e}},FORCEopenOneModal:function(e){return{type:"FORCE_OPEN_ONE_MODAL",id:e}},saveSearch:function(e){return{type:"SAVE_SEARCH",result:e}},clearSearch:function(){return{type:"CLEAR_SEARCH"}},openUploadModal:function(){return{type:"OPEN_UPLOADMODAL"}},showOtherUser:function(e){return{type:"SHOW_OTHERUSER",otherUser:e}},closeOtherUser:function(){return{type:"CLOSE_OTHERUSER"}},setComment:function(e){return{type:"SET_COMMENT",comment:e}},submitComment:function(e){return{type:"SUBMIT_COMMENT",user:e}},storeMyUser:function(e){return{type:"STORE_MYUSER",myUser:e}},storeAllUsers:function(e){return{type:"STORE_ALLUSERS",allUsers:e}},storeAllComments:function(e,t){return{type:"STORE_ALLCOMMENTS",comments:e,product_id:t}},deleteMyUser:function(){return{type:"DEL_MYUSER"}}},Object(B.a)(r,"closeOtherUser",function(){return{type:"CLOSE_OTHERUSER"}}),Object(B.a)(r,"setTradeHistory",function(e){return{type:"SET_TRADE_HISTORY",history:e}}),Object(B.a)(r,"loading",function(){return{type:"LOADING"}}),r),j=a(15),G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).closeModal=function(){a.setState({open:!1})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(A.a)(_.a.mark(function e(t,r){var n,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=19;break}return n={username_or_email:r.userName,password:r.password},e.prev=2,a.props.loading(),e.next=6,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/login",{method:"post",data:n,withCredentials:!0});case 6:return e.sent,e.next=9,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 9:o=e.sent,a.props.storeMyUser(o.data),a.setState({open:!1}),a.props.loading(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0.response.data),e.t0.response.data.message?a.setState({errMsg:e.t0.response.data.message}):a.setState({errMsg:"Connection fail, please try again later"});case 19:case"end":return e.stop()}},e,this,[[2,15]])}));return function(t,a){return e.apply(this,arguments)}}())},a.handleSocialLoginFailure=function(e){console.log(e)},a.responseFacebook=function(e){var t=e._profile.id,r=e._token.accessToken;e._profile.name,e._profile.profilePicURL;console.log(e._token.accessToken),r&&P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/facebook_login"),{method:"post",data:{facebook_id:t,access_token:r},withCredentials:!0}).then(Object(A.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.props.loading(),e.next=4,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 4:t=e.sent,a.props.storeMyUser(t.data),a.setState({open:!1}),a.props.loading(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response.data.message?a.setState({errMsg:e.t0.response.data.message}):a.setState({errMsg:"Connection fail, please try again later"});case 13:case"end":return e.stop()}},e,this,[[0,10]])}))).catch(function(e){console.log(e.response.status),console.log(e.response),console.log(e.response.data),console.log(e.response.data.message),a.setState({errMsg:e.response.data.message})})},a.responseGoogle=function(e){var t=e._profile.id,r=e._profile.name,n=e._token.accessToken,o=e._token.idToken;n&&P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/google_login"),{method:"post",data:{google_id:t,access_token:n,id_token:o,name:r},withCredentials:!0}).then(Object(A.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("google login success"),e.next=3,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 3:t=e.sent,console.log(t.data),a.props.storeMyUser(t.data),a.setState({open:!1});case 7:case"end":return e.stop()}},e,this)}))).catch(function(e){console.log(e.response.status),console.log(e.response),console.log(e.response.data),console.log(e.response.data.message),a.setState({errMsg:e.response.data.message})})},a.state={open:!0,userID:"",name:"",email:"",errMsg:""},a.closeModal=a.closeModal.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement(T.a,{contentStyle:v,open:this.state.open,closeOnDocumentClick:!0,onClose:this.props.handleLogin},o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("a",{style:b,onClick:this.props.handleLogin},"\xd7"),!this.state.errMsg&&o.a.createElement("div",{style:{position:"absolute",left:"50%",top:"40%",transform:"translate(-50%, -50%)"}},o.a.createElement(g.a,{onSubmit:this.handleSubmit,className:"login-form "},o.a.createElement("div",{style:{marginBottom:"10px"}},o.a.createElement("h1",null,"Login"),o.a.createElement("span",null,"Enter your login details")),o.a.createElement(g.a.Item,null,e("userName",{rules:[{required:!0,message:"Please input your username or e-mail"}]})(o.a.createElement(C.a,{size:"large",prefix:o.a.createElement(k.a,{type:"user",style:{color:"white"}}),placeholder:"Username / E-mail"}))),o.a.createElement(g.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(o.a.createElement(C.a,{size:"large",prefix:o.a.createElement(k.a,{type:"lock",style:{color:"white"}}),type:"password",placeholder:"Password"}))),o.a.createElement(g.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!1})(o.a.createElement(y.a,null,"Remember me")),o.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password?"),o.a.createElement("br",null),o.a.createElement(R.a,{type:"default",htmlType:"submit",className:"myBtn"},"Log in"),o.a.createElement(R.a,{type:"default",className:"myRegBtn"},"Register now!"))),o.a.createElement("div",null,o.a.createElement(U,{className:"myFbBtn",provider:"facebook",appId:"372390923567171",onLoginSuccess:this.responseFacebook,onLoginFailure:this.handleSocialLoginFailure},"Login with Facebook"),o.a.createElement(U,{className:"myGoogleBtn",provider:"google",appId:"980192618991-ntaogv3tkbg21ve3qhfjq8us1f1au1gb.apps.googleusercontent.com",onLoginSuccess:this.responseGoogle,onLoginFailure:this.handleSocialLoginFailure},"Login with Google"))),this.state.errMsg&&o.a.createElement(I,{err:this.state.errMsg,rubyClose:this.closeModal})))}}]),t}(o.a.Component),K=g.a.create({name:"normal_login"})(Object(j.b)(function(e){return{}},function(e){return{storeMyUser:function(t){e(L.storeMyUser(t))},loading:function(){e(L.loading())}}})(G)),H=a(478),V="UPDATE_PRODUCTS",X="UPDATE_FILTERARR",F="UPDATE_FILTERKEY",q="UPDATE_TRYREG",z="UPDATE_TRYLOGIN";function Y(e){return{type:V,payload:e}}var Q=a(479),Z=a(162),J={storeSearch:function(e){return{type:"STORE_SEARCH",search:e}},submitSearch:function(){return{type:"SUBMIT_SEARCH"}},storeAllProducts:function(e){return{type:"STORE_ALL_PRODUCTS",allProducts:e}},setMyProducts:function(e){return{type:"SET_MY_PRODUCTS",id:e}},filterMyProducts:function(e){return{type:"FILTER_MY_PRODUCTS",id:e}},setFProducts:function(e){return{type:"SET_F_PRODUCTS",id:e}},sortProducts:function(e){return{type:"SORT_PRODUCTS",sort:e}},sortFProducts:function(e){return{type:"SORT_FPRODUCTS",sort:e}},openDetails:function(e,t,a){return{type:"OPEN_DETAILS",id:e,whom:t,which:a}},closeDetails:function(){return{type:"CLOSE_DETAILS"}},openOutDetails:function(e,t,a){return{type:"OPEN_OUTDETAILS",id:e,whom:t,which:a}},closeOutDetails:function(){return{type:"CLOSE_OUTDETAILS"}},setCopyState:function(e){return{type:"SET_COPYSTATE",copyState:e}},refresh:function(){return{type:"REFRESH"}}},W=a(375),$=Z.a.Option;var ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentWillMount=Object(A.a)(_.a.mark(function e(){var t,r,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.loading(),e.next=3,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/isLoggedIn",{method:"get",withCredentials:!0});case 3:if(!e.sent.data){e.next=20;break}return e.next=7,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 7:return(t=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(t.data),a.props.updateProducts(t.data),e.next=13,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 13:return r=e.sent,a.props.storeAllUsers(r.data),e.next=17,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 17:n=e.sent,a.props.storeMyUser(n.data),a.props.loading();case 20:case"end":return e.stop()}},e,this)})),a.handleNavOnBlur=function(){a.props.history.push("/")},a.handleNavPressEnter=function(e){"Enter"==e.key&&a.props.history.push("/")},a.logout=Object(A.a)(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/logout",{method:"post",withCredentials:!0});case 3:e.sent,a.props.deleteMyUser(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])})),a.handleChange=function(e){var t=Object(u.a)(e),r=a.props.productsArr.filter(function(e){return[e.name].concat(Object(u.a)(e.tags)).some(function(e){return t.includes(e)})});0===r.length&&(r=a.props.productsArr),a.props.updateFilterKey(t),a.props.updateFilterArr(r)},a.state={arr:[]},a.handleNavOnBlur=a.handleNavOnBlur.bind(Object(f.a)(Object(f.a)(a))),a.handleNavPressEnter=a.handleNavPressEnter.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log(e.productsArr);for(var t=[],a=W.chain(e.productsArr).map(function(e){return[e.name,e.tags]}).flattenDepth(2).countBy(function(e){return e}).toPairs().sortBy(function(e){return e[1]}).reverse().map(function(e){return e[0]}).value(),r=0;r<a.length;r++)t.push(o.a.createElement($,{key:a[r]},a[r]));this.props.updateProducts(e.searchArr),this.setState({arr:t}),console.log("set children")}},{key:"render",value:function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top",style:{height:"7vh"}},o.a.createElement(H.a,{className:"navbar-brand d-inline",to:"/redirect"},"Trade4Goods"),o.a.createElement(Z.a,{onInputKeyDown:this.handleNavPressEnter,notFoundContent:"Not Found",mode:"multiple",style:{width:"50%"},defaultValue:[],placeholder:"Please select",onChange:this.handleChange,maxTagCount:3},this.state.arr),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},o.a.createElement("ul",{className:"navbar-nav ml-auto p-2"},this.props.isLogin&&o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"#"},"Items")),!this.props.myUser.displayed_name&&o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",onClick:this.props.handleLoginToggle},"Login")),!this.props.myUser.displayed_name&&o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",onClick:this.props.handleRegToggle,reg:this.handleFinToggle},"Register")),this.props.myUser.displayed_name&&o.a.createElement("li",{className:"nav-item",style:{display:"flex",flexDirection:"row"}},o.a.createElement("a",{className:"nav-link",href:""},"Welcome, ",this.props.myUser.displayed_name),o.a.createElement(H.a,{className:"nav-link",to:"/userPage"},"User Page"),o.a.createElement("a",{className:"nav-link",href:"",onClick:this.logout},"Logout")))),this.props.tryLogin&&o.a.createElement(K,{handleLogin:this.props.handleLoginToggle}),this.props.tryRegister&&o.a.createElement(x,{handleRegToggle:this.props.handleRegToggle}))}}]),t}(o.a.Component),te=Object(j.b)(function(e){var t=e.roootReducer,a=e.userReducer,r=e.searchReducer;return{searchArr:t.searchArr,productsArr:t.productsArr,isLogin:t.isLogin,tryLogin:t.tryLogin,tryRegister:t.tryReg,myUser:a.myUser,refresh:r.refresh}},function(e){return{updateProducts:function(t){return e(Y(t))},updateFilterArr:function(t){return e({type:X,payload:t})},updateFilterKey:function(t){return e({type:F,payload:t})},handleLoginToggle:function(t){return e({type:z,payload:t})},handleRegToggle:function(t){return e({type:q,payload:t})},storeAllProducts:function(t){e(J.storeAllProducts(t))},storeAllUsers:function(t){e(L.storeAllUsers(t))},storeMyUser:function(t){e(L.storeMyUser(t))},deleteMyUser:function(){e(L.deleteMyUser())},loading:function(){e(L.loading())}}})(ee),ae=Object(Q.a)(te),re=ae,ne=a(13),oe=a(385),se=a(386),ie=a(483),le=a(488),ce=a(480),de=a(484),pe={openMyGoodModal:function(e){return{type:"OPEN_MYGOOD_MODAL",mgID:e}},openOGModal:function(e){return{type:"OPEN_OG_MODAL",ogID:e}},openDELModal:function(e){return{type:"OPEN_DEL_MODAL",delID:e}},selectMyGood:function(e){return{type:"SELECT_MYGOOD",selected:e}},clearSelect:function(){return{type:"CLEAR_SELECT"}},openTradeCards:function(e,t){return{type:"OPEN_TRADECARDS",currentTrade:{details:e,status:t}}},closeTradeCards:function(){return{type:"CLOSE_TRADECARDS"}}},me=a(493),ue=a(486),Ee={AddPhotos_Details:function(e){return{type:"ADDPHOTOS_DETAILS",details:e}},UploadPhotos:function(e){return{type:"UPLOADPHOTOS",uploadedPhotos:e}},PreviewPhotos:function(e){return{type:"PREVIEWPHOTOS",previewPhotos:e}},AddPhotosForm_typingTag:function(e){return{type:"ADDPHOTOSFORM_TYPINGTAG",typingTag:e}},AddPhotosForm_finishedTag:function(e){return{type:"ADDPHOTOSFORM_FINISHEDTAG",finishedTag:e}},AddPhotosForm_deleteTag:function(e){return{type:"ADDPHOTOSFORM_DELETETAG",deleteTag:e}},clearForm:function(){return{type:"CLEAR_FORM"}},imgDelete:function(e){return{type:"IMG_DEL",key:e}}},_e=function(e){function t(e){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tags.map(function(t,a){var r=t.length>20,n=o.a.createElement(me.a,{style:{marginTop:"0.5vw"},color:"cyan",key:t,closable:e.props.closable,id:t,afterClose:function(){return e.props.handleClose(t)}},r?"".concat(t.slice(0,10),"..."):t);return r?o.a.createElement(ue.a,{title:t,key:t},n):n});return o.a.createElement("div",null,t)}}]),t}(n.Component),Ae=Object(j.b)(function(e){return{}},function(e){return{handleClose:function(t){e(Ee.AddPhotosForm_deleteTag(t))}}})(_e),fe=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){console.log("this props : ".concat(this.props.iconsArr));var e=this.props,t=e.trade,a=e.name,r=e.image,n=e.id,s=e.description,i=e.tags,l=e.handleSelect,c=e.handleEdit,d=e.handleDelete,p=e.handleOneModal,m=e.openOneModal,u=e.allDetails;return t?o.a.createElement(ie.a,{style:{width:"5vw"},cover:o.a.createElement("img",{alt:a,src:r,onClick:function(){l(n)},style:{width:"5vw",height:"5vw"}}),key:n,id:n},o.a.createElement(ie.a.Meta,{title:a})):o.a.createElement(ie.a,{style:{width:"7vw"},cover:o.a.createElement("img",{alt:a,src:r,onClick:function(){p(n)},style:{width:"7vw",height:"7vw"}}),actions:[o.a.createElement(k.a,{type:"edit",onClick:c}),o.a.createElement(k.a,{type:"delete",onClick:function(){d(n)}})],key:n,id:n},o.a.createElement(ie.a.Meta,{title:a,description:s,style:{backgroundColor:"rgb(150, 150, 150)"}}),o.a.createElement(Ae,{tags:i,closable:!1}),m&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){p(n)}},o.a.createElement("div",{style:v},o.a.createElement("a",{style:b,onClick:function(){p(n)}},"\xd7"),o.a.createElement(ye,{details:u}))))}}]),t}(n.Component),he=a(62),Pe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).handlePlaceOffer=Object(A.a)(_.a.mark(function e(){var t,r,n,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={product_offered:a.props.details.product_id,product_offering:a.props.selected},e.prev=1,e.next=4,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/offer_product",{method:"post",data:t,withCredentials:!0});case 4:return e.sent,e.next=7,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 7:return(r=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(r.data),e.next=12,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 12:return n=e.sent,a.props.storeAllUsers(n.data),e.next=16,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 16:o=e.sent,a.props.storeMyUser(o.data),a.props.clearSelect(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[1,21]])})),a.handleAcceptOffer=Object(A.a)(_.a.mark(function e(){var t,r,n,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={product_offered:a.props.details.product_id,product_offering:a.props.selected},e.prev=1,e.next=4,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/acceptOffer/",{method:"post",data:t,withCredentials:!0});case 4:return e.sent,e.next=7,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 7:return(r=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(r.data),e.next=12,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 12:return n=e.sent,a.props.storeAllUsers(n.data),e.next=16,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 16:o=e.sent,a.props.storeMyUser(o.data),a.props.clearSelect(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[1,21]])})),a.handleDeleteOffer=function(){var e=Object(A.a)(_.a.mark(function e(t){var r,n,o,s,i,l;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t[0].product_id,n={product_offered:a.props.details.product_id,product_offering:r},console.log(n),e.prev=3,e.next=6,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/offer_product",{method:"delete",data:n,withCredentials:!0});case 6:return o=e.sent,console.log(o),e.next=10,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 10:return(s=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(s.data),e.next=15,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 15:return i=e.sent,a.props.storeAllUsers(i.data),e.next=19,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 19:l=e.sent,a.props.storeMyUser(l.data),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),console.log(e.t0);case 26:case"end":return e.stop()}},e,this,[[3,23]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.status,r=t.details,n=this.props.allProducts.filter(function(t){return t.product_id==e.props.selected}).map(function(e){return o.a.createElement(ie.a,{style:{width:"7vw"},cover:o.a.createElement("img",{alt:e.name,src:e.image}),key:e.id,id:e.id},o.a.createElement(ie.a.Meta,{title:e.name}))}),s=this.props.allProducts.filter(function(t){return t.uploaded_by==e.props.myUser.user_id&&1==t.status}).map(function(t){return o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},o.a.createElement(fe,{name:t.name,image:t.image[0]?t.image[0]:he,id:t.product_id,tags:t.tags,handleEdit:e.handleEdit,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,trade:!0,handleSelect:e.props.handleSelect}))}),i=this.props.allProducts.filter(function(e){return e.product_id==r.product_id})[0].openOGModal,l=this.props.allProducts.filter(function(e){return e.product_id==r.product_id})[0].openDELModal,c=this.props.allProducts.filter(function(e){return e.product_id==r.product_id})[0].openMyGoodModal,d=this.props.allProducts.filter(function(t){var a=r.offered_by.find(function(t){return e.props.myUser.uploaded_products.some(function(e){return e==t})});return t.product_id==a}),p=d.map(function(t){return o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},o.a.createElement(fe,{name:t.name,image:t.image[0]?t.image[0]:he,id:t.product_id,tags:t.tags,handleEdit:e.handleEdit,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,trade:!0,handleSelect:e.props.handleSelect}))}),m=this.props.allProducts.filter(function(e){return r.offered_by.some(function(t){return t==e.product_id})}).map(function(t){return o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},o.a.createElement(fe,{name:t.name,image:t.image[0]?t.image[0]:he,id:t.product_id,tags:t.tags,handleEdit:e.handleEdit,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,trade:!0,handleSelect:e.props.handleSelect}))});switch(a){case"myP":return o.a.createElement("div",{className:"trade",style:{}},o.a.createElement("h4",null,"Trade"),o.a.createElement(R.a,{onClick:function(){e.props.openMyGoodModal(r.product_id)},style:{marginBottom:"1vw"},ghost:!0,type:"primary"},"Check Received Offer"),c&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.openMyGoodModal(r.product_id)}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"50vw",height:"50vh"}},o.a.createElement("a",{style:b,onClick:function(){e.props.openDELModal(r.product_id)}},"\xd7"),o.a.createElement("div",{style:{width:"50vw",height:"50vh",display:"flex"}},o.a.createElement(oe.a,null,o.a.createElement(se.a,{span:16},o.a.createElement("div",{style:{overflowY:"scroll"}},m)),o.a.createElement(se.a,{span:8},o.a.createElement("div",{className:"tradeBox",style:{display:"flex",flexDirection:"column"}},this.props.selected&&o.a.createElement("div",{className:"selectedCard"},n),!this.props.selected&&o.a.createElement("div",{className:"selectedCard",style:{width:"7vw",height:"7vw",backgroundColor:"yellow",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("p",{style:{color:"red"}},"Select a Offer from Left Panel")),o.a.createElement("div",{className:"confirmTrade"},o.a.createElement(R.a,{onClick:this.handleAcceptOffer,type:"danger"},"Confirm Accepting Offer")))))))));case"trading":return o.a.createElement("div",{className:"trade",style:{}},o.a.createElement("h4",null,"Trade"),o.a.createElement(R.a,{style:{marginBottom:"1vw"},ghost:!0,type:"dashed"},"Trading in Progress"));case"traded":return o.a.createElement("div",{className:"trade",style:{}},o.a.createElement("h4",null,"Trade"),o.a.createElement(R.a,{style:{marginBottom:"1vw"},ghost:!0,type:"dashed"},"Traded"));case"offered":return o.a.createElement("div",{className:"trade",style:{}},o.a.createElement("h4",null,"Trade"),o.a.createElement(R.a,{onClick:function(){e.props.openDELModal(r.product_id)},style:{marginBottom:"1vw"},ghost:!0,type:"primary"},"Rollback Offer"),l&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.openDELModal(r.product_id)}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"50vw",height:"50vh"}},o.a.createElement("a",{style:b,onClick:function(){e.props.openDELModal(r.product_id)}},"\xd7"),o.a.createElement("div",{style:{width:"50vw",height:"50vh",display:"flex"}},o.a.createElement(oe.a,null,o.a.createElement(se.a,{span:12},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center",alignItems:"center"}},o.a.createElement("p",null,"Your Current Offer"),p)),o.a.createElement(se.a,{span:12},o.a.createElement(R.a,{type:"danger",onClick:function(){e.handleDeleteOffer(d)}},"Confirm Rollback Offer")))))));case"otherP":return o.a.createElement("div",{className:"trade",style:{textAlign:"center"}},o.a.createElement(R.a,{onClick:function(){e.props.openOGModal(r.product_id)},style:{marginTop:"40px"},className:"myLgBtn"},"Make an Offer"),i&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.openOGModal(r.product_id)}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"50vw",height:"50vh"}},o.a.createElement("a",{style:b,onClick:function(){e.props.openOGModal(r.product_id)}},"\xd7"),o.a.createElement("h1",null,"Trading Panel"),o.a.createElement(oe.a,null,o.a.createElement(se.a,{span:16},o.a.createElement("div",{style:{overflowY:"scroll"}},s)),o.a.createElement(se.a,{span:8},o.a.createElement("div",{className:"tradeBox",style:{display:"flex",flexDirection:"column"}},this.props.selected&&o.a.createElement("div",{className:"selectedCard"},n),!this.props.selected&&o.a.createElement("div",{className:"selectedCard",style:{width:"7vw",height:"7vw",backgroundColor:"yellow",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("p",{style:{color:"red"}},"Select a product from Left Panel")),o.a.createElement("div",{className:"confirmTrade"},o.a.createElement(R.a,{onClick:this.handlePlaceOffer,type:"danger"},"Confirm Placing Offer"))))))));default:return o.a.createElement("div",{className:"trade",style:{marginTop:"50px",textAlign:"center"}},this.props.tryLogin&&o.a.createElement(K,{handleLogin:this.props.handleLoginToggle}),o.a.createElement(R.a,{onClick:this.props.handleLoginToggle,className:"myLgBtn"},"Login to make a deal!"))}}}]),t}(n.Component),ge=Object(j.b)(function(e){var t=e.userReducer,a=e.tradeReducer,r=e.searchReducer,n=e.roootReducer;return{myUser:t.myUser,openMyGoodModal:a.openMyGoodModal,openOGModal:a.openOGModal,selected:a.selected,allProducts:r.allProducts,tryLogin:n.tryLogin}},function(e){return{openMyGoodModal:function(t){e(pe.openMyGoodModal(t)),e(pe.clearSelect())},openOGModal:function(t){e(pe.openOGModal(t)),e(pe.clearSelect())},openDELModal:function(t){e(pe.openDELModal(t)),e(pe.clearSelect())},handleSelect:function(t){e(pe.selectMyGood(t))},clearSelect:function(){e(pe.clearSelect())},storeAllProducts:function(t){e(J.storeAllProducts(t))},storeAllUsers:function(t){e(L.storeAllUsers(t))},storeMyUser:function(t){e(L.storeMyUser(t))}}})(Pe),Ce=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.details,a=t.image.map(function(e){return o.a.createElement("img",{src:e,alt:""})}),r=this.props.allUsers.filter(function(e){return e.user_id==t.uploaded_by}).map(function(e){return e.displayed_name})[0],n=this.props.allComments.some(function(e){return e.product_id==t.product_id})?this.props.allComments.filter(function(e){return e.product_id==t.product_id})[0].comments:[],s=this.props.allUsers.filter(function(t){return t.displayed_name==e.props.otherUser}).map(function(e){return o.a.createElement("div",{style:{backgroundColor:"#f4fef4",borderRadius:"1vw",display:"flex",flexDirection:"column"}},o.a.createElement("div",{className:"userBanner",style:{borderRadius:"1vw",backgroundColor:"#c1fcc1",height:"5vh",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"}},o.a.createElement("p",null,"this is a banner")),o.a.createElement("div",{style:{paddingLeft:"2vw",paddingRight:"2vw"}},o.a.createElement("img",{src:e.profile_picture,style:{marginTop:"2vh",marginBottom:"2vh",width:"10vw",borderRadius:"50%"}}),o.a.createElement("h4",{style:{paddingTop:"1vw",paddingBottom:"1vw"}},e.displayed_name),o.a.createElement("h4",{style:{paddingTop:"1vw",paddingBottom:"1vw"}},"Credibility: ",e.credibility)))}),i=[{title:"Product Name",description:t.name},{title:"Product Description",description:t.description},{title:"Preferred Trade Location",description:t.trade_location},{title:"Owner",description:r},{title:"Date of Upload",description:String(t.uploaded_at)},{title:"Status of Trade",description:1==t.status?"Available":"Trading"}];return o.a.createElement("div",{key:"details-".concat(t.product_id)},o.a.createElement(oe.a,{gutter:100},o.a.createElement(se.a,{span:8},o.a.createElement("div",{style:{paddingTop:"15px"},className:"imageCarosel"},o.a.createElement("h5",{style:{color:"#000000",opacity:"850%",marginBottom:"40px"}},t.name),o.a.createElement(ce.a,{autoplay:!0},a)),o.a.createElement(ge,{details:t,status:function(){if(!e.props.myUser.user_id)return"login";var a=e.props.myUser.uploaded_products.some(function(e){return e==t.product_id}),r=e.props.myUser.uploaded_products,n=t.offered_by.some(function(e){return r.some(function(t){return t==e})});return 1!=t.status?2==t.status?"trading":"traded":1==a&&0==n?"myP":0==a&&1==n?"offered":0==a&&0==n?"otherP":void 0}()})),o.a.createElement(se.a,{span:8},o.a.createElement("div",{className:"detailsList"},o.a.createElement(de.a,{itemLayout:"vertical",dataSource:i,renderItem:function(a){return o.a.createElement(de.a.Item,{key:"list-".concat(t.product_id)},"Owner"!=a.title&&o.a.createElement(de.a.Item.Meta,{title:o.a.createElement("h5",null,a.title),description:a.description}),"Owner"==a.title&&o.a.createElement(de.a.Item.Meta,{title:o.a.createElement("h5",null,a.title),description:a.description,onClick:function(){e.props.handleOtherUser(a.description)}}))}}))),o.a.createElement(se.a,{span:8},o.a.createElement("div",{stlye:{display:"flex",flexDirection:"column",position:"relative"}},o.a.createElement("div",{className:"comments",style:{marginBottom:"16px",paddingTop:"15px"}},o.a.createElement("h5",{style:{color:"#000000",opacity:"850%",marginBottom:"40px"}},"Comments"),o.a.createElement(de.a,{itemLayout:"horizontal",dataSource:n,renderItem:function(e){return o.a.createElement(de.a.Item,{key:"".concat(t.product_id,"comment")},o.a.createElement(de.a.Item.Meta,{title:o.a.createElement("h6",null,e.title),description:e.description}),e.content)}}),o.a.createElement("input",{style:{width:"220px",marginBottom:"20px",height:"42.74px"},type:"text",onChange:this.props.handleComment,value:this.props.comment,placeholder:"Write a comment!"}),o.a.createElement("button",{className:"myCmBtn",onClick:function(){e.props.handleSubmitComment(t.product_id,e.props.comment,e.props.allUsers)}},"Submit Comment"))))),this.props.otherUser&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:this.props.handleCloseOtherUser},o.a.createElement("div",null,o.a.createElement("a",{style:b,onClick:this.props.handleCloseOtherUser},"\xd7"),s)))}}]),t}(n.Component),ye=Object(j.b)(function(e){var t=e.userReducer,a=e.searchReducer;return{otherUser:t.otherUser,users:t.users,comment:t.comment,allUsers:t.allUsers,allComments:t.allComments,myUser:t.myUser,allProducts:a.allProducts}},function(e,t){return{handleOtherUser:function(t){e(L.showOtherUser(t))},handleCloseOtherUser:function(){e(L.closeOtherUser())},handleComment:function(t){var a=t.target.value;e(L.setComment(a))},handleSubmitComment:function(){var a=Object(A.a)(_.a.mark(function a(r,n,o){var s,i,l,c;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/comment",{method:"post",data:{product_id:r,comment:n},withCredentials:!0});case 3:if(201!=(s=a.sent).status){a.next=15;break}return a.next=7,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/",{method:"get",withCredentials:!0});case 7:(i=a.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),e(J.storeAllProducts(i.data)),e(Y(i.data)),l=s.data[0].map(function(e){return e[0]}),console.log(t.allUsers),c=l.map(function(){var e=Object(A.a)(_.a.mark(function e(t){var a,r,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/comment/").concat(t),{method:"get",withCredentials:!0});case 2:return a=e.sent,r=a.data[0],n=o.filter(function(e){return e.user_id==r.commentator})[0].displayed_name,e.abrupt("return",{title:n,content:r.comment,description:r.comment_at});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),Promise.all(c).then(function(t){console.log(t),e(L.storeAllComments(t,r))});case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),console.log(a.t0);case 20:case"end":return a.stop()}},a,this,[[0,17]])}));return function(e,t,r){return a.apply(this,arguments)}}()}})(Ce),Re=ie.a.Meta,Te=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleLike=function(){var e=Object(A.a)(_.a.mark(function e(t){var a,n,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/like/").concat(t),{method:"put",withCredentials:!0});case 3:if(200!=e.sent.status){e.next=21;break}return r.props.loading(),e.next=8,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/",{method:"get",withCredentials:!0});case 8:return(a=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openDELModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1}),r.props.storeAllProducts(a.data),r.props.updateProducts(a.data),e.next=14,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 14:return n=e.sent,r.props.storeAllUsers(n.data),e.next=18,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 18:o=e.sent,r.props.storeMyUser(o.data),r.props.loading();case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log("like err");case 26:case"end":return e.stop()}},e,this,[[0,23]])}));return function(t){return e.apply(this,arguments)}}(),r.state={loading:!0,error:!1,imgPic:a(107)},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new Image;this.props.imgUrl?t.src=this.props.imgUrl:t.src=a(48),t.onload=function(){e.setState({loading:!1,imgPic:t.src})},t.onerror=function(t){e.setState({loading:!1,error:!0,imgPic:a(62)})}}},{key:"componentWillUnmount",value:function(){this.setState({loading:!0,error:!1,imgPic:a(107)})}},{key:"render",value:function(){var e=this,t=this.props.allProducts.filter(function(t){return t.product_id==e.props.details.product_id})[0].liked_by.some(function(t){return t==e.props.myUser.user_id}),a=this.props.myUser.uploaded_products?this.props.myUser.uploaded_products:[],r=a.some(function(t){return t==e.props.details.product_id})?"my":"other",n=function(){var t=e.props.details,n=t.offered_by.some(function(e){return a.some(function(t){return t==e})});if(!!!e.props.myUser.user_id)return"login";if("my"==r){if(3==t.status)return"traded";if(t.offered_by.length>0&&null==t.sold_to)return"withR";if(2==t.status)return"trading";if(1==t.status&&0==t.offered_by.length)return"nth"}else{if(t.status>1)return"na";if(1==t.status&&!n)return"a";if(n&&1==t.status)return"requested"}};switch(n()){case"traded":case"withR":case"trading":case"nth":return o.a.createElement("div",null,o.a.createElement(ie.a,{hoverable:!0,style:{width:"100%",marginTop:"10px"},cover:o.a.createElement("img",{alt:"example",src:this.state.imgPic,onClick:function(){e.props.openOutDetails(e.props.details.product_id,r,n(),e.props.allUsers)}}),actions:[o.a.createElement(k.a,{type:"message",onClick:function(){e.props.openOutDetails(e.props.details.product_id,r,n(),e.props.allUsers)}})]},o.a.createElement(le.a,{loading:this.state.loading,title:!0,paragraph:!0,active:!0},o.a.createElement(Re,{title:this.props.name,description:this.props.description}))));default:return o.a.createElement("div",null,!t&&o.a.createElement(ie.a,{hoverable:!0,style:{width:"100%",marginTop:"10px"},cover:o.a.createElement("img",{alt:"example",src:this.state.imgPic,onClick:function(){e.props.openOutDetails(e.props.details.product_id,r,n(),e.props.allUsers)}}),actions:[o.a.createElement(k.a,{type:"heart",onClick:function(){e.handleLike(e.props.details.product_id)}}),o.a.createElement(k.a,{type:"message",onClick:function(){e.props.openOutDetails(e.props.details.product_id,r,n(),e.props.allUsers)}})]},o.a.createElement(le.a,{loading:this.state.loading,title:!0,paragraph:!0,active:!0},o.a.createElement(Re,{title:this.props.name,description:this.props.description}))),t&&o.a.createElement(ie.a,{hoverable:!0,style:{width:"100%",marginTop:"10px"},cover:o.a.createElement("img",{alt:"example",src:this.state.imgPic,onClick:function(){e.props.openOutDetails(e.props.details.product_id,r,n(),e.props.allUsers)}}),actions:[o.a.createElement(k.a,{type:"heart",theme:"twoTone",twoToneColor:"#eb2f96",onClick:function(){e.handleLike(e.props.details.product_id)}}),o.a.createElement(k.a,{type:"message",onClick:function(){e.props.openOutDetails(e.props.details.product_id,r,n(),e.props.allUsers)}})]},o.a.createElement(le.a,{loading:this.state.loading,title:!0,paragraph:!0,active:!0},o.a.createElement(Re,{title:this.props.name,description:this.props.description}))))}}}]),t}(o.a.Component),be=Object(j.b)(function(e){var t=e.searchReducer,a=e.userReducer;return{allProducts:t.allProducts,allUsers:a.allUsers,myUser:a.myUser}},function(e){return{handleOneModal:function(t){e(L.openOneModal(t))},storeAllProducts:function(t){e(J.storeAllProducts(t))},storeAllUsers:function(t){e(L.storeAllUsers(t))},storeMyUser:function(t){e(L.storeMyUser(t))},updateProducts:function(t){return e(Y(t))},loading:function(){e(L.loading())},openOutDetails:function(){var t=Object(A.a)(_.a.mark(function t(a,r,n,o){var s,i,l;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(L.loading()),t.next=4,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/",{method:"get",withCredentials:!0});case 4:(s=t.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),e(J.storeAllProducts(s.data)),e(Y(s.data)),i=s.data.filter(function(e){return e.product_id==a})[0].comments,l=i.map(function(){var e=Object(A.a)(_.a.mark(function e(t){var a,r,n,s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/comment/").concat(t),{method:"get",withCredentials:!0});case 2:return a=e.sent,r=a.data[0],n=o.filter(function(e){return e.user_id==r.commentator})[0].displayed_name,s=Math.floor((new Date-new Date(r.comment_at))/864e5),e.abrupt("return",{title:n,content:r.comment,description:"".concat(s," days ago")});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),3==s.data.filter(function(e){return e.product_id==a})[0].status?Promise.all(l).then(function(t){e(J.setMyProducts(a)),e(J.setFProducts(a)),e(L.storeAllComments(t,a)),e(J.openOutDetails(a,r,"traded")),e(L.loading())}):Promise.all(l).then(function(t){e(J.setMyProducts(a)),e(J.setFProducts(a)),e(L.storeAllComments(t,a)),e(J.openOutDetails(a,r,n)),e(L.loading())}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(e,a,r,n){return t.apply(this,arguments)}}()}})(Te),ve=a(219),Oe=a.n(ve),we={out:{width:"100vw",height:"93vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.8)",zIndex:99998,position:"fixed"},frame:{width:"90vw",height:"93vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.8)",zIndex:99998,position:"absolute"},content:{width:"80vw",height:"80vh",backgroundColor:"rgb(200,200,200)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999},details:{outer:{width:"76vw",height:"76vh",display:"grid",gridTemplateColumns:"35vw 6vw 35vw"},inner:{img:{gridColumn:"1/2",display:"grid",gridTemplateRows:"6vh 70vh"},imgHeader:{display:"flex",flexDirection:"row",width:"inherit",justifyContent:"space-between",alignItems:"center",gridRow:"1/2"},carousel:{display:"grid",gridRow:"2/3",gridTemplateRows:"60vh,10vh",width:"inherit"},currentImg:{gridRow:"1/2",display:"flex",justifyContent:"center",width:"35vw",alignItems:"center"},allImg:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(200,200,200,0.5)"},allImgContainer:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(200,200,230,0.9)",width:"8vh",height:"8vh",overflow:"hidden"},notImg:{gridColumn:"3/4",display:"grid",gridTemplateRows:"6vh 70vh"},button:{gridRow:"1/2",display:"flex",justifyContent:"center",height:"76vh"},notButton:{gridRow:"2/3",flexDirection:"column",height:"70vh",overflowY:"scroll"}}}},Ne=(a(62),function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).handlePlaceOffer=Object(A.a)(_.a.mark(function e(){var t,r,n,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={product_offered:a.props.details.product_id,product_offering:a.props.selected},e.prev=1,a.props.loading(),e.next=5,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/offer_product",{method:"post",data:t,withCredentials:!0});case 5:return e.sent,e.next=8,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 8:return(r=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(r.data),a.props.updateProducts(r.data),e.next=14,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 14:return n=e.sent,a.props.storeAllUsers(n.data),e.next=18,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 18:o=e.sent,a.props.storeMyUser(o.data),a.props.clearSelect(),a.props.loading(),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.log(e.t0);case 27:case"end":return e.stop()}},e,this,[[1,24]])})),a.handleAcceptOffer=Object(A.a)(_.a.mark(function e(){var t,r,n,o,s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={product_offered:a.props.details.product_id,product_offering:a.props.selected},console.log(t),e.prev=2,a.props.loading(),e.next=6,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/acceptOffer/",{method:"post",data:t,withCredentials:!0});case 6:return r=e.sent,console.log(r),e.next=10,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 10:return(n=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(n.data),a.props.updateProducts(n.data),e.next=16,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 16:return o=e.sent,a.props.storeAllUsers(o.data),e.next=20,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 20:s=e.sent,a.props.storeMyUser(s.data),a.props.clearSelect(),a.props.loading(),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(2),console.log(e.t0);case 29:case"end":return e.stop()}},e,this,[[2,26]])})),a.handleDeleteOffer=function(){var e=Object(A.a)(_.a.mark(function e(t){var r,n,o,s,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t[0].product_id,n={product_offered:a.props.details.product_id,product_offering:r},e.prev=2,a.props.loading(),e.next=6,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/offer_product",{method:"delete",data:n,withCredentials:!0});case 6:return e.sent,e.next=9,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 9:return(o=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(o.data),a.props.updateProducts(o.data),e.next=15,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 15:return s=e.sent,a.props.storeAllUsers(s.data),e.next=19,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 19:i=e.sent,a.props.storeMyUser(i.data),a.props.loading(),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),console.log(e.t0);case 27:case"end":return e.stop()}},e,this,[[2,24]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.status,r=t.details,n=t.myUser.user_id;switch(a){case"nth":return o.a.createElement("div",{className:"trade"},o.a.createElement(R.a,{ghost:!0,type:"primary",style:{boxShadow:"0.3vw 0.3vw 1vw rgb(100,100,100)"}},"No Offers"));case"traded":return o.a.createElement("div",{className:"trade"},o.a.createElement(R.a,{ghost:!0,type:"dashed",style:{boxShadow:"0.3vw 0.3vw 1vw rgb(100,100,100)"}},"Traded"));case"requested":case"trading":return o.a.createElement("div",{className:"trade"},o.a.createElement(R.a,{ghost:!0,type:"primary",style:{boxShadow:"0.3vw 0.3vw 1vw rgb(100,100,100)"},onClick:function(){e.props.openTradeCards(r,a,n)}},"Rollback Offer"));case"withR":return o.a.createElement("div",{className:"trade"},o.a.createElement(R.a,{ghost:!0,type:"primary",style:{boxShadow:"0.3vw 0.3vw 1vw rgb(100,100,100)"},onClick:function(){e.props.openTradeCards(r,a,n)}},"Check Received Offers"));case"a":return o.a.createElement("div",{className:"trade"},o.a.createElement(R.a,{ghost:!0,type:"primary",style:{boxShadow:"0.3vw 0.3vw 1vw rgb(100,100,100)"},onClick:function(){e.props.openTradeCards(r,a,n)}},"Make An Offer"));case"na":return o.a.createElement("div",{className:"trade"},o.a.createElement(R.a,{ghost:!0,type:"primary",style:{boxShadow:"0.3vw 0.3vw 1vw rgb(100,100,100)"}},"Not available"));case"login":default:return o.a.createElement("div",{className:"trade"},o.a.createElement(R.a,{type:"danger",style:{boxShadow:"0.3vw 0.3vw 2vw rgb(100,100,100)"}},"Login To Make a Deal!"))}}}]),t}(n.Component)),De=Object(j.b)(function(e){var t=e.userReducer,a=e.tradeReducer,r=e.searchReducer,n=e.roootReducer;return{myUser:t.myUser,openMyGoodModal:a.openMyGoodModal,openOGModal:a.openOGModal,selected:a.selected,allProducts:r.allProducts,tryLogin:n.tryLogin}},function(e){return{openMyGoodModal:function(t){e(pe.openMyGoodModal(t)),e(pe.clearSelect())},openOGModal:function(t){e(pe.openOGModal(t)),e(pe.clearSelect())},openDELModal:function(t){e(pe.openDELModal(t)),e(pe.clearSelect())},handleSelect:function(t){e(pe.selectMyGood(t))},clearSelect:function(){e(pe.clearSelect())},storeAllProducts:function(t){e(J.storeAllProducts(t))},storeAllUsers:function(t){e(L.storeAllUsers(t))},storeMyUser:function(t){e(L.storeMyUser(t))},openTradeCards:function(t,a,r){e(J.setMyProducts(r)),e(pe.openTradeCards(t,a))},updateProducts:function(t){return e(Y(t))},loading:function(){e(L.loading())}}})(Ne),Se=we.details,Ue=a(48),Ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.srcs[0]?a.props.srcs[0]:Ue;a.setState({img:{src:e}})},a.setCurrentImg=function(e){a.setState({img:{src:e}})},a.state={img:{src:""}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.srcs.length>0?this.props.srcs.map(function(t){return o.a.createElement("div",{className:"allImgContainer",onClick:function(){e.setCurrentImg(t)},style:Se.inner.allImgContainer},o.a.createElement("img",{src:t,alt:"",className:"carouselSmall",style:{width:"7.5vh",height:"7.5vh",objectFit:"contain"}}))}):function(){return o.a.createElement("div",{className:"allImgContainer",onClick:function(){e.setCurrentImg(Ue)},style:Se.inner.allImgContainer},o.a.createElement("img",{src:Ue,alt:"",className:"carouselSmall",style:{width:"7.5vh",height:"7.5vh",objectFit:"contain"}}))};return o.a.createElement("div",{className:"fkcarousel",style:Se.inner.carousel},o.a.createElement("div",{className:"currentImg",style:Se.inner.currentImg},o.a.createElement("img",{src:this.state.img.src,alt:"",className:"carouselBig",style:{width:"35vw",height:"60vh",objectFit:"contain"}})),o.a.createElement("div",{className:"allImg",style:Se.inner.allImg},t))}}]),t}(n.Component),Me=(a(48),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).openDetails=function(){a.setState({details:!0,comments:!1})},a.openComments=function(){a.setState({details:!1,comments:!0})},a.state={details:!0,comments:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.details,a=this.props.status,r=this.props.allUsers.filter(function(e){return e.user_id==t.uploaded_by}).map(function(e){return e.displayed_name})[0],n=this.props.allComments.some(function(e){return e.product_id==t.product_id})?this.props.allComments.filter(function(e){return e.product_id==t.product_id})[0].comments:[],s=function(){var e=new Date(t.uploaded_at);return{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}},i=[{title:"Product Name",description:t.name},{title:"Product Description",description:t.description},{title:"Preferred Trade Location",description:t.trade_location},{title:"Owner",description:r},{title:"Date of Upload",description:"".concat(s().year,"-").concat(s().month,"-").concat(s().date)},{title:"Status of Trade",description:1==t.status?"Available":2==t.status?"trading":3==t.status?"traded":void 0}],l=we.details;return o.a.createElement("div",{key:"details-".concat(t.product_id),style:l.outer},o.a.createElement("div",{style:l.inner.img,className:"imageCarosel"},o.a.createElement("div",{className:"header",style:l.inner.imgHeader},o.a.createElement("h4",{style:{padding:0,margin:0}},t.name),o.a.createElement(De,{details:t,status:a})),o.a.createElement(Ie,{srcs:t.image})),o.a.createElement("div",{className:"notImg",style:l.inner.notImg},o.a.createElement("div",{className:"buttons",style:l.inner.button},o.a.createElement(R.a,{type:"danger",onClick:this.openDetails,style:{width:"15vw"}},"Details"),this.props.myUser.user_id&&o.a.createElement(R.a,{type:"danger",onClick:this.openComments,style:{width:"15vw"}},"Comments")),this.state.details&&o.a.createElement("div",{className:"detailsList",style:l.inner.notButton},o.a.createElement(de.a,{itemLayout:"vertical",dataSource:i,renderItem:function(a){return o.a.createElement(de.a.Item,{key:"list-".concat(t.product_id)},"Owner"!=a.title&&"Tags"!=a.title&&o.a.createElement(de.a.Item.Meta,{title:o.a.createElement("h5",null,a.title),description:a.description}),"Owner"==a.title&&t.uploaded_by!==e.props.myUser.user_id&&o.a.createElement(de.a.Item.Meta,{title:o.a.createElement("h5",null,a.title),description:a.description,onClick:function(){e.props.handleOtherUser(t.uploaded_by)}}),"Owner"==a.title&&t.uploaded_by===e.props.myUser.user_id&&o.a.createElement(de.a.Item.Meta,{className:"username",title:o.a.createElement("h5",null,a.title),description:a.description}),"Tags"==a.title&&o.a.createElement(de.a.Item.Meta,{title:o.a.createElement("h5",null,a.title)}))}}),o.a.createElement("h5",{style:{color:"rgb(100,100,100)"}},"Tags"),o.a.createElement(Ae,{tags:this.props.details.tags,closable:!1})),this.state.comments&&this.props.myUser.user_id&&o.a.createElement("div",{stlye:{display:"flex",flexDirection:"column",position:"relative"},style:l.inner.notButton},o.a.createElement("div",{className:"comments",style:{marginBottom:"16px",paddingTop:"15px"}},o.a.createElement("h5",null,"Comments"),o.a.createElement(de.a,{itemLayout:"horizontal",dataSource:n,renderItem:function(e){return o.a.createElement(de.a.Item,{key:"".concat(t.product_id,"comment")},o.a.createElement(de.a.Item.Meta,{title:o.a.createElement("h6",null,e.title),description:e.content}),e.description)}}),o.a.createElement("input",{style:{width:"220px",marginBottom:"20px",height:"42.74px"},type:"text",onChange:this.props.handleComment,value:this.props.comment,placeholder:"Write a comment!"}),o.a.createElement("button",{className:"myCmBtn",onClick:function(){e.props.handleSubmitComment(t.product_id,e.props.comment,e.props.allUsers)}},"Submit Comment")))))}}]),t}(n.Component)),xe=Object(j.b)(function(e){var t=e.userReducer,a=e.searchReducer;return{otherUser:t.otherUser,users:t.users,comment:t.comment,allUsers:t.allUsers,allComments:t.allComments,myUser:t.myUser,allProducts:a.allProducts}},function(e,t){return{loading:function(){e(L.loading())},handleOtherUser:function(t){e(L.showOtherUser(t))},handleCloseOtherUser:function(){e(L.closeOtherUser())},handleComment:function(t){var a=t.target.value;e(L.setComment(a))},handleSubmitComment:function(){var t=Object(A.a)(_.a.mark(function t(a,r,n){var o,s,i,l;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(L.loading()),t.next=4,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/comment",{method:"post",data:{product_id:a,comment:r},withCredentials:!0});case 4:if(201!=(o=t.sent).status){t.next=15;break}return t.next=8,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/",{method:"get",withCredentials:!0});case 8:(s=t.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),e(J.storeAllProducts(s.data)),e(Y(s.data)),i=o.data[0].map(function(e){return e[0]}),l=i.map(function(){var e=Object(A.a)(_.a.mark(function e(t){var a,r,o,s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/comment/").concat(t),{method:"get",withCredentials:!0});case 2:return a=e.sent,r=a.data[0],o=n.filter(function(e){return e.user_id==r.commentator})[0].displayed_name,s=Math.floor((new Date-new Date(r.comment_at))/864e5),e.abrupt("return",{title:o,content:r.comment,description:"".concat(s," days ago")});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),Promise.all(l).then(function(t){console.log(t),e(L.storeAllComments(t,a)),e(L.loading())});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}},t,this,[[0,17]])}));return function(e,a,r){return t.apply(this,arguments)}}()}})(Me),ke=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).stopPropagation=function(e){e.stopPropagation()},a.closeOutDetails=Object(A.a)(_.a.mark(function e(){var t,r,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.props.loading(),e.next=4,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 4:return(t=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(t.data),a.props.updateProducts(t.data),e.next=10,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 10:if(r=e.sent,a.props.storeAllUsers(r.data),!a.props.myUser.user_id){e.next=17;break}return e.next=15,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 15:n=e.sent,a.props.storeMyUser(n.data);case 17:a.props.closeOutDetails(),a.props.loading(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[0,21]])})),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.currentOutProduct,t=e.details,a=e.whom,r=e.which;return o.a.createElement("div",{className:"bigCards",onClick:this.closeOutDetails,style:we.out},o.a.createElement("div",{className:"content",style:we.content,onClick:this.stopPropagation},o.a.createElement(xe,{details:t[0],whom:a,status:r})))}}]),t}(n.Component),Be=Object(j.b)(function(e){var t=e.searchReducer,a=e.userReducer;return{currentOutProduct:t.currentOutProduct,myUser:a.myUser}},function(e){return{closeOutDetails:function(){e(J.closeOutDetails())},storeAllProducts:function(t){e(J.storeAllProducts(t))},storeAllUsers:function(t){e(L.storeAllUsers(t))},storeMyUser:function(t){e(L.storeMyUser(t))},updateProducts:function(t){return e(Y(t))},loading:function(){e(L.loading())}}})(ke),Le={frame:{width:"90vw",height:"93vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.8)",zIndex:999998,position:"absolute",fontFamily:"'Rajdhani', sans-serif"},outFrame:{width:"100vw",height:"93vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.8)",zIndex:999998,position:"fixed",fontFamily:"'Rajdhani', sans-serif"},content:{width:"80vw",height:"80vh",backgroundColor:"rgba(200,200,200,0.85)",display:"grid",gridTemplateRows:"5vh 70vh 5vh",zIndex:999999},inner:{title:{gridRow:"1/2",backgroundColor:"rgba(200,200,200,0.8)",display:"flex",alignItems:"center"},titleAConfirm:{gridRow:"1/2",backgroundColor:"rgba(126,164,94,0.8)",display:"flex",alignItems:"center",color:"white"},titlePConfirm:{gridRow:"1/2",backgroundColor:"rgba(124,10,2,0.8)",display:"flex",alignItems:"center",color:"white"},titleRequestedConfirm:{gridRow:"1/2",backgroundColor:"rgba(178,34,34,0.8)",display:"flex",alignItems:"center",color:"white"},titleWithRConfirm:{gridRow:"1/2",backgroundColor:"rgba(144,181,255,0.8)",display:"flex",alignItems:"center",color:"white"},titleSwapDone:{gridRow:"1/2",backgroundColor:"rgba(126,164,94,0.8)",display:"flex",alignItems:"center",color:"white"},content:{gridRow:"2/3",backgroundColor:"rgba(130,130,130,0.7)"},buttons:{gridRow:"3/4",backgroundColor:"rgba(200,200,200,0.8)",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",paddingLeft:"1vw",paddingRight:"1vw"}},swap:{frame:{gridColumn:"1/2",display:"grid",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)",gridTemplateColumns:"17vw 3vw 17vw",gridTemplateRows:"45vh 25vh"},swapzone1:{gridColumn:"1/2",gridRow:"1/2",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},swapzone2:{gridColumn:"3/4",gridRow:"1/2",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},swapLogo:{gridColumn:"2/3",gridRow:"1/2",display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"2vw",backgroundColor:"rgba(210,210,210,0.7)"},choose:{gridColumn:"1/4",gridRow:"2/3",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(150,150,150,0.8)",overflowY:"scroll"},middleCard:{display:"grid",width:"10vw",height:"13vw",gridTemplateRows:"10vw 3vw",boxShadow:"0.5vw 0.5vw 2vw rgb(100,100,100)"},middlename:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",gridRow:"2/3",color:"white",backgroundColor:"rgba(100,100,100,0.3)",fontSize:"0.7vw",overflow:"hidden"},swapButton:{marginTop:"3vw",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"15vw"}},withR:{arrow:{display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"5vw"},frame:{gridColumn:"1/2",display:"grid",gridTemplateColumns:"16vw 21vw",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)"},accepted:{gridColumn:"1/2",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)"},items:{gridColumn:"1/2",display:"grid",gridTemplateRows:"15vh 55vh",width:"16vw",height:"inherit"},itemsTitle:{gridRow:"1/2",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(140,140,140,0.8)",color:"white"},itemsContent:{gridRow:"2/3",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"16vw",height:"55vh",backgroundColor:"rgba(160,160,160,0.8)",overflowY:"scroll"},choosed:{gridColumn:"2/3",display:"flex",justifyContent:"center",alignItems:"center",width:"21vw",height:"inherit"}},otherUser:{bigframe:{width:"90vw",height:"93vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.8)",zIndex:599998,position:"absolute",fontFamily:"'Rajdhani', sans-serif"},out:{width:"100vw",height:"93vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.8)",zIndex:599998,position:"fixed",fontFamily:"'Rajdhani', sans-serif"},content:{width:"80vw",height:"80vh",backgroundColor:"rgba(200,200,200,0.85)",display:"grid",gridTemplateRows:"5vh 70vh 5vh",zIndex:599999},drop:{gridColumn:"3/4",display:"grid",gridTemplateRows:"10vh 60vh",justifyContent:"center",alignItems:"center",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)"},title:{gridRow:"1/2",display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(200,200,200,0.8)",height:"10vh",width:"37vw"},aItems:{gridRow:"2/3",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"37vw",height:"60vh",backgroundColor:"rgba(230,230,230,0.8)",overflowY:"scroll"},details:{display:"flex",width:"30vw",height:"20vh",justifyContent:"space-between",alignItems:"center",marginTop:"1vw",flexDirection:"row"}},a:{frame:{gridRow:"2/3",backgroundColor:"rgba(110,110,110,0.7)",width:"80vw",height:"70vh",display:"grid",gridTemplateColumns:"37vw 6vw 37vw"},aItems:{gridColumn:"1/2",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)",overflowY:"scroll"},aItemsConfirm:{gridColumn:"1/2",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)"},smallCard:{display:"grid",width:"7vw",height:"9vw",gridTemplateRows:"7vw 2vw",margin:"0.5vw",boxShadow:"0.5vw 0.5vw 2vw rgb(100,100,100)"},img:{display:"flex",justifyContent:"center",alignItems:"center",gridRow:"1/2",backgroundColor:"rgba(150,150,150,0.3)"},name:{display:"flex",justifyContent:"center",alignItems:"center",gridRow:"2/3",overflow:"hidden",color:"white",backgroundColor:"rgba(100,100,100,0.3)"},drop:{gridColumn:"3/4",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"37vw",height:"inherit",backgroundColor:"rgba(230,230,230,0.8)"},middleCard:{display:"grid",width:"14vw",height:"18vw",gridTemplateRows:"14vw 4vw",boxShadow:"0.5vw 0.5vw 2vw rgb(100,100,100)"},middlename:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",gridRow:"2/3",color:"white",backgroundColor:"rgba(100,100,100,0.3)",fontSize:"1vw",overflow:"hidden"},arrow:{display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"5vw"}}},je={handleNav:function(e){return{type:"NAV",tag:e}},imgHover:function(){return{type:"IMG_HOVER"}},updatePropic:function(){return{type:"UPDATE_PROPIC"}},closePropic:function(){return{type:"CLOSE_PROPIC"}}},Ge=a(48),Ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){a.props.setMyProducts(a.props.myUser.user_id)},a.stopPropagation=function(e){e.stopPropagation()},a.closeTradeCards=function(e){a.setState({a:null,aConfirm:!1,swap:!1,delete:!1,swapDone:!1,myRequestedProduct:null,accepted:!1,original:null}),a.props.closeTradeCards(e)},a.onAClick=function(e,t){e.preventDefault(),a.props.setMyProducts(a.props.myUser.user_id),a.setState({a:t}),a.props.filterMyProducts(t.product_id)},a.handlePlaceOffer=function(){var e=Object(A.a)(_.a.mark(function e(t){var r,n,o,s,i,l,c,d,p,m,u,E;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={product_offered:a.props.currentTrade.details.product_id,product_offering:t},n=a.state.a.offered_by,e.prev=2,a.props.loading(),o=!0,s=!1,i=void 0,e.prev=7,l=n[Symbol.iterator]();case 9:if(o=(c=l.next()).done){e.next=18;break}return d=c.value,p={product_offered:t,product_offering:d},e.next=14,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/decline_offer",{method:"delete",data:p,withCredentials:!0});case 14:e.sent;case 15:o=!0,e.next=9;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(7),s=!0,i=e.t0;case 24:e.prev=24,e.prev=25,o||null==l.return||l.return();case 27:if(e.prev=27,!s){e.next=30;break}throw i;case 30:return e.finish(27);case 31:return e.finish(24);case 32:if(a.props.currentTrade.details.liked_by.some(function(e){return e==a.props.myUser.user_id})){e.next=37;break}return e.next=36,P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/like/").concat(a.props.currentTrade.details.product_id),{method:"put",withCredentials:!0});case 36:e.sent;case 37:return e.next=39,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/offer_product",{method:"post",data:r,withCredentials:!0});case 39:return e.sent,e.next=42,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 42:return(m=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(m.data),a.props.updateProducts(m.data),e.next=48,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 48:return u=e.sent,a.props.storeAllUsers(u.data),e.next=52,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 52:E=e.sent,a.props.storeMyUser(E.data),a.setState({aConfirm:!0}),a.props.loading(),e.next=61;break;case 58:e.prev=58,e.t1=e.catch(2),console.log(e.t1);case 61:case"end":return e.stop()}},e,this,[[2,58],[7,20,24,32],[25,,27,31]])}));return function(t){return e.apply(this,arguments)}}(),a.handleAConfirm=Object(A.a)(_.a.mark(function e(){var t,r,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.loading(),e.next=3,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 3:return(t=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(t.data),a.props.updateProducts(t.data),e.next=9,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 9:return r=e.sent,a.props.storeAllUsers(r.data),e.next=13,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 13:n=e.sent,a.props.storeMyUser(n.data),a.setState({a:null,aConfirm:!1,swap:!1,delete:!1,swapDone:!1,myRequestedProduct:null,accepted:!1,original:null}),a.props.loading(),a.props.closeAllCards(a.props.myUser.user_id);case 18:case"end":return e.stop()}},e,this)})),a.handleOpenSwap=function(){a.setState({swap:!0})},a.handleMyOpenSwap=function(e){a.setState({swap:!0,myRequestedProduct:e})},a.handleShit=function(){var e=Object(A.a)(_.a.mark(function e(t){var r,n,o,s,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=a.state.a){e.next=4;break}alert("Select a product first"),e.next=35;break;case 4:return r={product_offered:a.props.currentTrade.details.product_id,product_offering:t},n={product_offered:a.props.currentTrade.details.product_id,product_offering:a.state.a.product_id},e.prev=6,a.props.loading(),e.next=10,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/offer_product",{method:"delete",data:r,withCredentials:!0});case 10:return e.sent,e.next=13,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/offer_product",{method:"post",data:n,withCredentials:!0});case 13:return e.sent,a.setState({swap:!1,swapDone:!0}),e.next=17,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 17:return(o=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(o.data),a.props.updateProducts(o.data),e.next=23,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 23:return s=e.sent,a.props.storeAllUsers(s.data),e.next=27,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 27:i=e.sent,a.props.storeMyUser(i.data),a.props.loading(),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(6),console.log(e.t0);case 35:case"end":return e.stop()}},e,this,[[6,32]])}));return function(t){return e.apply(this,arguments)}}(),a.handleMyShit=function(){var e=Object(A.a)(_.a.mark(function e(t){var r,n,o,s,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=a.state.a){e.next=4;break}alert("Select a product first"),e.next=35;break;case 4:return r={product_offered:t,product_offering:a.props.currentTrade.details.product_id},n={product_offered:t,product_offering:a.state.a.product_id},e.prev=6,a.props.loading(),e.next=10,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/offer_product",{method:"delete",data:r,withCredentials:!0});case 10:return e.sent,e.next=13,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/offer_product",{method:"post",data:n,withCredentials:!0});case 13:return e.sent,e.next=16,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 16:return(o=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(o.data),a.props.updateProducts(o.data),e.next=22,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 22:return s=e.sent,a.props.storeAllUsers(s.data),e.next=26,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 26:i=e.sent,a.props.storeMyUser(i.data),a.props.loading(),a.setState({swap:!1,swapDone:!0}),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(6),console.log(e.t0);case 35:case"end":return e.stop()}},e,this,[[6,32]])}));return function(t){return e.apply(this,arguments)}}(),a.handleDeleteOffer=function(){var e=Object(A.a)(_.a.mark(function e(t){var r,n,o,s,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,n={product_offered:a.props.currentTrade.details.product_id,product_offering:r},e.prev=2,a.props.loading(),e.next=6,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/offer_product",{method:"delete",data:n,withCredentials:!0});case 6:return e.sent,e.next=9,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 9:return(o=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(o.data),a.props.updateProducts(o.data),e.next=15,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 15:return s=e.sent,a.props.storeAllUsers(s.data),e.next=19,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 19:i=e.sent,a.props.storeMyUser(i.data),a.setState({delete:!0}),a.props.loading(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(2),console.log(e.t0);case 28:case"end":return e.stop()}},e,this,[[2,25]])}));return function(t){return e.apply(this,arguments)}}(),a.handleMyDeleteOffer=function(){var e=Object(A.a)(_.a.mark(function e(t){var r,n,o,s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={product_offered:t,product_offering:a.props.currentTrade.details.product_id},e.prev=1,a.props.loading(),e.next=5,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/offer_product",{method:"delete",data:r,withCredentials:!0});case 5:return e.sent,e.next=8,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 8:return(n=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(n.data),a.props.updateProducts(n.data),e.next=14,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 14:return o=e.sent,a.props.storeAllUsers(o.data),e.next=18,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 18:s=e.sent,a.props.storeMyUser(s.data),a.setState({delete:!0}),a.props.loading(),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.log(e.t0);case 27:case"end":return e.stop()}},e,this,[[1,24]])}));return function(t){return e.apply(this,arguments)}}(),a.handleSwap=function(){a.setState({swap:!0})},a.handleWithR=Object(A.a)(_.a.mark(function e(){var t,r,n,o,s,i,l,c,d,p,m,u,E,A;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.a.product_id,r=a.props.currentTrade.details.offered_by.filter(function(e){return e!=t}),n=a.props.currentTrade.details.product_id,o={product_offered:n,product_offering:t},a.setState({original:a.props.currentTrade.details}),e.prev=5,a.props.loading(),s=!0,i=!1,l=void 0,e.prev=10,c=r[Symbol.iterator]();case 12:if(s=(d=c.next()).done){e.next=21;break}return p=d.value,m={product_offered:n,product_offering:p},e.next=17,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/decline_offer",{method:"delete",data:m,withCredentials:!0});case 17:e.sent;case 18:s=!0,e.next=12;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(10),i=!0,l=e.t0;case 27:e.prev=27,e.prev=28,s||null==c.return||c.return();case 30:if(e.prev=30,!i){e.next=33;break}throw l;case 33:return e.finish(30);case 34:return e.finish(27);case 35:return e.next=37,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/acceptOffer/",{method:"post",data:o,withCredentials:!0});case 37:return e.sent,e.next=40,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 40:return(u=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(u.data),a.props.updateProducts(u.data),e.next=46,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 46:return E=e.sent,a.props.storeAllUsers(E.data),e.next=50,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 50:A=e.sent,a.props.storeMyUser(A.data),a.props.setMyProducts(a.props.myUser.user_id),a.props.setFProducts(a.props.myUser.user_id),a.props.loading(),a.setState({accepted:!0}),e.next=60;break;case 58:e.prev=58,e.t1=e.catch(5);case 60:case"end":return e.stop()}},e,this,[[5,58],[10,23,27,35],[28,,30,34]])})),a.state={a:null,aConfirm:!1,swap:!1,delete:!1,swapDone:!1,myRequestedProduct:null,accepted:!1,original:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.out,a=this.props.currentTrade,r=a.status,n=a.details,s=this.props.myProducts.length>0?this.props.myProducts.filter(function(e){return 1==e.status}).map(function(t){return o.a.createElement("div",{className:"smallCard",style:Le.a.smallCard,key:"".concat(t.product_id,"_smallCard"),onClick:function(a){return e.onAClick(a,t)}},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:t.image[0]?t.image[0]:Ge,alt:"",style:{width:"7vw",height:"7vw",objectFit:"contain"}})),o.a.createElement("div",{className:"name",style:Le.a.name},o.a.createElement("p",{style:{textAlign:"center",padding:0,margin:0,fontSize:"0.5vw"}},t.name)))}):function(){return o.a.createElement("div",null,o.a.createElement("p",{style:{textAlign:"center"}},"You have no available goods for exchange"),o.a.createElement(R.a,{onClick:function(){e.props.handleNav("Upload")},type:"primary"},"Click to upload new goods"))},i=this.props.myProducts.map(function(e){return e.product_id}),l=n.offered_by.filter(function(e){return i.some(function(t){return t==e})})[0],c=this.props.myProducts.filter(function(e){return e.product_id==l})[0],d=this.props.allProducts.filter(function(e){return e.offered_by.some(function(e){return e==n.product_id})})[0],p=this.props.allProducts.filter(function(e){return n.offered_by.some(function(t){return e.product_id==t})}).map(function(t){return o.a.createElement("div",{className:"smallCard",style:Le.a.smallCard,key:"".concat(t.product_id,"_smallCard"),onClick:function(a){return e.onAClick(a,t)}},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:t.image[0]?t.image[0]:Ge,alt:"",style:{width:"7vw",height:"7vw",objectFit:"contain"}})),o.a.createElement("div",{className:"name",style:Le.a.name},o.a.createElement("p",{style:{textAlign:"center",padding:0,margin:0,fontSize:"0.5vw"}},t.name)))});switch(r){case"requested":return o.a.createElement("div",{className:"tradeCards",style:t?Le.outFrame:Le.frame,onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},o.a.createElement("div",{className:"content",style:Le.content,onClick:this.stopPropagation},!this.state.swapDone&&o.a.createElement("div",{className:"title",style:Le.inner.titleRequestedConfirm},o.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Rollback Request")),this.state.swapDone&&o.a.createElement("div",{className:"title",style:Le.inner.titleSwapDone},o.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Finished Swapping!")),o.a.createElement("div",{className:"innerContent",style:Le.a.frame},!this.state.swap&&!this.state.swapDone&&o.a.createElement("div",{className:"aItems",style:Le.a.aItemsConfirm},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"Your Own Product")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:c.image[0]?c.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},c.name))),!this.state.delete&&o.a.createElement("div",{className:"buttons",style:Le.swap.swapButton},o.a.createElement(R.a,{type:"danger",onClick:this.handleOpenSwap},"Swap another product"),o.a.createElement(R.a,{type:"danger",onClick:function(){e.handleDeleteOffer(l)}},"Delete Request"))),this.state.swapDone&&o.a.createElement("div",{className:"aItems",style:Le.a.aItemsConfirm},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"New Product for exchange")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name)))),this.state.swap&&o.a.createElement("div",{className:"aItems",style:Le.swap.frame},o.a.createElement("div",{className:"swapZone1",style:Le.swap.swapzone1},o.a.createElement("div",{className:"title",style:{marginBottom:"1.5vw"}},o.a.createElement("h5",null,"Original Product")),o.a.createElement("div",{className:"middleCard",style:Le.swap.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:c.image[0]?c.image[0]:Ge,alt:"",style:{width:"10vw",height:"10vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.swap.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},c.name)))),o.a.createElement("div",{className:"swapLogo",style:Le.swap.swapLogo},o.a.createElement(k.a,{type:"swap"})),null!=this.state.a&&o.a.createElement("div",{className:"swapZone2",style:Le.swap.swapzone2},o.a.createElement("div",{className:"title",style:{marginBottom:"1.5vw"}},o.a.createElement("h5",null,"New Product")),o.a.createElement("div",{className:"middleCard",style:Le.swap.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Ge,alt:"",style:{width:"10vw",height:"10vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.swap.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name)))),null==this.state.a&&o.a.createElement("div",{className:"swapZone2",style:Le.swap.swapzone2},o.a.createElement("div",{className:"title"},o.a.createElement("h5",null,"Select a new product from below"))),o.a.createElement("div",{className:"choose",style:Le.swap.choose},s)),o.a.createElement("div",{className:"arrow",style:Le.a.arrow},o.a.createElement(k.a,{type:"arrow-right"})),!this.state.delete&&o.a.createElement("div",{className:"select",style:Le.a.drop},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"Your Requested Product")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:n.image[0]?n.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},n.name)))),this.state.delete&&o.a.createElement("div",{className:"select",style:Le.a.drop},o.a.createElement("div",{className:"title"},o.a.createElement("h4",null,"Your Requested of exchange is deleted.")))),!this.state.swap&&!this.state.delete&&!this.state.swapDone&&o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},o.a.createElement(R.a,{type:"danger",onClick:function(){e.handleDeleteOffer(l)}},"Delete Request"),o.a.createElement(R.a,{type:"primary",onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},"Return")),(this.state.delete||this.state.swapDone)&&o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},o.a.createElement(R.a,{type:"primary",onClick:this.handleAConfirm},"Return")),this.state.swap&&o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},o.a.createElement(R.a,{type:"danger",onClick:function(){e.handleShit(l)}},"Confirm Swap"),o.a.createElement(R.a,{type:"primary",onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},"Return"))));case"trading":return o.a.createElement("div",{className:"tradeCards",style:t?Le.outFrame:Le.frame,onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},o.a.createElement("div",{className:"content",style:Le.content,onClick:this.stopPropagation},!this.state.swapDone&&o.a.createElement("div",{className:"title",style:Le.inner.titleRequestedConfirm},o.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Rollback Request")),this.state.swapDone&&o.a.createElement("div",{className:"title",style:Le.inner.titleSwapDone},o.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Finished Swapping!")),o.a.createElement("div",{className:"innerContent",style:Le.a.frame},!this.state.swap&&!this.state.swapDone&&o.a.createElement("div",{className:"aItems",style:Le.a.aItemsConfirm},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"Your Own Product")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:n.image[0]?n.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},n.name))),!this.state.delete&&o.a.createElement("div",{className:"buttons",style:Le.swap.swapButton},o.a.createElement(R.a,{type:"danger",onClick:function(){e.handleMyOpenSwap(d)}},"Swap another product"),o.a.createElement(R.a,{type:"danger",onClick:function(){e.handleMyDeleteOffer(d.product_id)}},"Delete Request"))),this.state.swapDone&&o.a.createElement("div",{className:"aItems",style:Le.a.aItemsConfirm},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"New Product for exchange")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name)))),this.state.swap&&o.a.createElement("div",{className:"aItems",style:Le.swap.frame},o.a.createElement("div",{className:"swapZone1",style:Le.swap.swapzone1},o.a.createElement("div",{className:"title",style:{marginBottom:"1.5vw"}},o.a.createElement("h5",null,"Original Product")),o.a.createElement("div",{className:"middleCard",style:Le.swap.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:n.image[0]?n.image[0]:Ge,alt:"",style:{width:"10vw",height:"10vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.swap.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},n.name)))),o.a.createElement("div",{className:"swapLogo",style:Le.swap.swapLogo},o.a.createElement(k.a,{type:"swap"})),null!=this.state.a&&o.a.createElement("div",{className:"swapZone2",style:Le.swap.swapzone2},o.a.createElement("div",{className:"title",style:{marginBottom:"1.5vw"}},o.a.createElement("h5",null,"New Product")),o.a.createElement("div",{className:"middleCard",style:Le.swap.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Ge,alt:"",style:{width:"10vw",height:"10vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.swap.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name)))),null==this.state.a&&o.a.createElement("div",{className:"swapZone2",style:Le.swap.swapzone2},o.a.createElement("div",{className:"title"},o.a.createElement("h5",null,"Select a new product from below"))),o.a.createElement("div",{className:"choose",style:Le.swap.choose},s)),o.a.createElement("div",{className:"arrow",style:Le.a.arrow},o.a.createElement(k.a,{type:"arrow-right"})),!this.state.delete&&d&&o.a.createElement("div",{className:"select",style:Le.a.drop},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"Your Requested Product")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:d.image[0]?d.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},d.name)))),!this.state.delete&&!d&&this.state.myRequestedProduct&&o.a.createElement("div",{className:"select",style:Le.a.drop},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"Your Requested Product")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:this.state.myRequestedProduct.image[0]?this.state.myRequestedProduct.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.myRequestedProduct.name)))),this.state.delete&&o.a.createElement("div",{className:"select",style:Le.a.drop},o.a.createElement("div",{className:"title"},o.a.createElement("h4",null,"Your Requested of exchange is deleted.")))),!this.state.swap&&!this.state.delete&&!this.state.swapDone&&o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},o.a.createElement(R.a,{type:"danger",onClick:function(){e.handleMyDeleteOffer(d.product_id)}},"Delete Request"),o.a.createElement(R.a,{type:"primary",onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},"Return")),(this.state.delete||this.state.swapDone)&&o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},o.a.createElement(R.a,{type:"primary",onClick:this.handleAConfirm},"Return")),this.state.swap&&o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},o.a.createElement(R.a,{type:"danger",onClick:function(){e.handleMyShit(d.product_id)}},"Confirm Swap"),o.a.createElement(R.a,{type:"primary",onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},"Return"))));case"withR":return o.a.createElement("div",{className:"tradeCards",style:t?Le.outFrame:Le.frame,onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},o.a.createElement("div",{className:"content",style:Le.content,onClick:this.stopPropagation},!this.state.accepted&&o.a.createElement("div",{className:"title",style:Le.inner.titleWithRConfirm},o.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Received Requests")),this.state.accepted&&o.a.createElement("div",{className:"title",style:Le.inner.titleWithRConfirm},o.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Exchange Completed")),o.a.createElement("div",{className:"innerContent",style:Le.a.frame},!this.state.accepted&&o.a.createElement("div",{className:"aItems",style:Le.withR.frame},o.a.createElement("div",{className:"items",style:Le.withR.items},o.a.createElement("div",{className:"itemsTitle",style:Le.withR.itemsTitle},o.a.createElement("h6",null,"Products for Exchange")),o.a.createElement("div",{className:"itemsContent",style:Le.withR.itemsContent},p)),null!=this.state.a&&o.a.createElement("div",{className:"choosed",style:Le.withR.choosed},o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name)))),null==this.state.a&&o.a.createElement("div",{className:"choosed",style:Le.withR.choosed},o.a.createElement("h5",null,"Choose a product for exchange"))),!this.state.accepted&&o.a.createElement("div",{className:"select",style:Le.a.drop},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"Your Own Product")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:n.image[0]?n.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},n.name)))),this.state.accepted&&o.a.createElement("div",{className:"aItems",style:Le.withR.accepted},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"Your Original Product")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:this.state.original.image[0]?this.state.original.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.original.name)))),this.state.accepted&&o.a.createElement("div",{className:"select",style:Le.a.drop},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"Received Product")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name))))),!this.state.accepted&&o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},this.state.a&&o.a.createElement(R.a,{type:"danger",onClick:this.handleWithR},"Confirm Trade"),o.a.createElement(R.a,{type:"primary",onClick:this.handleAConfirm},"Return")),this.state.accepted&&o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},o.a.createElement(R.a,{type:"primary",onClick:this.handleAConfirm},"Return"))));case"a":return this.state.aConfirm?o.a.createElement("div",{className:"tradeCards",style:t?Le.outFrame:Le.frame,onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},o.a.createElement("div",{className:"content",style:Le.content,onClick:this.stopPropagation},o.a.createElement("div",{className:"title",style:Le.inner.titleAConfirm},o.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Trade Request Confirmed")),o.a.createElement("div",{className:"innerContent",style:Le.a.frame},o.a.createElement("div",{className:"aItems",style:Le.a.aItemsConfirm},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"Your Product")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name)))),o.a.createElement("div",{className:"arrow",style:Le.a.arrow},o.a.createElement(k.a,{type:"arrow-right"})),o.a.createElement("div",{className:"select",style:Le.a.drop},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"Requested Product")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:n.image[0]?n.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},n.name))))),o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},o.a.createElement(R.a,{type:"primary",onClick:this.handleAConfirm},"Return")))):o.a.createElement("div",{className:"tradeCards",style:t?Le.outFrame:Le.frame,onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},o.a.createElement("div",{className:"content",style:Le.content,onClick:this.stopPropagation},o.a.createElement("div",{className:"title",style:Le.inner.title},o.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Make an Offer")),o.a.createElement("div",{className:"innerContent",style:Le.a.frame},o.a.createElement("div",{className:"aItems",style:Le.a.aItems},s),null==this.state.a&&o.a.createElement("div",{className:"select",style:Le.a.drop},o.a.createElement("h4",null,"Select Your Product from Left Panel for exchange")),null!=this.state.a&&o.a.createElement("div",{className:"select",style:Le.a.drop},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"Product to be Exchanged")),o.a.createElement("div",{className:"middleCard",style:Le.a.middleCard},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:this.state.a.image[0]?this.state.a.image[0]:Ge,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}})),o.a.createElement("div",{className:"middleName",style:Le.a.middlename},o.a.createElement("p",{style:{padding:0,margin:0,textAlign:"center"}},this.state.a.name))))),o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},null!=this.state.a&&o.a.createElement(R.a,{type:"danger",onClick:function(){e.handlePlaceOffer(e.state.a.product_id)}},"Confirm"),o.a.createElement(R.a,{type:"primary",onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},"Return"))));default:return o.a.createElement("div",{className:"tradeCards",style:t?Le.outFrame:Le.frame,onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},o.a.createElement("div",{className:"content",style:Le.content,onClick:this.stopPropagation},o.a.createElement("div",{className:"title",style:Le.inner.title}),o.a.createElement("div",{className:"innerContent",style:Le.inner.content},o.a.createElement("p",null,"Error")),o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},o.a.createElement(R.a,{type:"primary",onClick:function(){e.closeTradeCards(e.props.myUser.user_id)}},"Return"))))}}}]),t}(n.Component),He=Object(j.b)(function(e){var t=e.tradeReducer,a=e.searchReducer,r=e.userReducer;return{currentTrade:t.currentTrade,myProducts:a.myProducts,allProducts:a.allProducts,myUser:r.myUser}},function(e){return{closeTradeCards:function(t){e(J.setFProducts(t)),e(J.setMyProducts(t)),e(pe.closeTradeCards()),e(J.closeOutDetails()),e(J.closeDetails())},closeAllCards:function(t){e(J.setMyProducts(t)),e(J.setFProducts(t)),e(pe.closeTradeCards()),e(J.closeOutDetails()),e(J.closeDetails())},setMyProducts:function(t){e(J.setMyProducts(t))},setFProducts:function(t){e(J.setFProducts(t))},filterMyProducts:function(t){e(J.filterMyProducts(t))},storeAllProducts:function(t){e(J.storeAllProducts(t))},storeAllUsers:function(t){e(L.storeAllUsers(t))},storeMyUser:function(t){e(L.storeMyUser(t))},updateProducts:function(t){return e(Y(t))},setTradeHistory:function(t){e(L.setTradeHistory(t))},loading:function(){e(L.loading())}}})(Ke),Ve={frame:{padding:"2.5vw 2.5vw 2.5vw 2.5vw",display:"grid",height:"80vh",width:"90vw",gridTemplateColumns:"42.5vw, 5vw, 42.5vw"},img:{frame:{gridColumn:"1/2",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"inherit",width:"42.5vw"},imgBox:{display:"grid",gridTemplateColumns:"repeat(2, 14vw)",gridTemplateRows:"repeat(3,14vw)",backgroundColor:"rgba(150,150,150,0.5)"},label:{display:"flex",flexDirection:"column",width:"14vw",height:"14vw",backgroundColor:"rgba(240,240,240,0.7)",justifyContent:"center",alignItems:"center",padding:0,margin:0},plabel:{display:"flex",flexDirection:"column",width:"16vw",height:"16vw",backgroundColor:"rgba(240,240,240,0.7)",justifyContent:"center",alignItems:"center",padding:0,margin:0},overlay:{display:"flex",flexDirection:"column",width:"14vw",height:"14vw",justifyContent:"center",alignItems:"center",position:"absolute",backgroundColor:"rgba(200,200,200,0.8)",opacity:0,zIndex:999},overlayHover:{display:"flex",flexDirection:"column",width:"14vw",height:"14vw",justifyContent:"center",alignItems:"center",position:"absolute",backgroundColor:"rgba(200,200,200,0.8)",opacity:1,zIndex:999}},form:{frame:{gridColumn:"3/4",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"inherit",width:"42.5vw"}}},Xe={MyProf:{fontFamily:"'Rajdhani', sans-serif",padding:"2.5vw 2.5vw 2.5vw 2.5vw",display:"grid",height:"inherit",width:"inherit",gridTemplateColumns:"1fr 3fr",gridTemplateRows:"repeat(3, 1fr)",gridTemplateAreas:'\n        "a b b"\n        "a c c"\n        "a c c"\n        ',position:"relative"},profile:{gridArea:"a",backgroundColor:"rgba(255,255,255,0.5)",overflow:"hidden",margin:"1vw 1vw 1vw 1vw",display:"flex",flexDirection:"column",boxShadow:"0.5vw 0.5vw 4vw rgb(50,50,50)"},imgClass:{width:"19.25vw",height:"19.25vw",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",position:"relative"},imgOverlay:{position:"absolute",width:"19.25vw",height:"19.25vw",borderWidth:"1vw",borderStyle:"solid",borderColor:"rgba(200,200,200,0.4)",zIndex:999},imgHover:{position:"absolute",width:"19.25vw",height:"19.25vw",backgroundColor:"rgba(200,200,200,0.4)",zIndex:999,display:"flex",justifyContent:"center",alignItems:"center"},img:{width:"19.25vw"},icon:{fontSize:"3vw",color:"white",cursor:"pointer"},details:{margin:"1vw 1vw 1vw 1vw"},detailsh4:{paddingBottom:"1vw"},stat:{gridArea:"b",margin:"1vw 1vw 1vw 1vw",display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:"repeat(6, 1fr)",boxShadow:"0.5vw 0.5vw 4vw rgb(50,50,50)",backgroundColor:"rgb(60,237,188)"},stat1:{gridColumn:"1/2",gridRow:"2/7",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(150,150,150,0.4)"},cred:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},stat2:{gridColumn:"2/3",gridRow:"2/7",backgroundColor:"rgba(150,150,150,0.5)",display:"flex",justifyContent:"center",alignItems:"center"},statTitle:{gridColumn:"1/3",gridRow:"1/2",backgroundColor:"rgba(150,150,150,0.8)",display:"flex",alignItems:"center"},history:{gridArea:"c",backgroundColor:"rgb(252,255,152)",margin:"1vw 1vw 1vw 1vw",boxShadow:"0.5vw 0.5vw 4vw rgb(50,50,50)",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"7vh 1fr"},historyTitle:{gridRow:"1/2",backgroundColor:"rgba(150,150,150,0.8)",display:"flex",alignItems:"center"},historyDetails:{gridRow:"2/3",display:"flex",height:"inherit",alignItems:"center",justifyContent:"center",padding:"1vw 1vw 1vw 1vw"},chain:{gridArea:"d",backgroundColor:"blue",margin:"1vw 1vw 1vw 1vw",boxShadow:"0.5vw 0.5vw 4vw rgb(50,50,50)"}},Fe=a(485),qe=a(48),ze=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).stopPropagation=function(e){e.stopPropagation()},a.state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.out,a=this.props.allUsers.filter(function(t){return t.user_id==e.props.otherUser})[0];console.log(this.props.otherUser),console.log(a);var r=a.uploaded_products.map(function(t){return e.props.allProducts.filter(function(e){return e.product_id==t})[0]}).filter(function(e){return 1==e.status}).map(function(t){return o.a.createElement("div",{className:"smallCard",style:Le.a.smallCard,key:"".concat(t.product_id,"_smallCard"),onClick:function(){e.props.openTradeCards(t,"a")}},o.a.createElement("div",{className:"img",style:Le.a.img},o.a.createElement("img",{src:t.image[0]?t.image[0]:qe,alt:"",style:{width:"7vw",height:"7vw",objectFit:"contain",boxShadow:"0.5vw 0.5vw 2vw rgb(100,100,100)"}})),o.a.createElement("div",{className:"name",style:Le.a.name},o.a.createElement("p",{style:{textAlign:"center",padding:0,margin:0,fontSize:"0.5vw"}},t.name)))});return o.a.createElement("div",{className:"tradeCards",style:t?Le.otherUser.out:Le.otherUser.bigframe,onClick:this.props.closeOtherUser},o.a.createElement("div",{className:"content",style:Le.otherUser.content,onClick:this.stopPropagation},o.a.createElement("div",{className:"title",style:Le.inner.titleAConfirm},o.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},a.displayed_name,"'s Profile")),o.a.createElement("div",{className:"innerContent",style:Le.a.frame},o.a.createElement("div",{className:"aItems",style:Le.a.aItemsConfirm},o.a.createElement("img",{src:a.profile_picture,alt:"",style:{width:"16vw",height:"16vw",objectFit:"contain",boxShadow:"0.5vw 0.5vw 2vw rgb(100,100,100)"}}),o.a.createElement("div",{className:"details",style:Le.otherUser.details},o.a.createElement("div",{className:"credProgress",style:{width:"15vw",display:"flex",justifyContent:"center",alignItems:"center",margin:0,border:0,padding:0,flexDirection:"column"}},o.a.createElement(Fe.a,{type:"circle",percent:10*a.credibility}),o.a.createElement("p",{style:{marginBottom:0,marginTop:"1vw"}},"Trader's Level")),o.a.createElement("div",{className:"phone",style:{width:"15vw",display:"flex",justifyContent:"center",alignItems:"center",margin:0,border:0,padding:0,flexDirection:"column"}},o.a.createElement("p",null,"Phone"),o.a.createElement("h5",null,a.phone_number)))),o.a.createElement("div",{className:"aItems",style:Le.otherUser.drop},o.a.createElement("div",{className:"title",style:Le.otherUser.title},o.a.createElement("h4",null,"Available Products For Trade")),o.a.createElement("div",{className:"aItems",style:Le.otherUser.aItems},r))),o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},o.a.createElement(R.a,{type:"primary",onClick:this.props.closeOtherUser},"Return"))))}}]),t}(n.Component),Ye=Object(j.b)(function(e){var t=e.userReducer,a=e.searchReducer;return{otherUser:t.otherUser,allUsers:t.allUsers,allProducts:a.allProducts}},function(e){return{closeOtherUser:function(){e(L.closeOtherUser())},openTradeCards:function(t,a){e(pe.openTradeCards(t,a))}}})(ze),Qe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).showMoreItems=function(e){var t=Object(ne.a)({},a.state);if(a.state.remainShowingBatch>a.state.showingBatch){var r=a.state.productsArr.slice(50*a.state.showingBatch+50,50*a.state.showingBatch+100);t.showArr=[].concat(Object(u.a)(a.state.showArr),Object(u.a)(r)),t.showingBatch=a.state.showingBatch+1,t.hasmore=!0,a.setState(t)}a.state.remainShowingBatch==e&&(t.hasmore=!1,a.setState(t))},a.componentDidMount=Object(A.a)(_.a.mark(function e(){var t,r,n,o,s,i,l,c,d;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 3:return(t=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openDELModal=!1,e.openMyGoodModal=!1}),a.props.storeAllProducts(t.data),0===a.props.searchArr.length?(a.props.updateProducts(t.data),r=Math.floor(t.data.length/50),n=t.data.slice(0,50),(o=Object(ne.a)({},a.state)).hasmore=!(r<=1),o.productsArr=t.data,o.showArr=n,o.remainShowingBatch=r,a.setState(o),console.log(a.state.remainShowingBatch)):(s=a.props.searchArr,i=Math.floor(s.length/50),l=s.slice(0,50),(c=Object(ne.a)({},a.state)).hasmore=!(i<=1),c.productsArr=s,c.showArr=l,c.remainShowingBatch=i,a.props.updateProducts(t.data),a.setState(c)),e.next=9,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 9:d=e.sent,a.props.storeAllUsers(d.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])})),a.state={productsArr:[],filterArr:[],showArr:[],remainShowingBatch:0,showingBatch:0,hasmore:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.searchArr,a=Math.floor(t.length/50),r=t.slice(0,50),n=Object(ne.a)({},this.state);n.hasmore=!(a<=1),n.productsArr=t,n.showArr=r,n.remainShowingBatch=a,this.props.updateProducts(e.searchArr),this.setState(n)}},{key:"render",value:function(){var e=o.a.createElement("div",{style:{width:"100%",textAlign:"center"},key:0},o.a.createElement("img",{alt:"isLoading",src:a(401)})),t=this.state.showArr.map(function(e){return e.description.length>135&&(e.description=e.description.slice(0,135)+" ....."),o.a.createElement(be,{key:e.product_id,details:e,description:e.description,name:e.name,imgUrl:e.image[0]})}),r=t.filter(function(e,t){return(t+1)%6===1}),n=t.filter(function(e,t){return(t+1)%6===2}),s=t.filter(function(e,t){return(t+1)%6===3}),i=t.filter(function(e,t){return(t+1)%6===4}),l=t.filter(function(e,t){return(t+1)%6===5}),c=t.filter(function(e,t){return(t+1)%6===0}),d=this.props,p=d.currentOutProduct,m=d.currentTrade,u=d.otherUser;return o.a.createElement("div",null,p.details&&o.a.createElement(Be,null),m.details&&o.a.createElement(He,{out:!0}),null!==u&&o.a.createElement(Ye,{out:!0}),o.a.createElement(oe.a,{type:"flex",gutter:10},o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},o.a.createElement(Oe.a,{pageStart:0,loadMore:this.showMoreItems.bind(this),hasMore:this.state.hasmore,loader:e,useWindow:!0},r)),o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},n),o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},s),o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},i),o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},l),o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},c)))}}]),t}(o.a.Component),Ze=Object(j.b)(function(e){var t=e.roootReducer,a=e.searchReducer,r=e.tradeReducer,n=e.userReducer;return{searchArr:t.searchArr,productsArr:t.productsArr,currentOutProduct:a.currentOutProduct,currentTrade:r.currentTrade,refresh:a.refresh,allProducts:a.allProducts,otherUser:n.otherUser}},function(e){return{updateProducts:function(t){return e(Y(t))},storeAllProducts:function(t){e(J.storeAllProducts(t))},storeAllUsers:function(t){e(L.storeAllUsers(t))}}})(Qe),Je=function(){return o.a.createElement("div",{style:{width:"100vw",height:"93vh",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"'Rajdhani', sans-serif"}},o.a.createElement("h1",null,"404"),o.a.createElement("h1",{style:{marginBottom:0,marginTop:"3vw"}},"Sorry, Page not found:("))},We=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={isVerify:!1,isError:!1,errorMsg:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/verifyEmail/").concat(this.props.match.params.id),{method:"post",withCredentials:!0});case 3:e.sent,this.setState({isVerify:!0}),e.next=14;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.status),console.log(e.t0.response),console.log(e.t0.response.data),console.log(e.t0.response.data.message),this.setState({isError:!0,errorMsg:e.t0.response.data.message});case 14:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{style:v},!this.state.isVerify&&!this.state.isError&&o.a.createElement("div",null,o.a.createElement("img",{src:a(107)}),o.a.createElement("h1",null,"Verifying...")),this.state.isVerify&&o.a.createElement("div",null,o.a.createElement("div",null,"You have successfully verified the email!"),o.a.createElement(H.a,{to:"/"},"Return")),this.state.isError&&o.a.createElement("div",null,o.a.createElement("h1",null,this.state.errorMsg),o.a.createElement(H.a,{to:"/"},"Return")))}}]),t}(o.a.Component),$e=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.history.push("/")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"yes"))}}]),t}(o.a.Component),et=Object(Q.a)($e),tt=a(161),at=a.n(tt),rt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.myUser;return o.a.createElement("div",{style:{width:"15vw",height:"100%",backgroundColor:"#eafeea",display:"flex",justifyContent:"center"}},e&&o.a.createElement("div",{style:{color:"#2d4b2d",display:"flex",alignItems:"center",flexDirection:"column",paddingTop:"5vh"}},o.a.createElement("img",{src:e.profile_picture,style:{width:"10vw",borderRadius:"50%"}}),o.a.createElement("h4",{style:{paddingTop:"1vw",paddingBottom:"1vw"}},e.displayed_name),o.a.createElement("h6",{style:{paddingBottom:"1vw"}},"Uploaded Products: ",e.uploaded_products.length),o.a.createElement(R.a,{ghost:!0,type:"primary",onClick:this.props.handleUploadModal},"Upload New Products"),this.props.openUploadModal&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:this.props.handleUploadModal},o.a.createElement(at.a,null))))}}]),t}(n.Component),nt=Object(j.b)(function(e){var t=e.userReducer;return{users:t.users,openUploadModal:t.openUploadModal,myUser:t.myUser}},function(e){return{handleUsers:function(t){e(L.storeUsers(t))},handleUploadModal:function(){e(L.openUploadModal())}}})(rt),ot=a(489),st=a(62),it=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){},a.rerouteSearch=function(){a.props.submit&&(a.props.saveSearch(a.props.submit),a.props.clearSearch())},a.handleEdit=function(e){window.confirm("edit?")?(ot.a.success("edited"),console.log(e.target.parentNode.parentNode.parentNode.parentNode.parentNode.id),e.target.parentNode.parentNode.parentNode.parentNode.parentNode.style.display="none"):ot.a.error("no edit")},a.handleDelete=function(){var e=Object(A.a)(_.a.mark(function e(t){var r,n,o,s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("delete?")){e.next=29;break}return e.prev=2,e.next=5,P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/product/").concat(t),{method:"delete",withCredentials:!0});case 5:return r=e.sent,console.log(r),e.next=9,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 9:return(n=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(n.data),a.props.updateProducts(n.data),e.next=15,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 15:return o=e.sent,a.props.storeAllUsers(o.data),e.next=19,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 19:s=e.sent,a.props.storeMyUser(s.data),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),console.log(e.t0);case 26:ot.a.success("deleted"),e.next=30;break;case 29:ot.a.error("no delete");case 30:case"end":return e.stop()}},e,this,[[2,23]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.allProducts.filter(function(t){return t.uploaded_by==e.props.myUser.user_id}).slice(0,3).map(function(t){return o.a.createElement("div",null,o.a.createElement(fe,{name:t.name,image:t.image[0]?t.image[0]:st,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleEdit:e.handleEdit,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,trade:!1}))}),a=this.props.allProducts.filter(function(t){return t.uploaded_by==e.props.myUser.user_id}).map(function(t){return o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},o.a.createElement(fe,{name:t.name,image:t.image[0]?t.image[0]:st,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleEdit:e.handleEdit,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,trade:!1}))});return o.a.createElement("div",{className:"myGoods",style:{marginRight:"2vw",marginLeft:"2vw"}},o.a.createElement(ie.a,{title:"My Goods",style:{width:"30vw"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},t,o.a.createElement("div",{className:"addPhotoBox",style:{width:180,height:180,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:10}},o.a.createElement(R.a,{onClick:function(){e.props.handleModal("MG")}},"More"),this.props.openMGModal&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.handleModal("MG")}},o.a.createElement("div",{style:v},o.a.createElement("a",{style:b,onClick:function(){e.props.handleModal("MG")}},"\xd7"),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"50vw",height:"50vh"}},o.a.createElement("h1",null,"My Goods"),o.a.createElement(oe.a,{gutter:{xs:4,sm:8,md:16,lg:16}},a))))))),o.a.createElement("h1",null,this.props.result))}}]),t}(n.Component),lt=Object(j.b)(function(e){var t=e.userReducer,a=e.searchReducer,r=e.roootReducer;return{openMGModal:t.openMGModal,products:t.products,result:t.result,myUser:t.myUser,submit:a.submit,allProducts:a.allProducts,productsArr:r.productsArr}},function(e){return{handleModal:function(t){e(L.openModal(t))},handleProducts:function(t){e(L.fetchProducts(t))},handleOneModal:function(t){e(L.openOneModal(t))},saveSearch:function(t){e(L.saveSearch(t))},clearSearch:function(){e(L.clearSearch())},storeAllProducts:function(t){e(J.storeAllProducts(t))},storeAllUsers:function(t){e(L.storeAllUsers(t))},storeMyUser:function(t){e(L.storeMyUser(t))},updateProducts:function(t){return e(Y(t))}}})(it),ct=[{product_id:"imnumber1holyshit",name:"No.1 shit",image:["https://instagram.fhkg10-1.fna.fbcdn.net/vp/3c3f4ded26ce40c3305ea2677832e721/5CB4DF08/t51.2885-15/sh0.08/e35/s640x640/47691382_223531808567599_4717503641417610536_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net","https://instagram.fhkg10-1.fna.fbcdn.net/vp/b97a7dac66af26ab07d4508254d22b00/5CC41F7A/t51.2885-15/sh0.08/e35/s640x640/13151130_1110648835686675_1320750745_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net"],description:"shit diescription",trade_location:["Hong Kong","Admiralty"],tags:["shit","ass","poo"],uploaded_by:"user1",uploaded_at:new Date,liked_by:["user2","user3","user4"],comments:[{user:"user2",comment:"fuck you"},{user:"user3",comment:"i want u"},{user:"user4",comment:"blyat"}],offered_by:["user2","user4"],sold_to:null,sold_at:null,status:1},{product_id:"shotthefuckupimno2",name:"No.2 heaven",image:["https://instagram.fhkg10-1.fna.fbcdn.net/vp/c4ca44b4c55ff1cdf01ab1d99e242d62/5CD23847/t51.2885-15/sh0.08/e35/s640x640/46979132_362985457583166_1562090532958392437_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net","https://instagram.fhkg10-1.fna.fbcdn.net/vp/cefc1312a104fc7738062976ce232032/5CC96D63/t51.2885-15/sh0.08/e35/s640x640/13696670_1069947629726705_899931359_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net"],description:"heaven diescription",trade_location:["Kowloon","Tsim Sha Tsui"],tags:["heaven","god","jesus"],uploaded_by:"user2",uploaded_at:new Date,liked_by:["user6","user7","user8"],comments:[{user:"user5",comment:"love you"},{user:"user3",comment:"i suck u"},{user:"user9",comment:"blin oy "}],offered_by:["user5","user10"],sold_to:"user3",sold_at:null,status:2},{product_id:"oyblinimnumber3",name:"No.3 happy",image:["https://instagram.fhkg10-1.fna.fbcdn.net/vp/559f30555853d36ae3e9706e926ddec6/5CD18443/t51.2885-15/sh0.08/e35/s640x640/46320108_2359944077568520_4637869392378868037_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net","https://instagram.fhkg10-1.fna.fbcdn.net/vp/e15f454aabf67b019412866deaba15d4/5CC2C4F7/t51.2885-15/sh0.08/e35/s640x640/46649591_1994865480589048_6833024396330406976_n.jpg?_nc_ht=instagram.fhkg10-1.fna.fbcdn.net"],description:"happy diescription",trade_location:["New Terroritories","Yuen Long"],tags:["joy","fun","weed"],uploaded_by:"user3",uploaded_at:new Date,liked_by:["user1","user5","user7"],comments:[{user:"user6",comment:"happy you"},{user:"user3",comment:"i happy u"},{user:"user9",comment:"happy>?? "}],offered_by:[],sold_to:"user1",sold_at:null,status:2}],dt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){console.log("this props : ".concat(this.props.iconsArr));var e=this.props,t=e.name,a=e.image,r=e.id,n=e.description,s=e.tags,i=e.handleDelete,l=e.handleOneModal,c=e.openOneModal,d=e.allDetails;return o.a.createElement(ie.a,{style:{width:"7vw"},cover:o.a.createElement("img",{alt:t,src:a,onClick:function(){l(r)},style:{width:"7vw",height:"7vw"}}),actions:[o.a.createElement(k.a,{type:"delete",onClick:i})],key:r,id:r},o.a.createElement(ie.a.Meta,{title:t,description:n}),o.a.createElement(Ae,{tags:s,closable:!1}),c&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){l(r)}},o.a.createElement("div",{style:v},o.a.createElement("a",{style:b,onClick:function(){l(r)}},"\xd7"),o.a.createElement(ye,{details:d}))))}}]),t}(n.Component),pt=a(62),mt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).rerouteSearch=function(){a.props.submit&&(a.props.saveSearch(a.props.submit),a.props.clearSearch())},a.handleDelete=function(e){window.confirm("delete?")?(ot.a.success("deleted"),e.target.parentNode.parentNode.parentNode.parentNode.parentNode.style.display="none"):ot.a.error("no delete")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){ct.forEach(function(e){e.openOneModal=!1}),this.props.handleProducts(ct)}},{key:"render",value:function(){var e=this,t=this.props.allProducts.filter(function(t){return e.props.myUser.liked_products.some(function(e){return e==t.product_id})}).slice(0,3).map(function(t){return o.a.createElement("div",null,o.a.createElement(dt,{name:t.name,image:t.image[0]?t.image[0]:pt,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t}))}),a=this.props.allProducts.filter(function(t){return e.props.myUser.liked_products.some(function(e){return e==t.product_id})}).map(function(t){return o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},o.a.createElement(dt,{name:t.name,image:t.image[0]?t.image[0]:pt,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t}))});return o.a.createElement("div",{className:"followedPost",style:{marginRight:"2vw",marginLeft:"2vw"}},this.rerouteSearch(),o.a.createElement(ie.a,{title:"Followed Goods",style:{width:"30vw"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},t,o.a.createElement("div",{className:"addPhotoBox",style:{width:180,height:180,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:10}},o.a.createElement(R.a,{onClick:function(){e.props.handleModal("FP")}},"More"),this.props.openFPModal&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.handleModal("FP")}},o.a.createElement("div",{style:v},o.a.createElement("a",{style:b,onClick:function(){e.props.handleModal("FP")}},"\xd7"),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"50vw",height:"50vh"}},o.a.createElement("h1",null,"Followed Post"),o.a.createElement(oe.a,{gutter:{xs:4,sm:8,md:16,lg:16}},a))))))),o.a.createElement("h1",null,this.props.result))}}]),t}(n.Component),ut=Object(j.b)(function(e){var t=e.userReducer,a=e.searchReducer,r=e.roootReducer;return{myUser:t.myUser,openFPModal:t.openFPModal,products:t.products,result:t.result,submit:a.submit,productsArr:r.productsArr,allProducts:a.allProducts}},function(e){return{handleModal:function(t){e(L.openModal(t))},handleProducts:function(t){e(L.fetchProducts(t))},handleOneModal:function(t){e(L.openOneModal(t))},saveSearch:function(t){e(L.saveSearch(t))},clearSearch:function(){e(L.clearSearch())}}})(mt),Et=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){console.log("this props : ".concat(this.props.iconsArr));var e=this.props,t=e.name,a=e.image,r=e.id,n=e.handleDelete,s=e.handleOneModal,i=e.openOneModal,l=e.allDetails,c=e.accepted,d=e.rejected;return c?o.a.createElement(ie.a,{style:{width:"7vw",color:"red"},cover:o.a.createElement("img",{alt:t,src:a,onClick:function(){s(r)}}),key:r,id:r},o.a.createElement(ie.a.Meta,{title:t}),o.a.createElement("p",{style:{marginTop:"0.5vw",marginBottom:0}},o.a.createElement("strong",null,"Accepted")),i&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){s(r)}},o.a.createElement("div",{style:v},o.a.createElement("a",{style:b,onClick:function(){s(r)}},"\xd7"),o.a.createElement(ye,{details:l})))):d?o.a.createElement(ie.a,{style:{width:"7vw",color:"blue"},cover:o.a.createElement("img",{alt:t,src:a,onClick:function(){s(r)}}),actions:[o.a.createElement(k.a,{type:"delete",onClick:function(){n(r)}})],key:r,id:r},o.a.createElement(ie.a.Meta,{title:t}),o.a.createElement("p",{style:{marginTop:"0.5vw",marginBottom:0}},o.a.createElement("strong",null,"Rejected")),i&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){s(r)}},o.a.createElement("div",{style:v},o.a.createElement("a",{style:b,onClick:function(){s(r)}},"\xd7"),o.a.createElement(ye,{details:l})))):o.a.createElement(ie.a,{style:{width:"7vw",color:"green"},cover:o.a.createElement("img",{alt:t,src:a,onClick:function(){s(r)}}),actions:[o.a.createElement(k.a,{type:"delete",onClick:function(){n(r)}})],key:r,id:r},o.a.createElement(ie.a.Meta,{title:t}),o.a.createElement("p",{style:{marginTop:"0.5vw",marginBottom:0}},o.a.createElement("strong",null,"Trading in Progress")),i&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){s(r)}},o.a.createElement("div",{style:v},o.a.createElement("a",{style:b,onClick:function(){s(r)}},"\xd7"),o.a.createElement(ye,{details:l}))))}}]),t}(n.Component),_t=a(62),At=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).handleDelete=function(){var e=Object(A.a)(_.a.mark(function e(t){var r,n,o,s,i,l,c;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props.allProducts.filter(function(e){return e.offered_by.some(function(e){return e==t})})[0],!window.confirm("Rollback request to ".concat(r.name,"?"))){e.next=32;break}return n=r.product_id,o={product_offered:n,product_offering:t},e.prev=5,e.next=8,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/offer_product",{method:"delete",data:o,withCredentials:!0});case 8:return s=e.sent,console.log(s),e.next=12,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 12:return(i=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(i.data),a.props.updateProducts(i.data),e.next=18,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 18:return l=e.sent,a.props.storeAllUsers(l.data),e.next=22,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 22:c=e.sent,a.props.storeMyUser(c.data),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),console.log(e.t0);case 29:ot.a.success("deleted"),e.next=33;break;case 32:ot.a.error("Rollback canceled");case 33:case"end":return e.stop()}},e,this,[[5,26]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.allProducts.filter(function(t){return 2==t.status&&t.uploaded_by==e.props.myUser.user_id}).slice(0,3).map(function(t){return o.a.createElement("div",null,o.a.createElement(Et,{name:t.name,image:t.image[0]?t.image[0]:_t,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,accepted:3==t.status,rejected:1==t.status}))}),a=this.props.allProducts.filter(function(t){return 2==t.status&&t.uploaded_by==e.props.myUser.user_id}).map(function(t){return o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},o.a.createElement(Et,{name:t.name,image:t.image[0]?t.image[0]:_t,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleDelete:e.handleDelete,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t,accepted:3==t.status,rejected:1==t.status}))});return o.a.createElement("div",{className:"sentReq",style:{marginRight:"2vw",marginLeft:"2vw"}},o.a.createElement(ie.a,{title:"Sent Request",style:{width:"30vw"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},t,o.a.createElement("div",{className:"addPhotoBox",style:{width:180,height:180,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:10}},o.a.createElement(R.a,{onClick:function(){e.props.handleModal("SQ")}},"More"),this.props.openSQModal&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.handleModal("SQ")}},o.a.createElement("div",{style:v},o.a.createElement("a",{style:b,onClick:function(){e.props.handleModal("SQ")}},"\xd7"),o.a.createElement("div",null,o.a.createElement("h1",null,"My Goods"),o.a.createElement(oe.a,{gutter:{xs:4,sm:8,md:16,lg:16}},a))))))))}}]),t}(n.Component),ft=Object(j.b)(function(e){var t=e.userReducer,a=e.searchReducer;return{myUser:t.myUser,openSQModal:t.openSQModal,products:t.products,result:t.result,submit:a.submit,productsArr:e.productsArr,allProducts:a.allProducts}},function(e){return{handleModal:function(t){e(L.openModal(t))},handleProducts:function(t){e(L.fetchProducts(t))},handleOneModal:function(t){e(L.openOneModal(t))},saveSearch:function(t){e(L.saveSearch(t))},clearSearch:function(){e(L.clearSearch())},storeAllProducts:function(t){e(J.storeAllProducts(t))},storeAllUsers:function(t){e(L.storeAllUsers(t))},storeMyUser:function(t){e(L.storeMyUser(t))},updateProducts:function(t){return e(Y(t))}}})(At),ht=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){console.log("this props : ".concat(this.props.iconsArr));var e=this.props,t=e.name,a=e.image,r=e.id,n=e.description,s=(e.tags,e.handleAccept),i=e.handleDecline,l=e.handleOneModal,c=e.openOneModal,d=e.allDetails;return o.a.createElement(ie.a,{style:{width:"7vw"},cover:o.a.createElement("img",{alt:t,src:a,onClick:function(){l(r)},style:{width:"7vw",height:"7vw"}}),actions:[o.a.createElement(k.a,{type:"check",onClick:s}),o.a.createElement(k.a,{type:"close",onClick:i})],key:r,id:r},o.a.createElement(ie.a.Meta,{title:t,description:n}),c&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){l(r)}},o.a.createElement("div",{style:v},o.a.createElement("a",{style:b,onClick:function(){l(r)}},"\xd7"),o.a.createElement(ye,{details:d}))))}}]),t}(n.Component),Pt=a(62),gt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).handleDecline=function(e){window.confirm("decline request?")?(ot.a.success("declined"),e.target.parentNode.parentNode.parentNode.parentNode.parentNode.style.display="none"):ot.a.error("cancel declining")},a.handleAccept=function(e){window.confirm("Accept request?")?ot.a.success("Accepted!"):ot.a.error("Cancel accepting")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.allProducts.filter(function(t){return t.offered_by.length>0&&t.uploaded_by==e.props.myUser.user_id}).slice(0,3).map(function(t){return o.a.createElement("div",null,o.a.createElement(ht,{name:t.name,image:t.image[0]?t.image[0]:Pt,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleAccept:e.handleAccept,handleDecline:e.handleDecline,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t}))}),a=this.props.allProducts.filter(function(t){return t.offered_by.length>0&&t.uploaded_by==e.props.myUser.user_id}).map(function(t){return o.a.createElement(se.a,{xs:24,sm:12,md:8,lg:6,xl:4},o.a.createElement(ht,{name:t.name,image:t.image[0]?t.image[0]:Pt,id:t.product_id,description:t.description.length<30?t.description:"".concat(t.description.slice(0,30),"..."),tags:t.tags,handleAccept:e.handleAccept,handleDecline:e.handleDecline,handleOneModal:e.props.handleOneModal,openOneModal:t.openOneModal,allDetails:t}))});return o.a.createElement("div",{className:"receivedReq",style:{marginRight:"2vw",marginLeft:"2vw"}},o.a.createElement(ie.a,{title:"Goods With Request",style:{width:"30vw"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},t,o.a.createElement("div",{className:"addPhotoBox",style:{width:180,height:180,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:10}},o.a.createElement(R.a,{onClick:function(){e.props.handleModal("RQ")}},"More"),this.props.openRQModal&&o.a.createElement(T.a,{open:!0,closeOnDocumentClick:!0,onClose:function(){e.props.handleModal("RQ")}},o.a.createElement("div",{style:v},o.a.createElement("a",{style:b,onClick:function(){e.props.handleModal("RQ")}},"\xd7"),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"50vw",height:"50vh"}},o.a.createElement("h1",null,"My Goods"),o.a.createElement(oe.a,{gutter:{xs:4,sm:8,md:16,lg:16}},a))))))))}}]),t}(n.Component),Ct=Object(j.b)(function(e){var t=e.userReducer,a=e.searchReducer,r=e.roootReducer;return{myUser:t.myUser,openRQModal:t.openRQModal,products:t.products,result:t.result,submit:a.submit,productsArr:r.productsArr,allProducts:a.allProducts}},function(e){return{handleModal:function(t){e(L.openModal(t))},handleProducts:function(t){e(L.fetchProducts(t))},handleOneModal:function(t){e(L.openOneModal(t))},saveSearch:function(t){e(L.saveSearch(t))},clearSearch:function(){e(L.clearSearch())}}})(gt),yt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.myUser.credibility;console.log(e);return o.a.createElement("div",{style:{width:"15vw",height:"93vh",backgroundColor:"#eafeea",display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement("h1",null,"Trade History"),o.a.createElement("div",{className:"credProgress"},o.a.createElement("p",null,"Your Trade Credibility"),o.a.createElement(Fe.a,{type:"circle",percent:10*e}),function(){var t={marginTop:"1vw",color:"red"};return e<5?o.a.createElement("p",{style:t},"You liar"):5==e?o.a.createElement("p",{style:t},"Not Bad"):o.a.createElement("p",{style:t},"Trustworthy Trader")}()),o.a.createElement("div",{className:"tradeGrade"},o.a.createElement("p",null,"Trader Level")))}}]),t}(n.Component),Rt=Object(j.b)(function(e){return{myUser:e.userReducer.myUser}},function(e){return{}})(yt),Tt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"userPage"},o.a.createElement(oe.a,{type:"flex",justify:"space-around"},o.a.createElement(se.a,{xs:24,sm:24,md:3},o.a.createElement(nt,null)),o.a.createElement(se.a,{xs:24,sm:24,md:18},o.a.createElement(oe.a,null,o.a.createElement(se.a,{xs:24,sm:24,md:12},o.a.createElement(lt,null)),o.a.createElement(se.a,{xs:24,sm:24,md:12},o.a.createElement(ut,null))),o.a.createElement(oe.a,null,o.a.createElement(se.a,{xs:24,sm:24,md:12},o.a.createElement(ft,null)),o.a.createElement(se.a,{xs:24,sm:24,md:12},o.a.createElement(Ct,null)))),o.a.createElement(se.a,{xs:24,sm:24,md:3},o.a.createElement(Rt,null))))}}]),t}(n.Component),bt=(Object(j.b)(function(e){return{}},function(e){return{}})(Tt),a(402),{p:{width:"inherit",textAlign:"center",paddingTop:"2vh",paddingBottom:"2vh",cursor:"pointer",color:"rgb(190,190,190)"},pA:{width:"inherit",textAlign:"center",paddingTop:"2vh",paddingBottom:"2vh",cursor:"pointer",color:"rgb(255,255,255)",fontWeight:400,backgroundColor:"rgb(100,100,100)"}}),vt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"content"},o.a.createElement("ul",null,o.a.createElement("li",null,this.props.nav.MyProf&&o.a.createElement("p",{style:bt.pA,onClick:function(){e.props.handleNav("MyProf")}},"My Profile"),!this.props.nav.MyProf&&o.a.createElement("p",{style:bt.p,onClick:function(){e.props.handleNav("MyProf")}},"My Profile")),o.a.createElement("li",null,this.props.nav.MyG&&o.a.createElement("p",{style:bt.pA,onClick:function(){e.props.handleNav("MyG")}},"My Goods"),!this.props.nav.MyG&&o.a.createElement("p",{style:bt.p,onClick:function(){e.props.handleNav("MyG")}},"My Goods")),o.a.createElement("li",null,this.props.nav.FollowedG&&o.a.createElement("p",{style:bt.pA,onClick:function(){e.props.handleNav("FollowedG")}},"Followed Goods"),!this.props.nav.FollowedG&&o.a.createElement("p",{style:bt.p,onClick:function(){e.props.handleNav("FollowedG")}},"Followed Goods")),o.a.createElement("li",null,this.props.nav.Upload&&o.a.createElement("p",{style:bt.pA,onClick:function(){e.props.handleNav("Upload")}},"Upload New Products"),!this.props.nav.Upload&&o.a.createElement("p",{style:bt.p,onClick:function(){e.props.handleNav("Upload")}},"Upload New Products"))))}}]),t}(n.Component),Ot=Object(j.b)(function(e){return{nav:e.newUserReducer.nav}},function(e){return{handleNav:function(t){e(je.handleNav(t))}}})(vt),wt=a(48),Nt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).getHistory=Object(A.a)(_.a.mark(function e(){var t,r,n,o,s,i,l,c;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=!0,n=!1,o=void 0,e.prev=4,s=a.props.myUser.trade_history[Symbol.iterator]();case 6:if(r=(i=s.next()).done){e.next=23;break}return l=i.value,e.prev=8,a.props.loading(),e.next=12,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/history",{method:"get",data:l,withCredentials:!0});case 12:c=e.sent,t.push(c.data),a.props.loading(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0);case 20:r=!0,e.next=6;break;case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(4),n=!0,o=e.t1;case 29:e.prev=29,e.prev=30,r||null==s.return||s.return();case 32:if(e.prev=32,!n){e.next=35;break}throw o;case 35:return e.finish(32);case 36:return e.finish(29);case 37:a.setState({history:t});case 38:case"end":return e.stop()}},e,this,[[4,25,29,37],[8,17],[30,,32,36]])})),a.editName=function(){a.setState({editName:!0})},a.setName=function(e){a.setState({name:e.target.value})},a.SubmitEditName=Object(A.a)(_.a.mark(function e(){var t,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={displayed_name:String(a.state.name),phone_number:null,profile_picture:null},e.prev=1,a.props.loading(),e.next=5,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"put",data:t,withCredentials:!0});case 5:return e.sent,e.next=8,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 8:r=e.sent,a.props.storeMyUser(r.data),a.setState({editName:!1,name:""}),a.props.loading(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])})),a.editPhone=function(){a.setState({editPhone:!0})},a.setPhone=function(e){var t=Number(e.target.value);a.setState({phone:t})},a.SubmitEditPhone=Object(A.a)(_.a.mark(function e(){var t,r,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(t=Number(a.state.phone))||String(t).length>8||String(t).length<8)){e.next=5;break}alert("Invalid Phone Number"),e.next=22;break;case 5:return r={displayed_name:null,phone_number:Number(a.state.phone),profile_picture:null},e.prev=6,a.props.loading(),e.next=10,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"put",data:r,withCredentials:!0});case 10:return e.sent,e.next=13,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 13:n=e.sent,a.props.storeMyUser(n.data),a.setState({editPhone:!1,phone:null}),a.props.loading(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log(e.t0);case 22:case"end":return e.stop()}},e,this,[[6,19]])})),a.state={editName:!1,editPhone:!1,name:"",phone:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"MyProf",style:Xe.MyProf},o.a.createElement("div",{className:"profile",style:Xe.profile},o.a.createElement("div",{className:"img",style:Xe.imgClass},!this.props.imgHover&&o.a.createElement("div",{className:"imgOverlay",style:Xe.imgOverlay,onMouseEnter:this.props.handleImgHover}),this.props.imgHover&&o.a.createElement("div",{className:"imgOverlay",style:Xe.imgHover,onMouseLeave:this.props.handleImgHover},o.a.createElement(k.a,{type:"edit",style:Xe.icon,onClick:this.props.updatePropic})),o.a.createElement("img",{style:Xe.img,src:this.props.myUser.profile_picture?this.props.myUser.profile_picture:wt,alt:""})),o.a.createElement("div",{className:"details",style:Xe.details},o.a.createElement("p",null,"displayed name"),!this.state.editName&&o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"inherit",height:"4vh",alignItems:"center",marginBottom:"2vw"}},o.a.createElement("h4",null,this.props.myUser.displayed_name),o.a.createElement(k.a,{type:"edit",onClick:this.editName})),this.state.editName&&o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"inherit",height:"4vh",alignItems:"center",marginBottom:"2vw"}},o.a.createElement("input",{onChange:this.setName}),o.a.createElement(k.a,{type:"upload",onClick:this.SubmitEditName})),o.a.createElement("p",null,"phone"),!this.state.editPhone&&o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"inherit",height:"4vh",alignItems:"center",marginBottom:"2vw"}},o.a.createElement("h4",null,this.props.myUser.phone_number),o.a.createElement(k.a,{type:"edit",onClick:this.editPhone})),this.state.editPhone&&o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"inherit",height:"4vh",alignItems:"center",marginBottom:"2vw"}},o.a.createElement("input",{onChange:this.setPhone}),o.a.createElement(k.a,{type:"upload",onClick:this.SubmitEditPhone})))),o.a.createElement("div",{className:"stat",style:Xe.stat},o.a.createElement("div",{className:"title",style:Xe.statTitle},o.a.createElement("h5",{style:{padding:0,marginLeft:"0.5vw",marginBottom:0}},"Stats")),o.a.createElement("div",{className:"stat1",style:Xe.stat1},o.a.createElement("div",{className:"credProgress",style:Xe.cred},o.a.createElement(Fe.a,{type:"circle",percent:10*this.props.myUser.credibility}),o.a.createElement("p",{style:{marginBottom:0,marginTop:"1vw"}},"Your Trade Credibility"))),o.a.createElement("div",{className:"stat2",style:Xe.stat2},o.a.createElement("div",{className:"credProgress",style:Xe.cred},o.a.createElement(Fe.a,{type:"circle",percent:10*this.props.myUser.credibility}),o.a.createElement("p",{style:{marginBottom:0,marginTop:"1vw"}},"Trader's Level")))),o.a.createElement("div",{className:"history",style:Xe.history},o.a.createElement("div",{className:"title",style:Xe.historyTitle},o.a.createElement("h5",{style:{padding:0,marginLeft:"0.5vw",marginBottom:0}},"Trade History")),o.a.createElement("div",{className:"details",style:Xe.historyDetails},0==this.props.myUser.trade_history.length&&o.a.createElement("h5",{style:{padding:0,marginBottom:0}},"You have no Trade History. Start Bartering!"),this.props.myUser.trade_history.length>0&&o.a.createElement("h5",{style:{padding:0,marginBottom:0}},"You have some trade history."))))}}]),t}(n.Component),Dt=Object(j.b)(function(e){var t=e.userReducer,a=e.newUserReducer;return{myUser:t.myUser,imgHover:a.imgHover}},function(e){return{handleImgHover:function(){e(je.imgHover())},storeMyUser:function(t){e(L.storeMyUser(t))},updatePropic:function(){e(je.updatePropic())},loading:function(){e(L.loading())}}})(Nt),St={outFrame:{superFrame:{display:"grid",gridTemplateRows:"6vh auto",width:"inherit",height:"auto",justifyContent:"center",position:"relative"},bigFrame:{gridRow:"2/3",display:"flex",flexDirection:"row",flexWrap:"wrap",width:"90vw",height:"auto",justifyContent:"center",overflowY:"scroll"},button:{gridRow:"1/2",display:"flex",backgroundImage:"linear-gradient(rgba(33,25,168,0.8),rgb(110, 110, 110))",justifyContent:"flex-end",alignItems:"center",opacity:.8,paddingRight:"9.3vw"}},frame:{width:250,height:275,gridTemplateColumns:"repeat(2, 125px)",gridTemplateRows:"125px 125px 25px",overflow:"hidden",boxShadow:"0.5vw 0.5vw 4vw rgb(50,50,50)"},img:{container:{gridColumn:"1 / 3",gridRow:"1 / 3",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",width:250,height:250},frame:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"rgba(200,200,200,0.4)"},img:{width:250,zIndex:5},status:{traded:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"rgba(17, 178, 44,1)"},trading:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"rgba(239, 192, 4,1)"},withR:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"rgba(4, 90, 239,1)"}}},status:{container:{width:250,height:25,gridColumn:"1/3",gridRow:"3/4",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(150,150,150,0.5)"}}},Ut={cards:{na:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"rgba(30,30,30,0.8)"},a:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"rgba(150,0,24,0.8)"},requested:{position:"absolute",width:250,height:250,zIndex:9999,borderWidth:10,borderStyle:"solid",borderColor:"#20639B"}},button:{gridRow:"1/2",display:"flex",backgroundImage:"linear-gradient(rgba(38,114,242,0.8),rgb(110,110,110))",justifyContent:"flex-end",alignItems:"center",opacity:.8,paddingRight:"9.3vw"}},It=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.image,r=t.name,n=t.key,s=t.traded,i=t.trading,l=t.withR,c=t.nth,d=t.product_id,p=t.na,m=t.a,u=t.requested;return o.a.createElement("div",{className:"MyGCard",style:St.frame,key:n},o.a.createElement("div",{className:"imgContainer",style:St.img.container},s&&o.a.createElement("div",{className:"imgFrame",style:St.img.status.traded,onClick:function(){e.props.openDetails(d,"my","traded",e.props.allUsers)}}),i&&o.a.createElement("div",{className:"imgFrame",style:St.img.status.trading,onClick:function(){e.props.openDetails(d,"my","trading",e.props.allUsers)}}),l&&o.a.createElement("div",{className:"imgFrame",style:St.img.status.withR,onClick:function(){e.props.openDetails(d,"my","withR",e.props.allUsers)}}),c&&o.a.createElement("div",{className:"imgFrame",style:St.img.frame,onClick:function(){e.props.openDetails(d,"my","nth",e.props.allUsers)}}),p&&o.a.createElement("div",{className:"imgFrame",style:Ut.cards.na,onClick:function(){e.props.openDetails(d,"other","na",e.props.allUsers)}}),m&&o.a.createElement("div",{className:"imgFrame",style:Ut.cards.a,onClick:function(){e.props.openDetails(d,"other","a",e.props.allUsers)}}),u&&o.a.createElement("div",{className:"imgFrame",style:Ut.cards.requested,onClick:function(){e.props.openDetails(d,"other","requested",e.props.allUsers)}}),o.a.createElement("img",{src:a,alt:"",style:St.img.img})),o.a.createElement("div",{className:"status",style:St.status.container},o.a.createElement("p",{style:{padding:0,margin:0}},r)))}}]),t}(n.Component),Mt=Object(j.b)(function(e){return{allUsers:e.userReducer.allUsers}},function(e){return{openDetails:function(){var t=Object(A.a)(_.a.mark(function t(a,r,n,o){var s,i,l;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(L.loading()),t.next=4,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/",{method:"get",withCredentials:!0});case 4:(s=t.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),e(J.storeAllProducts(s.data)),e(Y(s.data)),i=s.data.filter(function(e){return e.product_id==a})[0].comments,l=i.map(function(){var e=Object(A.a)(_.a.mark(function e(t){var a,r,n,s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL,"/api/comment/").concat(t),{method:"get",withCredentials:!0});case 2:return a=e.sent,r=a.data[0],n=o.filter(function(e){return e.user_id==r.commentator})[0].displayed_name,s=Math.floor((new Date-new Date(r.comment_at))/864e5),e.abrupt("return",{title:n,content:r.comment,description:"".concat(s," days ago")});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),3==s.data.filter(function(e){return e.product_id==a})[0].status?Promise.all(l).then(function(t){e(J.setMyProducts(a)),e(J.setFProducts(a)),e(L.storeAllComments(t,a)),e(J.openDetails(a,r,"traded")),e(L.loading())}):Promise.all(l).then(function(t){e(J.setMyProducts(a)),e(J.setFProducts(a)),e(L.storeAllComments(t,a)),e(J.openDetails(a,r,n)),e(L.loading())}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(e,a,r,n){return t.apply(this,arguments)}}()}})(It),xt=a(48),kt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){a.props.setMyProducts(a.props.myUser.user_id)},a.handleFilter=function(e){a.props.setMyProducts(a.props.myUser.user_id),a.setState({filter:e})},a.state={filter:"all"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=R.a.Group,a=this.props.myProducts.map(function(e){return o.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},o.a.createElement(Mt,{image:e.image[0]?e.image[0]:xt,name:e.name,key:"".concat(e.product_id,"_MyGCards"),traded:3==e.status,withR:e.offered_by.length>0&&null==e.sold_to,trading:2==e.status,nth:1==e.status&&0==e.offered_by.length,product_id:e.product_id}))}),r=this.props.myProducts.filter(function(e){return 3==e.status}).map(function(e){return o.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},o.a.createElement(Mt,{image:e.image[0]?e.image[0]:xt,name:e.name,key:"".concat(e.product_id,"_MyGCards"),traded:3==e.status,withR:e.offered_by.length>0&&null==e.sold_to,trading:2==e.status,nth:1==e.status&&0==e.offered_by.length,product_id:e.product_id}))}),n=this.props.myProducts.filter(function(e){return e.offered_by.length>0&&null==e.sold_to}).map(function(e){return o.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},o.a.createElement(Mt,{image:e.image[0]?e.image[0]:xt,name:e.name,key:"".concat(e.product_id,"_MyGCards"),traded:3==e.status,withR:e.offered_by.length>0&&null==e.sold_to,trading:2==e.status,nth:1==e.status&&0==e.offered_by.length,product_id:e.product_id}))}),s=this.props.myProducts.filter(function(e){return 2==e.status&&0==e.offered_by.length}).map(function(e){return o.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},o.a.createElement(Mt,{image:e.image[0]?e.image[0]:xt,name:e.name,key:"".concat(e.product_id,"_MyGCards"),traded:3==e.status,withR:e.offered_by.length>0&&null==e.sold_to,trading:2==e.status,nth:1==e.status&&0==e.offered_by.length,product_id:e.product_id}))}),i=function(){switch(e.state.filter){case"traded":return o.a.createElement("div",{className:"contents",style:St.outFrame.bigFrame},r);case"withR":return o.a.createElement("div",{className:"contents",style:St.outFrame.bigFrame},n);case"trading":return o.a.createElement("div",{className:"contents",style:St.outFrame.bigFrame},s);case"all":default:return o.a.createElement("div",{className:"contents",style:St.outFrame.bigFrame},a)}},l=function(t){e.props.sortProducts(t),i()};return o.a.createElement("div",Object(B.a)({className:"MyG",style:{padding:"2.5vw 2.5vw 2.5vw 2.5vw"}},"style",St.outFrame.superFrame),o.a.createElement("div",{className:"buttons",style:St.outFrame.button},o.a.createElement("div",{className:"content",style:{display:"flex",flexDirection:"row"}},o.a.createElement("div",{className:"filter",style:{display:"flex",flexDirection:"row",marginLeft:"1vw",marginRight:"1vw"}},o.a.createElement("h6",{style:{paddingTop:"0.4vw",paddingBottom:0,marginBottom:0,marginRight:"0.4vw",color:"white"}},"Filter"),o.a.createElement(t,null,o.a.createElement(R.a,{onClick:function(){e.handleFilter("all")}},"All"),o.a.createElement(R.a,{style:{backgroundColor:"rgba(4, 90, 239,0.5)",color:"white"},onClick:function(){e.handleFilter("withR")}},"With Requests"),o.a.createElement(R.a,{style:{backgroundColor:"rgba(239, 192, 4,0.5)",color:"white"},onClick:function(){e.handleFilter("trading")}},"Trading"),o.a.createElement(R.a,{style:{backgroundColor:"rgba(17, 178, 44,0.5)",color:"white"},onClick:function(){e.handleFilter("traded")}},"Traded"))),o.a.createElement("div",{className:"Order",style:{display:"flex",flexDirection:"row",marginLeft:"1vw",marginRight:"1vw"}},o.a.createElement("h6",{style:{paddingTop:"0.4vw",paddingBottom:0,marginBottom:0,marginRight:"0.4vw",color:"white"}},"Order"),o.a.createElement(t,null,o.a.createElement(R.a,{onClick:function(){l("date")}},"Date of Upload"),o.a.createElement(R.a,{onClick:function(){l("pop")}},"Popularity"))))),i())}}]),t}(n.Component),Bt=Object(j.b)(function(e){var t=e.searchReducer,a=e.userReducer;return{allProducts:t.allProducts,myProducts:t.myProducts,myUser:a.myUser}},function(e){return{setMyProducts:function(t){e(J.setMyProducts(t))},sortProducts:function(t){e(J.sortProducts(t))}}})(kt),Lt=a(48),jt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){a.props.setFProducts(a.props.myUser.user_id)},a.handleFilter=function(e){a.props.setFProducts(a.props.myUser.user_id),a.setState({filter:e})},a.state={filter:"all"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=function(){switch(e.state.filter){case"a":return o.a.createElement("div",{className:"contents",style:St.outFrame.bigFrame},n);case"na":return o.a.createElement("div",{className:"contents",style:St.outFrame.bigFrame},s);case"requested":return o.a.createElement("div",{className:"contents",style:St.outFrame.bigFrame},i);case"all":default:return o.a.createElement("div",{className:"contents",style:St.outFrame.bigFrame},r)}},a=this.props.myUser.uploaded_products,r=this.props.fProducts.map(function(e){var t=e.offered_by.some(function(e){return a.some(function(t){return t==e})});return o.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},o.a.createElement(Mt,{image:e.image[0]?e.image[0]:Lt,name:e.name,key:"".concat(e.product_id,"_MyGCards"),na:e.status>1,a:1==e.status,requested:t&&3!=e.status,product_id:e.product_id}))}),n=this.props.fProducts.filter(function(e){return 1==e.status}).map(function(e){var t=e.offered_by.some(function(e){return a.some(function(t){return t==e})});return o.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},o.a.createElement(Mt,{image:e.image[0]?e.image[0]:Lt,name:e.name,key:"".concat(e.product_id,"_FollowedGCards"),na:e.status>1,a:1==e.status,requested:t&&3!=e.status,product_id:e.product_id}))}),s=this.props.fProducts.filter(function(e){return e.status>1}).map(function(e){var t=e.offered_by.some(function(e){return a.some(function(t){return t==e})});return o.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},o.a.createElement(Mt,{image:e.image[0]?e.image[0]:Lt,name:e.name,key:"".concat(e.product_id,"_FollowedGCards"),na:e.status>1,a:1==e.status,requested:t&&3!=e.status,product_id:e.product_id}))}),i=this.props.fProducts.filter(function(e){return e.offered_by.some(function(e){return a.some(function(t){return t==e})})&&3!=e.status}).map(function(e){return o.a.createElement("div",{style:{margin:"1vw 1vw 1vw 1vw"}},o.a.createElement(Mt,{image:e.image[0]?e.image[0]:Lt,name:e.name,key:"".concat(e.product_id,"_FollowedGCards"),na:e.status>1,a:1==e.status,requested:!0,product_id:e.product_id}))}),l=function(a){e.props.sortFProducts(a),t()},c=R.a.Group;return o.a.createElement("div",Object(B.a)({className:"FollowedG",style:{padding:"2.5vw 2.5vw 2.5vw 2.5vw"}},"style",St.outFrame.superFrame),o.a.createElement("div",{className:"buttons",style:Ut.button},o.a.createElement("div",{className:"content",style:{display:"flex",flexDirection:"row"}},o.a.createElement("div",{className:"filter",style:{display:"flex",flexDirection:"row",marginLeft:"1vw",marginRight:"1vw"}},o.a.createElement("h6",{style:{paddingTop:"0.4vw",paddingBottom:0,marginBottom:0,marginRight:"0.4vw",color:"white"}},"Filter"),o.a.createElement(c,null,o.a.createElement(R.a,{onClick:function(){e.handleFilter("all")}},"All"),o.a.createElement(R.a,{style:{backgroundColor:"rgba(200,0,0,0.5)",color:"white"},onClick:function(){e.handleFilter("a")}},"Available"),o.a.createElement(R.a,{style:{backgroundColor:"rgba(30,30,30,0.5)",color:"white"},onClick:function(){e.handleFilter("na")}},"Not Available"),o.a.createElement(R.a,{style:{backgroundColor:"#20639B",color:"white"},onClick:function(){e.handleFilter("requested")}},"Requested"))),o.a.createElement("div",{className:"Order",style:{display:"flex",flexDirection:"row",marginLeft:"1vw",marginRight:"1vw"}},o.a.createElement("h6",{style:{paddingTop:"0.4vw",paddingBottom:0,marginBottom:0,marginRight:"0.4vw",color:"white"}},"Order"),o.a.createElement(c,null,o.a.createElement(R.a,{onClick:function(){l("date")}},"Date of Upload"),o.a.createElement(R.a,{onClick:function(){l("pop")}},"Popularity"))))),t())}}]),t}(n.Component),Gt=Object(j.b)(function(e){var t=e.searchReducer,a=e.userReducer;return{fProducts:t.fProducts,myUser:a.myUser}},function(e){return{setFProducts:function(t){e(J.setFProducts(t))},sortFProducts:function(t){e(J.sortFProducts(t))}}})(jt),Kt=a(490),Ht=a(168),Vt=a.n(Ht),Xt=a(118),Ft=a.n(Xt),qt={apiKey:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",authDomain:"trade-9176f.firebaseapp.com",databaseURL:"https://trade-9176f.firebaseio.com",projectId:"trade-9176f",storageBucket:"trade-9176f.appspot.com",messagingSenderId:"1045946857977"},zt=a(220).initializeApp(qt),Yt=[{value:"HK",label:"Hong Kong",children:[{value:"central",label:"Central"},{value:"admiralty",label:"Admiralty"},{value:"taiKoo",label:"Tai Koo"}]},{value:"KLN",label:"Kowloon",children:[{value:"tsimShaTsui",label:"Tsim Sha Tsui"},{value:"wongTaiSin",label:"Wong Tai Sin"}]},{value:"NT",label:"New Terroritories",children:[{value:"tsuenWan",label:"Tsuen Wan"},{value:"yuenLong",label:"Yuen Long"}]}],Qt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(){var e=Object(A.a)(_.a.mark(function e(t,r){var n,o,s,i,l,c;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=36;break}return n=a.props.previewPhotos.filter(function(e){return"fail"!=e.src}).map(function(e){return e.src}),r.tags=Object(u.a)(a.props.finishedTag),r.photos=Object(u.a)(n),console.log(r),o={name:r.productName,description:r.productDescription,expectation:r.expectation,trade_location:"".concat(r.location[0],",").concat(r.location[1]),tags:r.tags,image:r.photos},e.prev=6,a.props.loading(),e.next=10,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/product",{method:"post",data:o,withCredentials:!0});case 10:return s=e.sent,console.log(s),alert("success"),a.props.form.setFieldsValue({productName:"",productDescription:"",expectation:"",location:["HK","central"]}),e.next=16,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 16:return(i=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(i.data),a.props.updateProducts(i.data),e.next=22,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 22:return l=e.sent,a.props.storeAllUsers(l.data),e.next=26,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 26:c=e.sent,a.props.storeMyUser(c.data),a.props.loading(),a.props.handleSubmitForm(),document.querySelector("#clearImageField").setAttribute("value",""),e.next=36;break;case 33:e.prev=33,e.t0=e.catch(6),console.log(e.t0.response.data);case 36:case"end":return e.stop()}},e,this,[[6,33]])}));return function(t,a){return e.apply(this,arguments)}}())},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.handleFiles=function(e){a.props.previewPhotos.length+e.target.files.length<=6?a.props.handleFiles(e):alert("You can only upload max 6 photos per product.")},a.imgHover=function(e){"enter"==e?a.setState({imgOverlay:Ve.img.overlayHover}):a.setState({imgOverlay:Ve.img.overlay})},a.state={confirmDirty:!1,autoCompleteResult:[],imgOverlay:Ve.img.overlay},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},r=this.props.previewPhotos.map(function(t){var a;return"fail"!=t.src?o.a.createElement("div",{className:"previewBox",key:t.key,id:t.key,style:(a={display:"flex",alignItems:"center",justifyContent:"center",width:"14vw",height:"14vw",overflow:"hidden",backgroundColor:"rgba(240,240,240,0.7)"},Object(B.a)(a,"overflow","hidden"),Object(B.a)(a,"position","relative"),a)},o.a.createElement("img",Object(B.a)({src:t.src,alt:"",style:{width:"14vw",height:"14vw",objectFit:"contain"}},"style",{position:"relative"})),o.a.createElement("div",{className:"previewOverlay",style:e.state.imgOverlay,onMouseEnter:function(){e.imgHover("enter")},onMouseLeave:function(){e.imgHover("leave")}},o.a.createElement(k.a,{type:"delete",onClick:function(){e.props.handleImgDelete(t.key)}}))):o.a.createElement("div",{className:"previewBox",key:t.key,id:t.key},o.a.createElement("div",{className:"pContainer",style:{width:"14vw",height:"14vw",backgroundColor:"rgb(252, 255, 241)",overflowWrap:"break-word"}},o.a.createElement("p",{style:{color:"red",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"}},"This file exceeds 5MB limit")))});return o.a.createElement("div",{className:"Upload",style:Ve.frame},o.a.createElement("div",{className:"imgUpload",style:Ve.img.frame},o.a.createElement("div",{className:"imgBox",style:Ve.img.imgBox},r,this.props.previewPhotos.length<6&&o.a.createElement("label",{htmlFor:"clearImageField",style:Ve.img.label},o.a.createElement(k.a,{type:"upload",style:{fontSize:"2vw",paddingBottom:"0.5vw"}}),o.a.createElement("p",{style:{fontSize:"1vw"}},"Upload Photos"),o.a.createElement("input",{type:"file",multiple:!0,onChange:this.handleFiles,id:"clearImageField",style:{display:"none"}})))),o.a.createElement("div",{className:"form",style:Ve.form.frame},o.a.createElement(g.a,{onSubmit:this.handleSubmit,style:{width:"inherit",marginRight:"7vw"}},o.a.createElement(g.a.Item,Object.assign({},a,{label:"Product Name"}),t("productName",{rules:[{required:!0,message:"Please input the name of your product",whitespace:!0}]})(o.a.createElement(C.a,null))),o.a.createElement(g.a.Item,Object.assign({},a,{label:"Product Description"}),t("productDescription",{rules:[{required:!0,message:"Describe your product",whitespace:!0}]})(o.a.createElement(Vt.a,null))),o.a.createElement(g.a.Item,Object.assign({},a,{label:"Trade Location"}),t("location",{initialValue:["HK","central"],rules:[{type:"array",required:!0,message:"Select a trade location"}]})(o.a.createElement(Kt.a,{options:Yt}))),o.a.createElement(g.a.Item,Object.assign({},a,{label:"Expectation"}),t("expectation",{rules:[{required:!0,message:"List your expected products for exchange"}]})(o.a.createElement(Vt.a,null))),o.a.createElement(g.a.Item,Object.assign({},a,{label:"Tags"}),o.a.createElement(C.a,{placeholder:"Press Spacebar after finishing One Tag",onChange:this.props.handleTagChange,value:this.props.typingTag}),o.a.createElement(Ae,{tags:this.props.finishedTag,closable:!0})),o.a.createElement(g.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},o.a.createElement(R.a,{type:"primary",htmlType:"submit"},"Submit")))))}}]),t}(n.Component),Zt=g.a.create({name:"AddPhotoForm"})(Object(j.b)(function(e){var t=e.photoReducer;return{typingTag:t.typingTag,finishedTag:t.finishedTag,previewPhotos:t.previewPhotos}},function(e){return{handleTagChange:function(t){var a=t.target.value;a.indexOf(" ")==a.length-1?e(Ee.AddPhotosForm_finishedTag(a.slice(0,a.length-1))):e(Ee.AddPhotosForm_typingTag(a))},handleFiles:function(t){for(var a=[],r=0;r<t.target.files.length;r++)a.push(t.target.files[r]);a.forEach(function(t){var a=String(Ft()());if(t.size<5242880){var r=zt.storage().ref(),n="".concat(a,"-").concat(t.name),o={contentType:t.type};r.child(n).put(t,o).then(function(e){return e.ref.getDownloadURL()}).then(function(t){e(Ee.PreviewPhotos({src:t,key:a}))})}else window.alert("One or more photos exceed 5MB limit")})},handleSubmitForm:function(){e(Ee.clearForm())},storeAllProducts:function(t){e(J.storeAllProducts(t))},storeAllUsers:function(t){e(L.storeAllUsers(t))},storeMyUser:function(t){e(L.storeMyUser(t))},handleImgDelete:function(t){e(Ee.imgDelete(t))},updateProducts:function(t){return e(Y(t))},loading:function(){e(L.loading())}}})(Qt)),Jt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).stopPropagation=function(e){e.stopPropagation()},a.closeDetails=Object(A.a)(_.a.mark(function e(){var t,r,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.props.loading(),e.next=4,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProducts/");case 4:return(t=e.sent).data.forEach(function(e){e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1}),a.props.storeAllProducts(t.data),a.props.updateProducts(t.data),e.next=10,P.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/allProfile/");case 10:return r=e.sent,a.props.storeAllUsers(r.data),e.next=14,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 14:n=e.sent,a.props.storeMyUser(n.data),a.props.closeDetails(a.props.myUser.user_id),a.props.loading(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}},e,this,[[0,20]])})),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.currentProduct,t=e.details,a=e.whom,r=e.which;return o.a.createElement("div",{className:"bigCards",onClick:this.closeDetails,style:we.frame},o.a.createElement("div",{className:"content",style:we.content,onClick:this.stopPropagation},o.a.createElement(xe,{details:t[0],whom:a,status:r})))}}]),t}(n.Component),Wt=Object(j.b)(function(e){var t=e.searchReducer,a=e.userReducer;return{currentProduct:t.currentProduct,myUser:a.myUser}},function(e){return{closeDetails:function(t){e(J.setMyProducts(t)),e(J.setFProducts(t)),e(J.closeDetails())},storeAllProducts:function(t){e(J.storeAllProducts(t))},storeAllUsers:function(t){e(L.storeAllUsers(t))},storeMyUser:function(t){e(L.storeMyUser(t))},updateProducts:function(t){return e(Y(t))},loading:function(){e(L.loading())}}})(Jt),$t=a(48),ea=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){a.setState({original:a.props.myUser.profile_picture?a.props.myUser.profile_picture:$t})},a.stopPropagation=function(e){e.stopPropagation()},a.reset=function(){a.setState({new:""})},a.closePropic=function(){a.setState({new:"",updated:!1,original:""}),a.props.closePropic()},a.handleFiles=function(e){if(e.target.files.length<2){for(var t=[],r=0;r<e.target.files.length;r++)t.push(e.target.files[r]);t.forEach(function(e){var t=String(Ft()());if(e.size<5242880){a.props.loading();var r=zt.storage().ref(),n="".concat(t,"-").concat(e.name),o={contentType:e.type};r.child(n).put(e,o).then(function(e){return e.ref.getDownloadURL()}).then(function(e){a.setState({new:e}),a.props.loading()})}else alert("Your photos exceed 5MB limit")})}else alert("You can only upload one photo.")},a.submitPropic=Object(A.a)(_.a.mark(function e(){var t,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={displayed_name:null,phone_number:null,profile_picture:a.state.new},e.prev=1,a.props.loading(),e.next=5,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"put",data:t,withCredentials:!0});case 5:return e.sent,e.next=8,P()(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"AIzaSyAmQgHOpVrX5hNoBu5xklMZq8Cr345GcXE",REACT_APP_AUTH_DOMAIN:"trade-9176f.firebaseapp.com",REACT_APP_DATABASE_URL:"https://trade-9176f.firebaseio.com",REACT_APP_PROJECT_ID:"trade-9176f",REACT_APP_STORAGE_BUCKET:"trade-9176f.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"1045946857977"}).REACT_APP_BACKEND_URL+"/api/profile",{method:"get",withCredentials:!0});case 8:r=e.sent,a.props.storeMyUser(r.data),a.setState({updated:!0}),a.props.loading(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])})),a.state={new:"",updated:!1,original:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"tradeCards",style:Le.frame,onClick:this.closePropic},o.a.createElement("div",{className:"content",style:Le.content,onClick:this.stopPropagation},!this.state.updated&&o.a.createElement("div",{className:"title",style:Le.inner.titleAConfirm},o.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Change Profile Picture")),this.state.updated&&o.a.createElement("div",{className:"title",style:Le.inner.titlePConfirm},o.a.createElement("h3",{style:{paddingBottom:0,paddingLeft:"1vw",margin:0,textAlign:"center"}},"Update Success")),o.a.createElement("div",{className:"innerContent",style:Le.a.frame},o.a.createElement("div",{className:"aItems",style:Le.a.aItemsConfirm},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"Your Original Profile Picture")),o.a.createElement("img",{src:this.state.original,alt:"",style:{width:"16vw",height:"16vw",objectFit:"contain"}})),o.a.createElement("div",{className:"arrow",style:Le.a.arrow},o.a.createElement(k.a,{type:"arrow-right"})),o.a.createElement("div",{className:"aItems",style:Le.a.drop},o.a.createElement("div",{className:"title",style:{marginBottom:"3vw"}},o.a.createElement("h4",null,"New Profile Picture")),!this.state.new&&o.a.createElement("label",{htmlFor:"clearImageField",style:Ve.img.plabel},o.a.createElement(k.a,{type:"upload",style:{fontSize:"2vw",paddingBottom:"0.5vw"}}),o.a.createElement("p",{style:{fontSize:"1vw"}},"Upload Photos"),o.a.createElement("input",{type:"file",multiple:!0,onChange:this.handleFiles,id:"clearImageField",style:{display:"none"}})),this.state.new&&o.a.createElement("img",{src:this.state.new,alt:"",style:{width:"16vw",height:"16vw",objectFit:"contain"}}))),o.a.createElement("div",{className:"buttons",style:Le.inner.buttons},this.state.new&&!this.state.updated&&o.a.createElement(R.a,{type:"danger",onClick:this.reset},"Reset"),this.state.new&&!this.state.updated&&o.a.createElement(R.a,{type:"danger",onClick:this.submitPropic},"Submit"),o.a.createElement(R.a,{type:"primary",onClick:this.closePropic},"Return"))))}}]),t}(n.Component),ta=Object(j.b)(function(e){return{myUser:e.userReducer.myUser}},function(e){return{storeMyUser:function(t){e(L.storeMyUser(t))},closePropic:function(){e(je.closePropic())},loading:function(){e(L.loading())}}})(ea),aa={newMain:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gridTemplateAreas:'"a b b c c c c c c c"',backgroundColor:"black",width:"100vw",height:"93vh"},newNav:{gridArea:"a",display:"flex",justifyContent:"center",paddingTop:"6vh",backgroundColor:"rgb(80, 80, 80)",height:"inherit"},cP:{display:"none"},cP_clicked:{gridArea:"b",backgroundColor:"rgb(95, 95, 95)",height:"inherit"},mainPanel:{gridArea:"b / b / c / c",display:"flex",backgroundColor:"rgb(110, 110, 110)",height:"inherit"},mainPanel_cP_clicked:{gridArea:"c",backgroundColor:"rgb(110, 110, 110)",height:"inherit"}},ra=(a(467),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleClick=function(e){e.preventDefault(),a.setState({cPStyle:aa.cP_clicked,mPStyle:aa.mainPanel_cP_clicked})},a.state={cPStyle:aa.cP,mPStyle:aa.mainPanel},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nav,a=e.currentProduct,r=e.currentTrade,n=e.propic,s=e.otherUser;return console.log(s),o.a.createElement("div",{className:"newMain",style:aa.newMain},o.a.createElement("div",{className:"newNav",style:aa.newNav},o.a.createElement(Ot,{handleClick:this.handleClick})),o.a.createElement("div",{className:"controlPanel",style:this.state.cPStyle},o.a.createElement("p",null,"cP")),o.a.createElement("div",{className:"mainPanel",style:this.state.mPStyle},t.MyProf&&o.a.createElement(Dt,null),t.MyG&&o.a.createElement(Bt,null),t.FollowedG&&o.a.createElement(Gt,null),t.Upload&&o.a.createElement(Zt,null),a.details&&o.a.createElement(Wt,null),r.details&&o.a.createElement(He,{out:!1}),n&&o.a.createElement(ta,null),null!==s&&o.a.createElement(Ye,{out:!1})))}}]),t}(n.Component)),na=Object(j.b)(function(e){var t=e.newUserReducer,a=e.searchReducer,r=e.tradeReducer,n=e.userReducer;return{nav:t.nav,currentProduct:a.currentProduct,currentTrade:r.currentTrade,otherUser:n.otherUser,propic:t.propic}},function(e){return{}})(ra),oa=(a(468),a(491)),sa=a(492),ia=a(481),la=a(107),ca=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(oa.a,null,o.a.createElement("div",null,o.a.createElement(re,null),o.a.createElement("div",{style:{paddingTop:"7vh"}},this.props.loading&&o.a.createElement("div",{className:"loading",style:{width:"100vw",height:"93vh",position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999999999,backgroundColor:"rgba(200,200,200,0.5)"}},o.a.createElement("img",{src:la,alt:"loading"})),o.a.createElement(sa.a,null,o.a.createElement(ia.a,{exact:!0,path:"/",component:Ze}),this.props.myUser.user_id&&o.a.createElement(ia.a,{path:"/userPage",component:na}),o.a.createElement(ia.a,{path:"/verifyEmail/:id",component:We}),o.a.createElement(ia.a,{path:"/redirect",component:et}),o.a.createElement(ia.a,{path:"*",component:Je})))))}}]),t}(n.Component),da=Object(j.b)(function(e){var t=e.userReducer;return{myUser:t.myUser,loading:t.loading}},function(e){return{}})(ca);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pa=a(92),ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{details:[],uploadedPhotos:[],previewPhotos:[],inputVisible:!1,inputValue:"",inputConfirm:"",typingTag:"",finishedTag:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDPHOTOS_DETAILS":return Object(ne.a)({},e,{details:Object(u.a)(t.details)});case"UPLOADPHOTOS":return Object(ne.a)({},e,{uploadedPhotos:Object(u.a)(t.uploadedPhotos)});case"PREVIEWPHOTOS":return t.previewPhotos.src,Object(ne.a)({},e,{previewPhotos:[].concat(Object(u.a)(e.previewPhotos),[t.previewPhotos])});case"ADDPHOTOSFORM_TYPINGTAG":return Object(ne.a)({},e,{typingTag:t.typingTag});case"ADDPHOTOSFORM_FINISHEDTAG":return t.finishedTag?e.finishedTag.some(function(e){return e==t.finishedTag})?Object(ne.a)({},e,{finishedTag:e.finishedTag,typingTag:""}):Object(ne.a)({},e,{finishedTag:[].concat(Object(u.a)(e.finishedTag),[t.finishedTag]),typingTag:""}):Object(ne.a)({},e,{finishedTag:e.finishedTag,typingTag:""});case"ADDPHOTOSFORM_DELETETAG":var a=e.finishedTag.filter(function(e){return e!=t.deleteTag});return Object(ne.a)({},e,{finishedTag:a});case"CLEAR_FORM":return Object(ne.a)({},e,{previewPhotos:[],finishedTag:[],uploadedPhotos:[]});case"IMG_DEL":return Object(ne.a)({},e,{previewPhotos:e.previewPhotos.filter(function(e){return e.key!==t.key})});default:return e}},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[],result:"",users:[],comment:"",openMGModal:!1,openFPModal:!1,openSQModal:!1,openRQModal:!1,openUploadModal:!1,otherUser:null,myUser:{},allUsers:[],allComments:[],loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":switch(t.column){case"MG":return Object(ne.a)({},e,{openMGModal:!e.openMGModal});case"FP":return Object(ne.a)({},e,{openFPModal:!e.openFPModal});case"SQ":return Object(ne.a)({},e,{openSQModal:!e.openSQModal});case"RQ":return Object(ne.a)({},e,{openRQModal:!e.openRQModal});default:return e}case"FETCH_PRODUCTS":return Object(ne.a)({},e,{products:t.products});case"SAVE_SEARCH":return Object(ne.a)({},e,{result:t.result});case"STORE_USERS":var a=t.users;return Object(ne.a)({},e,{users:Object(u.a)(a)});case"OPEN_UPLOADMODAL":return Object(ne.a)({},e,{openUploadModal:!e.openUploadModal});case"SHOW_OTHERUSER":return Object(ne.a)({},e,{otherUser:t.otherUser});case"SET_COMMENT":return Object(ne.a)({},e,{comment:t.comment});case"SUBMIT_COMMENT":return Object(ne.a)({},e,{comment:""});case"STORE_MYUSER":return Object(ne.a)({},e,{myUser:t.myUser});case"STORE_ALLUSERS":return Object(ne.a)({},e,{allUsers:t.allUsers});case"STORE_ALLCOMMENTS":if(e.allComments.some(function(e){return e.product_id==t.product_id})){var r=e.allComments.filter(function(e){return e.product_id==t.product_id}).map(function(e){return e.comments=t.comments,e});return Object(ne.a)({},e,{allComments:Object(u.a)(r)})}var n={product_id:t.product_id,comments:t.comments};return Object(ne.a)({},e,{allComments:[].concat(Object(u.a)(e.allComments),[n])});case"DEL_MYUSER":return Object(ne.a)({},e,{myUser:{}});case"CLOSE_OTHERUSER":return Object(ne.a)({},e,{otherUser:null});case"SET_TRADE_HISTORY":return Object(ne.a)({},e,{history:t.history});case"LOADING":return Object(ne.a)({},e,{loading:!e.loading});default:return e}},Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{search:"",submit:"",allProducts:[],myProducts:[],fProducts:[],currentProduct:{},currentOutProduct:{},reqError:!1,copyState:{productsArr:[],filterArr:[],showArr:[],remainShowingBatch:0,showingBatch:0,hasmore:!0},refresh:1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_SEARCH":return Object(ne.a)({},e,{search:t.search});case"SUBMIT_SEARCH":var a=e.search;return Object(ne.a)({},e,{submit:a,search:""});case"CLEAR_SEARCH":return Object(ne.a)({},e,{submit:"",search:""});case"STORE_ALL_PRODUCTS":var r=Object(u.a)(t.allProducts).sort(function(e,t){return new Date(t.uploaded_at)-new Date(e.uploaded_at)});return Object(ne.a)({},e,{allProducts:r});case"OPEN_ONE_MODAL":var n=e.allProducts.map(function(e){return e.product_id==t.id?(1==e.openOneModal?(e.openOneModal=!1,e.openOGModal=!1,e.openMyGoodModal=!1,e.openDELModal=!1):e.openOneModal=!0,e):e});return Object(ne.a)({},e,{allProducts:n});case"OPEN_OG_MODAL":var o=e.allProducts.map(function(e){return e.product_id==t.ogID?(e.openOGModal=!e.openOGModal,e):e});return Object(ne.a)({},e,{allProducts:o});case"OPEN_DEL_MODAL":var s=e.allProducts.map(function(e){return e.product_id==t.delID?(e.openDELModal=!e.openDELModal,e):e});return Object(ne.a)({},e,{allProducts:s});case"OPEN_MYGOOD_MODAL":var i=e.allProducts.map(function(e){return e.product_id==t.mgID?(e.openMyGoodModal=!e.openMyGoodModal,e):e});return Object(ne.a)({},e,{allProducts:i});case"SET_MY_PRODUCTS":return Object(ne.a)({},e,{myProducts:e.allProducts.filter(function(e){return e.uploaded_by==t.id})});case"FILTER_MY_PRODUCTS":return Object(ne.a)({},e,{myProducts:e.myProducts.filter(function(e){return e.product_id!==t.id})});case"SET_F_PRODUCTS":return Object(ne.a)({},e,{fProducts:e.allProducts.filter(function(e){return e.liked_by.some(function(e){return e==t.id})})});case"SORT_FPRODUCTS":if("date"==t.sort)return Object(ne.a)({},e,{myProducts:Object(u.a)(e.fProducts).sort(function(e,t){return new Date(t.uploaded_at)-new Date(e.uploaded_at)})});if("pop"==t.sort)return Object(ne.a)({},e,{myProducts:Object(u.a)(e.fProducts).sort(function(e,t){return t.liked_by.length-e.liked_by.length})});case"SORT_PRODUCTS":if("date"==t.sort)return Object(ne.a)({},e,{myProducts:Object(u.a)(e.myProducts).sort(function(e,t){return new Date(t.uploaded_at)-new Date(e.uploaded_at)})});if("pop"==t.sort)return Object(ne.a)({},e,{myProducts:Object(u.a)(e.myProducts).sort(function(e,t){return t.liked_by.length-e.liked_by.length})});case"OPEN_DETAILS":var l=e.allProducts.filter(function(e){return e.product_id==t.id});return Object(ne.a)({},e,{currentProduct:{details:l,whom:t.whom,which:t.which}});case"OPEN_OUTDETAILS":var c=e.allProducts.filter(function(e){return e.product_id==t.id});return Object(ne.a)({},e,{currentOutProduct:{details:c,whom:t.whom,which:t.which}});case"CLOSE_DETAILS":return Object(ne.a)({},e,{currentProduct:{}});case"CLOSE_OUTDETAILS":return Object(ne.a)({},e,{currentOutProduct:{}});case"SET_COPYSTATE":return Object(ne.a)({},e,{copyState:t.copyState});case"REFRESH":return Object(ne.a)({},e,{refresh:e.refresh+1});default:return e}},_a={hello:" Welcome to the Example Store",productsArr:[],isLogin:!1,searchArr:[],searchKey:[],tryLogin:!1,tryReg:!1};var Aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a,t=arguments.length>1?arguments[1]:void 0;if(t.type===V){var a=Object(ne.a)({},e);return a.productsArr=t.payload.sort(function(e,t){return new Date(t.uploaded_at)-new Date(e.uploaded_at)}),a.searchArr=t.payload.sort(function(e,t){return new Date(t.uploaded_at)-new Date(e.uploaded_at)}),a}if(t.type===X){var r=Object(ne.a)({},e);return r.searchArr=t.payload.sort(function(e,t){return new Date(t.uploaded_at)-new Date(e.uploaded_at)}),r}if(t.type===F){var n=Object(ne.a)({},e);return n.searchKey=t.payload,n}if(t.type===z){var o=Object(ne.a)({},e);return o.tryLogin=!o.tryLogin,o}if(t.type===q){var s=Object(ne.a)({},e);return s.tryReg=!s.tryReg,s}return e},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{openMyGoodModal:!1,openOGModal:!1,selected:"",currentTrade:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MYGOOD_MODAL":return Object(ne.a)({},e,{openMyGoodModal:!e.openMyGoodModal});case"SELECT_MYGOOD":return Object(ne.a)({},e,{selected:t.selected});case"CLEAR_SELECT":return Object(ne.a)({},e,{selected:""});case"OPEN_TRADECARDS":return Object(ne.a)({},e,{currentTrade:t.currentTrade});case"CLOSE_TRADECARDS":return Object(ne.a)({},e,{currentTrade:{}});default:return e}},ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nav:{MyProf:!0,MyG:!1,FollowedG:!1,Upload:!1},imgHover:!1,propic:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NAV":var a=Object.assign({},e.nav);for(var r in a)r==t.tag?a[r]=!0:a[r]=!1;return Object(ne.a)({},e,{nav:a});case"IMG_HOVER":return Object(ne.a)({},e,{imgHover:!e.imgHover});case"UPDATE_PROPIC":return Object(ne.a)({},e,{propic:!0});case"CLOSE_PROPIC":return Object(ne.a)({},e,{propic:!1});default:return e}};a(470);a(471).config();var Pa=Object(pa.b)({photoReducer:ma,userReducer:ua,searchReducer:Ea,roootReducer:Aa,tradeReducer:fa,newUserReducer:ha}),ga=Object(pa.c)(Pa);i.a.render(o.a.createElement(j.a,{store:ga},o.a.createElement(da,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},48:function(e,t,a){e.exports=a.p+"static/media/replaceNoImg.0c094ed4.gif"},62:function(e,t,a){e.exports=a.p+"static/media/error404.9c11c6e7.gif"}},[[225,2,1]]]);
//# sourceMappingURL=main.c579f7ec.chunk.js.map